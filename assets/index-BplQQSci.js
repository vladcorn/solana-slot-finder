var Al=Object.defineProperty;var Il=(n,e,t)=>e in n?Al(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var At=(n,e,t)=>Il(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function $t(){}function Zt(n,e){for(const t in e)n[t]=e[t];return n}function Lc(n){return n()}function Va(){return Object.create(null)}function Cn(n){n.forEach(Lc)}function Ji(n){return typeof n=="function"}function kn(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function Ml(n){return Object.keys(n).length===0}function Nc(n,...e){if(n==null){for(const r of e)r(void 0);return $t}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function sa(n,e,t){n.$$.on_destroy.push(Nc(e,t))}function ui(n,e,t,r){if(n){const s=Oc(n,e,t,r);return n[0](s)}}function Oc(n,e,t,r){return n[1]&&r?Zt(t.ctx.slice(),n[1](r(e))):t.ctx}function li(n,e,t,r){if(n[2]&&r){const s=n[2](r(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function fi(n,e,t,r,s,i){if(s){const o=Oc(e,t,r,i);n.p(o,s)}}function di(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function Xi(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function In(n,e){const t={};e=new Set(e);for(const r in n)!e.has(r)&&r[0]!=="$"&&(t[r]=n[r]);return t}function Uc(n){return n&&Ji(n.destroy)?n.destroy:$t}function Ce(n,e){n.appendChild(e)}function Tt(n,e,t){n.insertBefore(e,t||null)}function Mt(n){n.parentNode&&n.parentNode.removeChild(n)}function We(n){return document.createElement(n)}function Ln(n){return document.createTextNode(n)}function Nt(){return Ln(" ")}function Ts(){return Ln("")}function Le(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function Qe(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const Rl=["width","height"];function Ri(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const r in e)e[r]==null?n.removeAttribute(r):r==="style"?n.style.cssText=e[r]:r==="__value"?n.value=n[r]=e[r]:t[r]&&t[r].set&&Rl.indexOf(r)===-1?n[r]=e[r]:Qe(n,r,e[r])}function Tl(n,e){Object.keys(e).forEach(t=>{Cl(n,t,e[t])})}function Cl(n,e,t){const r=e.toLowerCase();r in n?n[r]=typeof n[r]=="boolean"&&t===""?!0:t:e in n?n[e]=typeof n[e]=="boolean"&&t===""?!0:t:Qe(n,e,t)}function hs(n){return/-/.test(n)?Tl:Ri}function Ll(n){return Array.from(n.childNodes)}function Nl(n,e){e=""+e,n.data!==e&&(n.data=e)}function Ha(n,e){n.value=e??""}function en(n,e,t,r){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function En(n,e,t){n.classList.toggle(e,!!t)}function Ol(n,e,{bubbles:t=!1,cancelable:r=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:r})}let Ti;function Mi(n){Ti=n}function Ul(){if(!Ti)throw new Error("Function called outside component initialization");return Ti}function Fl(){const n=Ul();return(e,t,{cancelable:r=!1}={})=>{const s=n.$$.callbacks[e];if(s){const i=Ol(e,t,{cancelable:r});return s.slice().forEach(o=>{o.call(n,i)}),!i.defaultPrevented}return!0}}function Te(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const qr=[],gn=[];let Wr=[];const Fo=[],Pl=Promise.resolve();let Po=!1;function zl(){Po||(Po=!0,Pl.then(Fc))}function zo(n){Wr.push(n)}function Cr(n){Fo.push(n)}const po=new Set;let Lr=0;function Fc(){if(Lr!==0)return;const n=Ti;do{try{for(;Lr<qr.length;){const e=qr[Lr];Lr++,Mi(e),Dl(e.$$)}}catch(e){throw qr.length=0,Lr=0,e}for(Mi(null),qr.length=0,Lr=0;gn.length;)gn.pop()();for(let e=0;e<Wr.length;e+=1){const t=Wr[e];po.has(t)||(po.add(t),t())}Wr.length=0}while(qr.length);for(;Fo.length;)Fo.pop()();Po=!1,po.clear(),Mi(n)}function Dl(n){if(n.fragment!==null){n.update(),Cn(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(zo)}}function ql(n){const e=[],t=[];Wr.forEach(r=>n.indexOf(r)===-1?e.push(r):t.push(r)),t.forEach(r=>r()),Wr=e}const fs=new Set;let br;function oa(){br={r:0,c:[],p:br}}function aa(){br.r||Cn(br.c),br=br.p}function Ue(n,e){n&&n.i&&(fs.delete(n),n.i(e))}function ze(n,e,t,r){if(n&&n.o){if(fs.has(n))return;fs.add(n),br.c.push(()=>{fs.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}function hi(n,e){const t={},r={},s={$$scope:1};let i=n.length;for(;i--;){const o=n[i],a=e[i];if(a){for(const u in o)u in a||(r[u]=1);for(const u in a)s[u]||(t[u]=a[u],s[u]=1);n[i]=a}else for(const u in o)s[u]=1}for(const o in r)o in t||(t[o]=void 0);return t}function Pc(n){return typeof n=="object"&&n!==null?n:{}}function Nr(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function Dt(n){n&&n.c()}function Ct(n,e,t){const{fragment:r,after_update:s}=n.$$;r&&r.m(e,t),zo(()=>{const i=n.$$.on_mount.map(Lc).filter(Ji);n.$$.on_destroy?n.$$.on_destroy.push(...i):Cn(i),n.$$.on_mount=[]}),s.forEach(zo)}function Lt(n,e){const t=n.$$;t.fragment!==null&&(ql(t.after_update),Cn(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function jl(n,e){n.$$.dirty[0]===-1&&(qr.push(n),zl(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function pr(n,e,t,r,s,i,o=null,a=[-1]){const u=Ti;Mi(n);const p=n.$$={fragment:null,ctx:[],props:i,update:$t,not_equal:s,bound:Va(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Va(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};o&&o(p.root);let m=!1;if(p.ctx=t?t(n,e.props||{},(b,I,...M)=>{const T=M.length?M[0]:I;return p.ctx&&s(p.ctx[b],p.ctx[b]=T)&&(!p.skip_bound&&p.bound[b]&&p.bound[b](T),m&&jl(n,b)),I}):[],p.update(),m=!0,Cn(p.before_update),p.fragment=r?r(p.ctx):!1,e.target){if(e.hydrate){const b=Ll(e.target);p.fragment&&p.fragment.l(b),b.forEach(Mt)}else p.fragment&&p.fragment.c();e.intro&&Ue(n.$$.fragment),Ct(n,e.target,e.anchor),Fc()}Mi(u)}class mr{constructor(){At(this,"$$");At(this,"$$set")}$destroy(){Lt(this,1),this.$destroy=$t}$on(e,t){if(!Ji(t))return $t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!Ml(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const $l="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add($l);var vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ca(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var xe={},Ls={};Ls.byteLength=Hl;Ls.toByteArray=Wl;Ls.fromByteArray=Jl;var Bn=[],cn=[],Zl=typeof Uint8Array<"u"?Uint8Array:Array,mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Or=0,Vl=mo.length;Or<Vl;++Or)Bn[Or]=mo[Or],cn[mo.charCodeAt(Or)]=Or;cn[45]=62;cn[95]=63;function zc(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function Hl(n){var e=zc(n),t=e[0],r=e[1];return(t+r)*3/4-r}function Kl(n,e,t){return(e+t)*3/4-t}function Wl(n){var e,t=zc(n),r=t[0],s=t[1],i=new Zl(Kl(n,r,s)),o=0,a=s>0?r-4:r,u;for(u=0;u<a;u+=4)e=cn[n.charCodeAt(u)]<<18|cn[n.charCodeAt(u+1)]<<12|cn[n.charCodeAt(u+2)]<<6|cn[n.charCodeAt(u+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=cn[n.charCodeAt(u)]<<2|cn[n.charCodeAt(u+1)]>>4,i[o++]=e&255),s===1&&(e=cn[n.charCodeAt(u)]<<10|cn[n.charCodeAt(u+1)]<<4|cn[n.charCodeAt(u+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function Gl(n){return Bn[n>>18&63]+Bn[n>>12&63]+Bn[n>>6&63]+Bn[n&63]}function Yl(n,e,t){for(var r,s=[],i=e;i<t;i+=3)r=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(n[i+2]&255),s.push(Gl(r));return s.join("")}function Jl(n){for(var e,t=n.length,r=t%3,s=[],i=16383,o=0,a=t-r;o<a;o+=i)s.push(Yl(n,o,o+i>a?a:o+i));return r===1?(e=n[t-1],s.push(Bn[e>>2]+Bn[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],s.push(Bn[e>>10]+Bn[e>>4&63]+Bn[e<<2&63]+"=")),s.join("")}var ua={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ua.read=function(n,e,t,r,s){var i,o,a=s*8-r-1,u=(1<<a)-1,p=u>>1,m=-7,b=t?s-1:0,I=t?-1:1,M=n[e+b];for(b+=I,i=M&(1<<-m)-1,M>>=-m,m+=a;m>0;i=i*256+n[e+b],b+=I,m-=8);for(o=i&(1<<-m)-1,i>>=-m,m+=r;m>0;o=o*256+n[e+b],b+=I,m-=8);if(i===0)i=1-p;else{if(i===u)return o?NaN:(M?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-p}return(M?-1:1)*o*Math.pow(2,i-r)};ua.write=function(n,e,t,r,s,i){var o,a,u,p=i*8-s-1,m=(1<<p)-1,b=m>>1,I=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=r?0:i-1,T=r?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=m):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+b>=1?e+=I/u:e+=I*Math.pow(2,1-b),e*u>=2&&(o++,u/=2),o+b>=m?(a=0,o=m):o+b>=1?(a=(e*u-1)*Math.pow(2,s),o=o+b):(a=e*Math.pow(2,b-1)*Math.pow(2,s),o=0));s>=8;n[t+M]=a&255,M+=T,a/=256,s-=8);for(o=o<<s|a,p+=s;p>0;n[t+M]=o&255,M+=T,o/=256,p-=8);n[t+M-T]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=Ls,t=ua,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=P,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const v=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(v,l),v.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(v){if(v>s)throw new RangeError('The value "'+v+'" is invalid for option "size"');const l=new Uint8Array(v);return Object.setPrototypeOf(l,a.prototype),l}function a(v,l,d){if(typeof v=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(v)}return u(v,l,d)}a.poolSize=8192;function u(v,l,d){if(typeof v=="string")return I(v,l);if(ArrayBuffer.isView(v))return T(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(ut(v,ArrayBuffer)||v&&ut(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ut(v,SharedArrayBuffer)||v&&ut(v.buffer,SharedArrayBuffer)))return A(v,l,d);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=v.valueOf&&v.valueOf();if(k!=null&&k!==v)return a.from(k,l,d);const C=x(v);if(C)return C;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return a.from(v[Symbol.toPrimitive]("string"),l,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}a.from=function(v,l,d){return u(v,l,d)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function p(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function m(v,l,d){return p(v),v<=0?o(v):l!==void 0?typeof d=="string"?o(v).fill(l,d):o(v).fill(l):o(v)}a.alloc=function(v,l,d){return m(v,l,d)};function b(v){return p(v),o(v<0?0:L(v)|0)}a.allocUnsafe=function(v){return b(v)},a.allocUnsafeSlow=function(v){return b(v)};function I(v,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const d=O(v,l)|0;let k=o(d);const C=k.write(v,l);return C!==d&&(k=k.slice(0,C)),k}function M(v){const l=v.length<0?0:L(v.length)|0,d=o(l);for(let k=0;k<l;k+=1)d[k]=v[k]&255;return d}function T(v){if(ut(v,Uint8Array)){const l=new Uint8Array(v);return A(l.buffer,l.byteOffset,l.byteLength)}return M(v)}function A(v,l,d){if(l<0||v.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<l+(d||0))throw new RangeError('"length" is outside of buffer bounds');let k;return l===void 0&&d===void 0?k=new Uint8Array(v):d===void 0?k=new Uint8Array(v,l):k=new Uint8Array(v,l,d),Object.setPrototypeOf(k,a.prototype),k}function x(v){if(a.isBuffer(v)){const l=L(v.length)|0,d=o(l);return d.length===0||v.copy(d,0,0,l),d}if(v.length!==void 0)return typeof v.length!="number"||qe(v.length)?o(0):M(v);if(v.type==="Buffer"&&Array.isArray(v.data))return M(v.data)}function L(v){if(v>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return v|0}function P(v){return+v!=v&&(v=0),a.alloc(+v)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,d){if(ut(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),ut(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(l)||!a.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===d)return 0;let k=l.length,C=d.length;for(let N=0,z=Math.min(k,C);N<z;++N)if(l[N]!==d[N]){k=l[N],C=d[N];break}return k<C?-1:C<k?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,d){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let k;if(d===void 0)for(d=0,k=0;k<l.length;++k)d+=l[k].length;const C=a.allocUnsafe(d);let N=0;for(k=0;k<l.length;++k){let z=l[k];if(ut(z,Uint8Array))N+z.length>C.length?(a.isBuffer(z)||(z=a.from(z)),z.copy(C,N)):Uint8Array.prototype.set.call(C,z,N);else if(a.isBuffer(z))z.copy(C,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=z.length}return C};function O(v,l){if(a.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||ut(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);const d=v.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&d===0)return 0;let C=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return je(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return $e(v).length;default:if(C)return k?-1:je(v).length;l=(""+l).toLowerCase(),C=!0}}a.byteLength=O;function j(v,l,d){let k=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,l>>>=0,d<=l))return"";for(v||(v="utf8");;)switch(v){case"hex":return B(this,l,d);case"utf8":case"utf-8":return c(this,l,d);case"ascii":return y(this,l,d);case"latin1":case"binary":return w(this,l,d);case"base64":return E(this,l,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,l,d);default:if(k)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),k=!0}}a.prototype._isBuffer=!0;function V(v,l,d){const k=v[l];v[l]=v[d],v[d]=k}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let d=0;d<l;d+=2)V(this,d,d+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let d=0;d<l;d+=4)V(this,d,d+3),V(this,d+1,d+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let d=0;d<l;d+=8)V(this,d,d+7),V(this,d+1,d+6),V(this,d+2,d+5),V(this,d+3,d+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?c(this,0,l):j.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const d=n.INSPECT_MAX_BYTES;return l=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(l+=" ... "),"<Buffer "+l+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(l,d,k,C,N){if(ut(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(d===void 0&&(d=0),k===void 0&&(k=l?l.length:0),C===void 0&&(C=0),N===void 0&&(N=this.length),d<0||k>l.length||C<0||N>this.length)throw new RangeError("out of range index");if(C>=N&&d>=k)return 0;if(C>=N)return-1;if(d>=k)return 1;if(d>>>=0,k>>>=0,C>>>=0,N>>>=0,this===l)return 0;let z=N-C,Ae=k-d;const _e=Math.min(z,Ae),be=this.slice(C,N),Ye=l.slice(d,k);for(let me=0;me<_e;++me)if(be[me]!==Ye[me]){z=be[me],Ae=Ye[me];break}return z<Ae?-1:Ae<z?1:0};function W(v,l,d,k,C){if(v.length===0)return-1;if(typeof d=="string"?(k=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,qe(d)&&(d=C?0:v.length-1),d<0&&(d=v.length+d),d>=v.length){if(C)return-1;d=v.length-1}else if(d<0)if(C)d=0;else return-1;if(typeof l=="string"&&(l=a.from(l,k)),a.isBuffer(l))return l.length===0?-1:H(v,l,d,k,C);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?C?Uint8Array.prototype.indexOf.call(v,l,d):Uint8Array.prototype.lastIndexOf.call(v,l,d):H(v,[l],d,k,C);throw new TypeError("val must be string, number or Buffer")}function H(v,l,d,k,C){let N=1,z=v.length,Ae=l.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(v.length<2||l.length<2)return-1;N=2,z/=2,Ae/=2,d/=2}function _e(Ye,me){return N===1?Ye[me]:Ye.readUInt16BE(me*N)}let be;if(C){let Ye=-1;for(be=d;be<z;be++)if(_e(v,be)===_e(l,Ye===-1?0:be-Ye)){if(Ye===-1&&(Ye=be),be-Ye+1===Ae)return Ye*N}else Ye!==-1&&(be-=be-Ye),Ye=-1}else for(d+Ae>z&&(d=z-Ae),be=d;be>=0;be--){let Ye=!0;for(let me=0;me<Ae;me++)if(_e(v,be+me)!==_e(l,me)){Ye=!1;break}if(Ye)return be}return-1}a.prototype.includes=function(l,d,k){return this.indexOf(l,d,k)!==-1},a.prototype.indexOf=function(l,d,k){return W(this,l,d,k,!0)},a.prototype.lastIndexOf=function(l,d,k){return W(this,l,d,k,!1)};function ee(v,l,d,k){d=Number(d)||0;const C=v.length-d;k?(k=Number(k),k>C&&(k=C)):k=C;const N=l.length;k>N/2&&(k=N/2);let z;for(z=0;z<k;++z){const Ae=parseInt(l.substr(z*2,2),16);if(qe(Ae))return z;v[d+z]=Ae}return z}function q(v,l,d,k){return Pe(je(l,v.length-d),v,d,k)}function Be(v,l,d,k){return Pe(Ke(l),v,d,k)}function re(v,l,d,k){return Pe($e(l),v,d,k)}function D(v,l,d,k){return Pe(Pn(l,v.length-d),v,d,k)}a.prototype.write=function(l,d,k,C){if(d===void 0)C="utf8",k=this.length,d=0;else if(k===void 0&&typeof d=="string")C=d,k=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(k)?(k=k>>>0,C===void 0&&(C="utf8")):(C=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const N=this.length-d;if((k===void 0||k>N)&&(k=N),l.length>0&&(k<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let z=!1;for(;;)switch(C){case"hex":return ee(this,l,d,k);case"utf8":case"utf-8":return q(this,l,d,k);case"ascii":case"latin1":case"binary":return Be(this,l,d,k);case"base64":return re(this,l,d,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,l,d,k);default:if(z)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),z=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(v,l,d){return l===0&&d===v.length?e.fromByteArray(v):e.fromByteArray(v.slice(l,d))}function c(v,l,d){d=Math.min(v.length,d);const k=[];let C=l;for(;C<d;){const N=v[C];let z=null,Ae=N>239?4:N>223?3:N>191?2:1;if(C+Ae<=d){let _e,be,Ye,me;switch(Ae){case 1:N<128&&(z=N);break;case 2:_e=v[C+1],(_e&192)===128&&(me=(N&31)<<6|_e&63,me>127&&(z=me));break;case 3:_e=v[C+1],be=v[C+2],(_e&192)===128&&(be&192)===128&&(me=(N&15)<<12|(_e&63)<<6|be&63,me>2047&&(me<55296||me>57343)&&(z=me));break;case 4:_e=v[C+1],be=v[C+2],Ye=v[C+3],(_e&192)===128&&(be&192)===128&&(Ye&192)===128&&(me=(N&15)<<18|(_e&63)<<12|(be&63)<<6|Ye&63,me>65535&&me<1114112&&(z=me))}}z===null?(z=65533,Ae=1):z>65535&&(z-=65536,k.push(z>>>10&1023|55296),z=56320|z&1023),k.push(z),C+=Ae}return g(k)}const h=4096;function g(v){const l=v.length;if(l<=h)return String.fromCharCode.apply(String,v);let d="",k=0;for(;k<l;)d+=String.fromCharCode.apply(String,v.slice(k,k+=h));return d}function y(v,l,d){let k="";d=Math.min(v.length,d);for(let C=l;C<d;++C)k+=String.fromCharCode(v[C]&127);return k}function w(v,l,d){let k="";d=Math.min(v.length,d);for(let C=l;C<d;++C)k+=String.fromCharCode(v[C]);return k}function B(v,l,d){const k=v.length;(!l||l<0)&&(l=0),(!d||d<0||d>k)&&(d=k);let C="";for(let N=l;N<d;++N)C+=Ve[v[N]];return C}function R(v,l,d){const k=v.slice(l,d);let C="";for(let N=0;N<k.length-1;N+=2)C+=String.fromCharCode(k[N]+k[N+1]*256);return C}a.prototype.slice=function(l,d){const k=this.length;l=~~l,d=d===void 0?k:~~d,l<0?(l+=k,l<0&&(l=0)):l>k&&(l=k),d<0?(d+=k,d<0&&(d=0)):d>k&&(d=k),d<l&&(d=l);const C=this.subarray(l,d);return Object.setPrototypeOf(C,a.prototype),C};function _(v,l,d){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+l>d)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,d,k){l=l>>>0,d=d>>>0,k||_(l,d,this.length);let C=this[l],N=1,z=0;for(;++z<d&&(N*=256);)C+=this[l+z]*N;return C},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,d,k){l=l>>>0,d=d>>>0,k||_(l,d,this.length);let C=this[l+--d],N=1;for(;d>0&&(N*=256);)C+=this[l+--d]*N;return C},a.prototype.readUint8=a.prototype.readUInt8=function(l,d){return l=l>>>0,d||_(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,d){return l=l>>>0,d||_(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,d){return l=l>>>0,d||_(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,d){return l=l>>>0,d||_(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,d){return l=l>>>0,d||_(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=Ft(function(l){l=l>>>0,Xe(l,"offset");const d=this[l],k=this[l+7];(d===void 0||k===void 0)&&G(l,this.length-8);const C=d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,N=this[++l]+this[++l]*2**8+this[++l]*2**16+k*2**24;return BigInt(C)+(BigInt(N)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ft(function(l){l=l>>>0,Xe(l,"offset");const d=this[l],k=this[l+7];(d===void 0||k===void 0)&&G(l,this.length-8);const C=d*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],N=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+k;return(BigInt(C)<<BigInt(32))+BigInt(N)}),a.prototype.readIntLE=function(l,d,k){l=l>>>0,d=d>>>0,k||_(l,d,this.length);let C=this[l],N=1,z=0;for(;++z<d&&(N*=256);)C+=this[l+z]*N;return N*=128,C>=N&&(C-=Math.pow(2,8*d)),C},a.prototype.readIntBE=function(l,d,k){l=l>>>0,d=d>>>0,k||_(l,d,this.length);let C=d,N=1,z=this[l+--C];for(;C>0&&(N*=256);)z+=this[l+--C]*N;return N*=128,z>=N&&(z-=Math.pow(2,8*d)),z},a.prototype.readInt8=function(l,d){return l=l>>>0,d||_(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,d){l=l>>>0,d||_(l,2,this.length);const k=this[l]|this[l+1]<<8;return k&32768?k|4294901760:k},a.prototype.readInt16BE=function(l,d){l=l>>>0,d||_(l,2,this.length);const k=this[l+1]|this[l]<<8;return k&32768?k|4294901760:k},a.prototype.readInt32LE=function(l,d){return l=l>>>0,d||_(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,d){return l=l>>>0,d||_(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=Ft(function(l){l=l>>>0,Xe(l,"offset");const d=this[l],k=this[l+7];(d===void 0||k===void 0)&&G(l,this.length-8);const C=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(k<<24);return(BigInt(C)<<BigInt(32))+BigInt(d+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=Ft(function(l){l=l>>>0,Xe(l,"offset");const d=this[l],k=this[l+7];(d===void 0||k===void 0)&&G(l,this.length-8);const C=(d<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(C)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+k)}),a.prototype.readFloatLE=function(l,d){return l=l>>>0,d||_(l,4,this.length),t.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,d){return l=l>>>0,d||_(l,4,this.length),t.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,d){return l=l>>>0,d||_(l,8,this.length),t.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,d){return l=l>>>0,d||_(l,8,this.length),t.read(this,l,!1,52,8)};function f(v,l,d,k,C,N){if(!a.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>C||l<N)throw new RangeError('"value" argument is out of bounds');if(d+k>v.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,d,k,C){if(l=+l,d=d>>>0,k=k>>>0,!C){const Ae=Math.pow(2,8*k)-1;f(this,l,d,k,Ae,0)}let N=1,z=0;for(this[d]=l&255;++z<k&&(N*=256);)this[d+z]=l/N&255;return d+k},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,d,k,C){if(l=+l,d=d>>>0,k=k>>>0,!C){const Ae=Math.pow(2,8*k)-1;f(this,l,d,k,Ae,0)}let N=k-1,z=1;for(this[d+N]=l&255;--N>=0&&(z*=256);)this[d+N]=l/z&255;return d+k},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,d,k){return l=+l,d=d>>>0,k||f(this,l,d,1,255,0),this[d]=l&255,d+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,d,k){return l=+l,d=d>>>0,k||f(this,l,d,2,65535,0),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,d,k){return l=+l,d=d>>>0,k||f(this,l,d,2,65535,0),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,d,k){return l=+l,d=d>>>0,k||f(this,l,d,4,4294967295,0),this[d+3]=l>>>24,this[d+2]=l>>>16,this[d+1]=l>>>8,this[d]=l&255,d+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,d,k){return l=+l,d=d>>>0,k||f(this,l,d,4,4294967295,0),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4};function S(v,l,d,k,C){we(l,k,C,v,d,7);let N=Number(l&BigInt(4294967295));v[d++]=N,N=N>>8,v[d++]=N,N=N>>8,v[d++]=N,N=N>>8,v[d++]=N;let z=Number(l>>BigInt(32)&BigInt(4294967295));return v[d++]=z,z=z>>8,v[d++]=z,z=z>>8,v[d++]=z,z=z>>8,v[d++]=z,d}function K(v,l,d,k,C){we(l,k,C,v,d,7);let N=Number(l&BigInt(4294967295));v[d+7]=N,N=N>>8,v[d+6]=N,N=N>>8,v[d+5]=N,N=N>>8,v[d+4]=N;let z=Number(l>>BigInt(32)&BigInt(4294967295));return v[d+3]=z,z=z>>8,v[d+2]=z,z=z>>8,v[d+1]=z,z=z>>8,v[d]=z,d+8}a.prototype.writeBigUInt64LE=Ft(function(l,d=0){return S(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ft(function(l,d=0){return K(this,l,d,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,d,k,C){if(l=+l,d=d>>>0,!C){const _e=Math.pow(2,8*k-1);f(this,l,d,k,_e-1,-_e)}let N=0,z=1,Ae=0;for(this[d]=l&255;++N<k&&(z*=256);)l<0&&Ae===0&&this[d+N-1]!==0&&(Ae=1),this[d+N]=(l/z>>0)-Ae&255;return d+k},a.prototype.writeIntBE=function(l,d,k,C){if(l=+l,d=d>>>0,!C){const _e=Math.pow(2,8*k-1);f(this,l,d,k,_e-1,-_e)}let N=k-1,z=1,Ae=0;for(this[d+N]=l&255;--N>=0&&(z*=256);)l<0&&Ae===0&&this[d+N+1]!==0&&(Ae=1),this[d+N]=(l/z>>0)-Ae&255;return d+k},a.prototype.writeInt8=function(l,d,k){return l=+l,d=d>>>0,k||f(this,l,d,1,127,-128),l<0&&(l=255+l+1),this[d]=l&255,d+1},a.prototype.writeInt16LE=function(l,d,k){return l=+l,d=d>>>0,k||f(this,l,d,2,32767,-32768),this[d]=l&255,this[d+1]=l>>>8,d+2},a.prototype.writeInt16BE=function(l,d,k){return l=+l,d=d>>>0,k||f(this,l,d,2,32767,-32768),this[d]=l>>>8,this[d+1]=l&255,d+2},a.prototype.writeInt32LE=function(l,d,k){return l=+l,d=d>>>0,k||f(this,l,d,4,2147483647,-2147483648),this[d]=l&255,this[d+1]=l>>>8,this[d+2]=l>>>16,this[d+3]=l>>>24,d+4},a.prototype.writeInt32BE=function(l,d,k){return l=+l,d=d>>>0,k||f(this,l,d,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[d]=l>>>24,this[d+1]=l>>>16,this[d+2]=l>>>8,this[d+3]=l&255,d+4},a.prototype.writeBigInt64LE=Ft(function(l,d=0){return S(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ft(function(l,d=0){return K(this,l,d,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Y(v,l,d,k,C,N){if(d+k>v.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function Q(v,l,d,k,C){return l=+l,d=d>>>0,C||Y(v,l,d,4),t.write(v,l,d,k,23,4),d+4}a.prototype.writeFloatLE=function(l,d,k){return Q(this,l,d,!0,k)},a.prototype.writeFloatBE=function(l,d,k){return Q(this,l,d,!1,k)};function ve(v,l,d,k,C){return l=+l,d=d>>>0,C||Y(v,l,d,8),t.write(v,l,d,k,52,8),d+8}a.prototype.writeDoubleLE=function(l,d,k){return ve(this,l,d,!0,k)},a.prototype.writeDoubleBE=function(l,d,k){return ve(this,l,d,!1,k)},a.prototype.copy=function(l,d,k,C){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(k||(k=0),!C&&C!==0&&(C=this.length),d>=l.length&&(d=l.length),d||(d=0),C>0&&C<k&&(C=k),C===k||l.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),l.length-d<C-k&&(C=l.length-d+k);const N=C-k;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,k,C):Uint8Array.prototype.set.call(l,this.subarray(k,C),d),N},a.prototype.fill=function(l,d,k,C){if(typeof l=="string"){if(typeof d=="string"?(C=d,d=0,k=this.length):typeof k=="string"&&(C=k,k=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!a.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(l.length===1){const z=l.charCodeAt(0);(C==="utf8"&&z<128||C==="latin1")&&(l=z)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(d<0||this.length<d||this.length<k)throw new RangeError("Out of range index");if(k<=d)return this;d=d>>>0,k=k===void 0?this.length:k>>>0,l||(l=0);let N;if(typeof l=="number")for(N=d;N<k;++N)this[N]=l;else{const z=a.isBuffer(l)?l:a.from(l,C),Ae=z.length;if(Ae===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(N=0;N<k-d;++N)this[N+d]=z[N%Ae]}return this};const ue={};function pe(v,l,d){ue[v]=class extends d{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${v}]`,this.stack,delete this.name}get code(){return v}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${v}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(v){return v?`${v} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(v,l){return`The "${v}" argument must be of type number. Received type ${typeof l}`},TypeError),pe("ERR_OUT_OF_RANGE",function(v,l,d){let k=`The value of "${v}" is out of range.`,C=d;return Number.isInteger(d)&&Math.abs(d)>2**32?C=tt(String(d)):typeof d=="bigint"&&(C=String(d),(d>BigInt(2)**BigInt(32)||d<-(BigInt(2)**BigInt(32)))&&(C=tt(C)),C+="n"),k+=` It must be ${l}. Received ${C}`,k},RangeError);function tt(v){let l="",d=v.length;const k=v[0]==="-"?1:0;for(;d>=k+4;d-=3)l=`_${v.slice(d-3,d)}${l}`;return`${v.slice(0,d)}${l}`}function Ee(v,l,d){Xe(l,"offset"),(v[l]===void 0||v[l+d]===void 0)&&G(l,v.length-(d+1))}function we(v,l,d,k,C,N){if(v>d||v<l){const z=typeof l=="bigint"?"n":"";let Ae;throw l===0||l===BigInt(0)?Ae=`>= 0${z} and < 2${z} ** ${(N+1)*8}${z}`:Ae=`>= -(2${z} ** ${(N+1)*8-1}${z}) and < 2 ** ${(N+1)*8-1}${z}`,new ue.ERR_OUT_OF_RANGE("value",Ae,v)}Ee(k,C,N)}function Xe(v,l){if(typeof v!="number")throw new ue.ERR_INVALID_ARG_TYPE(l,"number",v)}function G(v,l,d){throw Math.floor(v)!==v?(Xe(v,d),new ue.ERR_OUT_OF_RANGE("offset","an integer",v)):l<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,v)}const de=/[^+/0-9A-Za-z-_]/g;function Fn(v){if(v=v.split("=")[0],v=v.trim().replace(de,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function je(v,l){l=l||1/0;let d;const k=v.length;let C=null;const N=[];for(let z=0;z<k;++z){if(d=v.charCodeAt(z),d>55295&&d<57344){if(!C){if(d>56319){(l-=3)>-1&&N.push(239,191,189);continue}else if(z+1===k){(l-=3)>-1&&N.push(239,191,189);continue}C=d;continue}if(d<56320){(l-=3)>-1&&N.push(239,191,189),C=d;continue}d=(C-55296<<10|d-56320)+65536}else C&&(l-=3)>-1&&N.push(239,191,189);if(C=null,d<128){if((l-=1)<0)break;N.push(d)}else if(d<2048){if((l-=2)<0)break;N.push(d>>6|192,d&63|128)}else if(d<65536){if((l-=3)<0)break;N.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((l-=4)<0)break;N.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return N}function Ke(v){const l=[];for(let d=0;d<v.length;++d)l.push(v.charCodeAt(d)&255);return l}function Pn(v,l){let d,k,C;const N=[];for(let z=0;z<v.length&&!((l-=2)<0);++z)d=v.charCodeAt(z),k=d>>8,C=d%256,N.push(C),N.push(k);return N}function $e(v){return e.toByteArray(Fn(v))}function Pe(v,l,d,k){let C;for(C=0;C<k&&!(C+d>=l.length||C>=v.length);++C)l[C+d]=v[C];return C}function ut(v,l){return v instanceof l||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===l.name}function qe(v){return v!==v}const Ve=function(){const v="0123456789abcdef",l=new Array(256);for(let d=0;d<16;++d){const k=d*16;for(let C=0;C<16;++C)l[k+C]=v[d]+v[C]}return l}();function Ft(v){return typeof BigInt>"u"?He:v}function He(){throw new Error("BigInt not supported")}})(xe);function Ka(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function Xl(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Ns(n,...e){if(!Xl(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function Ql(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ka(n.outputLen),Ka(n.blockLen)}function ps(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function ef(n,e){Ns(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Ur=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const go=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Sn=(n,e)=>n<<32-e|n>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function tf(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function la(n){return typeof n=="string"&&(n=tf(n)),Ns(n),n}function nf(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Ns(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class Dc{clone(){return this._cloneInto()}}function qc(n){const e=r=>n().update(la(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function jc(n=32){if(Ur&&typeof Ur.getRandomValues=="function")return Ur.getRandomValues(new Uint8Array(n));if(Ur&&typeof Ur.randomBytes=="function")return Ur.randomBytes(n);throw new Error("crypto.getRandomValues must be defined")}function rf(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),u=r?4:0,p=r?0:4;n.setUint32(e+u,o,r),n.setUint32(e+p,a,r)}const sf=(n,e,t)=>n&e^~n&t,of=(n,e,t)=>n&e^n&t^e&t;class $c extends Dc{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=go(this.buffer)}update(e){ps(this);const{view:t,buffer:r,blockLen:s}=this;e=la(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const u=go(e);for(;s<=i-o;o+=s)this.process(u,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ps(this),ef(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let b=o;b<s;b++)t[b]=0;rf(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=go(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const p=u/4,m=this.get();if(p>m.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<p;b++)a.setUint32(4*b,m[b],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const ss=BigInt(2**32-1),Do=BigInt(32);function Zc(n,e=!1){return e?{h:Number(n&ss),l:Number(n>>Do&ss)}:{h:Number(n>>Do&ss)|0,l:Number(n&ss)|0}}function af(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Zc(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const cf=(n,e)=>BigInt(n>>>0)<<Do|BigInt(e>>>0),uf=(n,e,t)=>n>>>t,lf=(n,e,t)=>n<<32-t|e>>>t,ff=(n,e,t)=>n>>>t|e<<32-t,df=(n,e,t)=>n<<32-t|e>>>t,hf=(n,e,t)=>n<<64-t|e>>>t-32,pf=(n,e,t)=>n>>>t-32|e<<64-t,mf=(n,e)=>e,gf=(n,e)=>n,yf=(n,e,t)=>n<<t|e>>>32-t,wf=(n,e,t)=>e<<t|n>>>32-t,bf=(n,e,t)=>e<<t-32|n>>>64-t,vf=(n,e,t)=>n<<t-32|e>>>64-t;function _f(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const xf=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),kf=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Ef=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Sf=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,Bf=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),Af=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Ie={fromBig:Zc,split:af,toBig:cf,shrSH:uf,shrSL:lf,rotrSH:ff,rotrSL:df,rotrBH:hf,rotrBL:pf,rotr32H:mf,rotr32L:gf,rotlSH:yf,rotlSL:wf,rotlBH:bf,rotlBL:vf,add:_f,add3L:xf,add3H:kf,add4L:Ef,add4H:Sf,add5H:Af,add5L:Bf},[If,Mf]=Ie.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Yn=new Uint32Array(80),Jn=new Uint32Array(80);class Rf extends $c{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:u,Eh:p,El:m,Fh:b,Fl:I,Gh:M,Gl:T,Hh:A,Hl:x}=this;return[e,t,r,s,i,o,a,u,p,m,b,I,M,T,A,x]}set(e,t,r,s,i,o,a,u,p,m,b,I,M,T,A,x){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=p|0,this.El=m|0,this.Fh=b|0,this.Fl=I|0,this.Gh=M|0,this.Gl=T|0,this.Hh=A|0,this.Hl=x|0}process(e,t){for(let O=0;O<16;O++,t+=4)Yn[O]=e.getUint32(t),Jn[O]=e.getUint32(t+=4);for(let O=16;O<80;O++){const j=Yn[O-15]|0,V=Jn[O-15]|0,W=Ie.rotrSH(j,V,1)^Ie.rotrSH(j,V,8)^Ie.shrSH(j,V,7),H=Ie.rotrSL(j,V,1)^Ie.rotrSL(j,V,8)^Ie.shrSL(j,V,7),ee=Yn[O-2]|0,q=Jn[O-2]|0,Be=Ie.rotrSH(ee,q,19)^Ie.rotrBH(ee,q,61)^Ie.shrSH(ee,q,6),re=Ie.rotrSL(ee,q,19)^Ie.rotrBL(ee,q,61)^Ie.shrSL(ee,q,6),D=Ie.add4L(H,re,Jn[O-7],Jn[O-16]),E=Ie.add4H(D,W,Be,Yn[O-7],Yn[O-16]);Yn[O]=E|0,Jn[O]=D|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:u,Dh:p,Dl:m,Eh:b,El:I,Fh:M,Fl:T,Gh:A,Gl:x,Hh:L,Hl:P}=this;for(let O=0;O<80;O++){const j=Ie.rotrSH(b,I,14)^Ie.rotrSH(b,I,18)^Ie.rotrBH(b,I,41),V=Ie.rotrSL(b,I,14)^Ie.rotrSL(b,I,18)^Ie.rotrBL(b,I,41),W=b&M^~b&A,H=I&T^~I&x,ee=Ie.add5L(P,V,H,Mf[O],Jn[O]),q=Ie.add5H(ee,L,j,W,If[O],Yn[O]),Be=ee|0,re=Ie.rotrSH(r,s,28)^Ie.rotrBH(r,s,34)^Ie.rotrBH(r,s,39),D=Ie.rotrSL(r,s,28)^Ie.rotrBL(r,s,34)^Ie.rotrBL(r,s,39),E=r&i^r&a^i&a,c=s&o^s&u^o&u;L=A|0,P=x|0,A=M|0,x=T|0,M=b|0,T=I|0,{h:b,l:I}=Ie.add(p|0,m|0,q|0,Be|0),p=a|0,m=u|0,a=i|0,u=o|0,i=r|0,o=s|0;const h=Ie.add3L(Be,D,c);r=Ie.add3H(h,q,re,E),s=h|0}({h:r,l:s}=Ie.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Ie.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:u}=Ie.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:p,l:m}=Ie.add(this.Dh|0,this.Dl|0,p|0,m|0),{h:b,l:I}=Ie.add(this.Eh|0,this.El|0,b|0,I|0),{h:M,l:T}=Ie.add(this.Fh|0,this.Fl|0,M|0,T|0),{h:A,l:x}=Ie.add(this.Gh|0,this.Gl|0,A|0,x|0),{h:L,l:P}=Ie.add(this.Hh|0,this.Hl|0,L|0,P|0),this.set(r,s,i,o,a,u,p,m,b,I,M,T,A,x,L,P)}roundClean(){Yn.fill(0),Jn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Tf=qc(()=>new Rf);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fa=BigInt(0),Os=BigInt(1),Cf=BigInt(2);function kr(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Qi(n){if(!kr(n))throw new Error("Uint8Array expected")}function Wn(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Lf=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Er(n){Qi(n);let e="";for(let t=0;t<n.length;t++)e+=Lf[n[t]];return e}function Vr(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function da(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const zn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Wa(n){if(n>=zn._0&&n<=zn._9)return n-zn._0;if(n>=zn._A&&n<=zn._F)return n-(zn._A-10);if(n>=zn._a&&n<=zn._f)return n-(zn._a-10)}function ei(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Wa(n.charCodeAt(i)),a=Wa(n.charCodeAt(i+1));if(o===void 0||a===void 0){const u=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}r[s]=o*16+a}return r}function vr(n){return da(Er(n))}function Gr(n){return Qi(n),da(Er(Uint8Array.from(n).reverse()))}function ti(n,e){return ei(n.toString(16).padStart(e*2,"0"))}function Ci(n,e){return ti(n,e).reverse()}function Nf(n){return ei(Vr(n))}function Rt(n,e,t){let r;if(typeof e=="string")try{r=ei(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(kr(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function Sr(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Qi(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Of(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Uf(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const yo=n=>typeof n=="bigint"&&fa<=n;function Us(n,e,t){return yo(n)&&yo(e)&&yo(t)&&e<=n&&n<t}function hn(n,e,t,r){if(!Us(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function Vc(n){let e;for(e=0;n>fa;n>>=Os,e+=1);return e}function Ff(n,e){return n>>BigInt(e)&Os}function Pf(n,e,t){return n|(t?Os:fa)<<BigInt(e)}const ha=n=>(Cf<<BigInt(n-1))-Os,wo=n=>new Uint8Array(n),Ga=n=>Uint8Array.from(n);function Hc(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=wo(n),s=wo(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...b)=>t(s,r,...b),u=(b=wo())=>{s=a(Ga([0]),b),r=a(),b.length!==0&&(s=a(Ga([1]),b),r=a())},p=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const I=[];for(;b<e;){r=a();const M=r.slice();I.push(M),b+=r.length}return Sr(...I)};return(b,I)=>{o(),u(b);let M;for(;!(M=I(p()));)u();return o(),M}}const zf={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||kr(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function pi(n,e,t={}){const r=(s,i,o)=>{const a=zf[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const u=n[s];if(!(o&&u===void 0)&&!a(u,n))throw new Error(`Invalid param ${String(s)}=${u} (${typeof u}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Df=()=>{throw new Error("not implemented")};function Li(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}const qf=Object.freeze(Object.defineProperty({__proto__:null,aInRange:hn,abool:Wn,abytes:Qi,bitGet:Ff,bitLen:Vc,bitMask:ha,bitSet:Pf,bytesToHex:Er,bytesToNumberBE:vr,bytesToNumberLE:Gr,concatBytes:Sr,createHmacDrbg:Hc,ensureBytes:Rt,equalBytes:Of,hexToBytes:ei,hexToNumber:da,inRange:Us,isBytes:kr,memoized:Li,notImplemented:Df,numberToBytesBE:ti,numberToBytesLE:Ci,numberToHexUnpadded:Vr,numberToVarBytesBE:Nf,utf8ToBytes:Uf,validateObject:pi},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ut=BigInt(0),it=BigInt(1),gr=BigInt(2),jf=BigInt(3),qo=BigInt(4),Ya=BigInt(5),Ja=BigInt(8);BigInt(9);BigInt(16);function et(n,e){const t=n%e;return t>=Ut?t:e+t}function $f(n,e,t){if(t<=Ut||e<Ut)throw new Error("Expected power/modulo > 0");if(t===it)return Ut;let r=it;for(;e>Ut;)e&it&&(r=r*n%t),n=n*n%t,e>>=it;return r}function ot(n,e,t){let r=n;for(;e-- >Ut;)r*=r,r%=t;return r}function jo(n,e){if(n===Ut||e<=Ut)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=et(n,e),r=e,s=Ut,i=it;for(;t!==Ut;){const a=r/t,u=r%t,p=s-i*a;r=t,t=u,s=i,i=p}if(r!==it)throw new Error("invert: does not exist");return et(s,e)}function Zf(n){const e=(n-it)/gr;let t,r,s;for(t=n-it,r=0;t%gr===Ut;t/=gr,r++);for(s=gr;s<n&&$f(s,e,n)!==n-it;s++);if(r===1){const o=(n+it)/qo;return function(u,p){const m=u.pow(p,o);if(!u.eql(u.sqr(m),p))throw new Error("Cannot find square root");return m}}const i=(t+it)/gr;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let p=r,m=a.pow(a.mul(a.ONE,s),t),b=a.pow(u,i),I=a.pow(u,t);for(;!a.eql(I,a.ONE);){if(a.eql(I,a.ZERO))return a.ZERO;let M=1;for(let A=a.sqr(I);M<p&&!a.eql(A,a.ONE);M++)A=a.sqr(A);const T=a.pow(m,it<<BigInt(p-M-1));m=a.sqr(T),b=a.mul(b,T),I=a.mul(I,m),p=M}return b}}function Vf(n){if(n%qo===jf){const e=(n+it)/qo;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Ja===Ya){const e=(n-Ya)/Ja;return function(r,s){const i=r.mul(s,gr),o=r.pow(i,e),a=r.mul(s,o),u=r.mul(r.mul(a,gr),o),p=r.mul(a,r.sub(u,r.ONE));if(!r.eql(r.sqr(p),s))throw new Error("Cannot find square root");return p}}return Zf(n)}const Hf=(n,e)=>(et(n,e)&it)===it,Kf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wf(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Kf.reduce((r,s)=>(r[s]="function",r),e);return pi(n,t)}function Gf(n,e,t){if(t<Ut)throw new Error("Expected power > 0");if(t===Ut)return n.ONE;if(t===it)return e;let r=n.ONE,s=e;for(;t>Ut;)t&it&&(r=n.mul(r,s)),s=n.sqr(s),t>>=it;return r}function Yf(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function Kc(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Fs(n,e,t=!1,r={}){if(n<=Ut)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=Kc(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Vf(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:ha(s),ZERO:Ut,ONE:it,create:u=>et(u,n),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Ut<=u&&u<n},is0:u=>u===Ut,isOdd:u=>(u&it)===it,neg:u=>et(-u,n),eql:(u,p)=>u===p,sqr:u=>et(u*u,n),add:(u,p)=>et(u+p,n),sub:(u,p)=>et(u-p,n),mul:(u,p)=>et(u*p,n),pow:(u,p)=>Gf(a,u,p),div:(u,p)=>et(u*jo(p,n),n),sqrN:u=>u*u,addN:(u,p)=>u+p,subN:(u,p)=>u-p,mulN:(u,p)=>u*p,inv:u=>jo(u,n),sqrt:r.sqrt||(u=>o(a,u)),invertBatch:u=>Yf(a,u),cmov:(u,p,m)=>m?p:u,toBytes:u=>t?Ci(u,i):ti(u,i),fromBytes:u=>{if(u.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${u.length}`);return t?Gr(u):vr(u)}});return Object.freeze(a)}function Wc(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function Gc(n){const e=Wc(n);return e+Math.ceil(e/2)}function Jf(n,e,t=!1){const r=n.length,s=Wc(e),i=Gc(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?vr(n):Gr(n),a=et(o,e-it)+it;return t?Ci(a,s):ti(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xf=BigInt(0),bo=BigInt(1),vo=new WeakMap,Xa=new WeakMap;function Yc(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,u=i;for(;o>Xf;)o&bo&&(a=a.add(u)),u=u.double(),o>>=bo;return a},precomputeWindow(i,o){const{windows:a,windowSize:u}=s(o),p=[];let m=i,b=m;for(let I=0;I<a;I++){b=m,p.push(b);for(let M=1;M<u;M++)b=b.add(m),p.push(b);m=b.double()}return p},wNAF(i,o,a){const{windows:u,windowSize:p}=s(i);let m=n.ZERO,b=n.BASE;const I=BigInt(2**i-1),M=2**i,T=BigInt(i);for(let A=0;A<u;A++){const x=A*p;let L=Number(a&I);a>>=T,L>p&&(L-=M,a+=bo);const P=x,O=x+Math.abs(L)-1,j=A%2!==0,V=L<0;L===0?b=b.add(t(j,o[P])):m=m.add(t(V,o[O]))}return{p:m,f:b}},wNAFCached(i,o,a){const u=Xa.get(i)||1;let p=vo.get(i);return p||(p=this.precomputeWindow(i,u),u!==1&&vo.set(i,a(p))),this.wNAF(u,p,o)},setWindowSize(i,o){r(o),Xa.set(i,o),vo.delete(i)}}}function Jc(n,e,t,r){if(!Array.isArray(t)||!Array.isArray(r)||r.length!==t.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((m,b)=>{if(!e.isValid(m))throw new Error(`wrong scalar at index ${b}`)}),t.forEach((m,b)=>{if(!(m instanceof n))throw new Error(`wrong point at index ${b}`)});const s=Vc(BigInt(t.length)),i=s>12?s-3:s>4?s-2:s?2:1,o=(1<<i)-1,a=new Array(o+1).fill(n.ZERO),u=Math.floor((e.BITS-1)/i)*i;let p=n.ZERO;for(let m=u;m>=0;m-=i){a.fill(n.ZERO);for(let I=0;I<r.length;I++){const M=r[I],T=Number(M>>BigInt(m)&BigInt(o));a[T]=a[T].add(t[I])}let b=n.ZERO;for(let I=a.length-1,M=n.ZERO;I>0;I--)M=M.add(a[I]),b=b.add(M);if(p=p.add(b),m!==0)for(let I=0;I<i;I++)p=p.double()}return p}function pa(n){return Wf(n.Fp),pi(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Kc(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mn=BigInt(0),tn=BigInt(1),os=BigInt(2),Qf=BigInt(8),ed={zip215:!0};function td(n){const e=pa(n);return pi(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function nd(n){const e=td(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:u}=e,p=os<<BigInt(a*8)-tn,m=t.create,b=Fs(e.n,e.nBitLength),I=e.uvRatio||((g,y)=>{try{return{isValid:!0,value:t.sqrt(g*t.inv(y))}}catch{return{isValid:!1,value:mn}}}),M=e.adjustScalarBytes||(g=>g),T=e.domain||((g,y,w)=>{if(Wn("phflag",w),y.length||w)throw new Error("Contexts/pre-hash are not supported");return g});function A(g,y){hn("coordinate "+g,y,mn,p)}function x(g){if(!(g instanceof O))throw new Error("ExtendedPoint expected")}const L=Li((g,y)=>{const{ex:w,ey:B,ez:R}=g,_=g.is0();y==null&&(y=_?Qf:t.inv(R));const f=m(w*y),S=m(B*y),K=m(R*y);if(_)return{x:mn,y:tn};if(K!==tn)throw new Error("invZ was invalid");return{x:f,y:S}}),P=Li(g=>{const{a:y,d:w}=e;if(g.is0())throw new Error("bad point: ZERO");const{ex:B,ey:R,ez:_,et:f}=g,S=m(B*B),K=m(R*R),Y=m(_*_),Q=m(Y*Y),ve=m(S*y),ue=m(Y*m(ve+K)),pe=m(Q+m(w*m(S*K)));if(ue!==pe)throw new Error("bad point: equation left != right (1)");const tt=m(B*R),Ee=m(_*f);if(tt!==Ee)throw new Error("bad point: equation left != right (2)");return!0});class O{constructor(y,w,B,R){this.ex=y,this.ey=w,this.ez=B,this.et=R,A("x",y),A("y",w),A("z",B),A("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(y){if(y instanceof O)throw new Error("extended point not allowed");const{x:w,y:B}=y||{};return A("x",w),A("y",B),new O(w,B,tn,m(w*B))}static normalizeZ(y){const w=t.invertBatch(y.map(B=>B.ez));return y.map((B,R)=>B.toAffine(w[R])).map(O.fromAffine)}static msm(y,w){return Jc(O,b,y,w)}_setWindowSize(y){W.setWindowSize(this,y)}assertValidity(){P(this)}equals(y){x(y);const{ex:w,ey:B,ez:R}=this,{ex:_,ey:f,ez:S}=y,K=m(w*S),Y=m(_*R),Q=m(B*S),ve=m(f*R);return K===Y&&Q===ve}is0(){return this.equals(O.ZERO)}negate(){return new O(m(-this.ex),this.ey,this.ez,m(-this.et))}double(){const{a:y}=e,{ex:w,ey:B,ez:R}=this,_=m(w*w),f=m(B*B),S=m(os*m(R*R)),K=m(y*_),Y=w+B,Q=m(m(Y*Y)-_-f),ve=K+f,ue=ve-S,pe=K-f,tt=m(Q*ue),Ee=m(ve*pe),we=m(Q*pe),Xe=m(ue*ve);return new O(tt,Ee,Xe,we)}add(y){x(y);const{a:w,d:B}=e,{ex:R,ey:_,ez:f,et:S}=this,{ex:K,ey:Y,ez:Q,et:ve}=y;if(w===BigInt(-1)){const $e=m((_-R)*(Y+K)),Pe=m((_+R)*(Y-K)),ut=m(Pe-$e);if(ut===mn)return this.double();const qe=m(f*os*ve),Ve=m(S*os*Q),Ft=Ve+qe,He=Pe+$e,v=Ve-qe,l=m(Ft*ut),d=m(He*v),k=m(Ft*v),C=m(ut*He);return new O(l,d,C,k)}const ue=m(R*K),pe=m(_*Y),tt=m(S*B*ve),Ee=m(f*Q),we=m((R+_)*(K+Y)-ue-pe),Xe=Ee-tt,G=Ee+tt,de=m(pe-w*ue),Fn=m(we*Xe),je=m(G*de),Ke=m(we*de),Pn=m(Xe*G);return new O(Fn,je,Pn,Ke)}subtract(y){return this.add(y.negate())}wNAF(y){return W.wNAFCached(this,y,O.normalizeZ)}multiply(y){const w=y;hn("scalar",w,tn,r);const{p:B,f:R}=this.wNAF(w);return O.normalizeZ([B,R])[0]}multiplyUnsafe(y){const w=y;return hn("scalar",w,mn,r),w===mn?V:this.equals(V)||w===tn?this:this.equals(j)?this.wNAF(w).p:W.unsafeLadder(this,w)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return W.unsafeLadder(this,r).is0()}toAffine(y){return L(this,y)}clearCofactor(){const{h:y}=e;return y===tn?this:this.multiplyUnsafe(y)}static fromHex(y,w=!1){const{d:B,a:R}=e,_=t.BYTES;y=Rt("pointHex",y,_),Wn("zip215",w);const f=y.slice(),S=y[_-1];f[_-1]=S&-129;const K=Gr(f),Y=w?p:t.ORDER;hn("pointHex.y",K,mn,Y);const Q=m(K*K),ve=m(Q-tn),ue=m(B*Q-R);let{isValid:pe,value:tt}=I(ve,ue);if(!pe)throw new Error("Point.fromHex: invalid y coordinate");const Ee=(tt&tn)===tn,we=(S&128)!==0;if(!w&&tt===mn&&we)throw new Error("Point.fromHex: x=0 and x_0=1");return we!==Ee&&(tt=m(-tt)),O.fromAffine({x:tt,y:K})}static fromPrivateKey(y){return q(y).point}toRawBytes(){const{x:y,y:w}=this.toAffine(),B=Ci(w,t.BYTES);return B[B.length-1]|=y&tn?128:0,B}toHex(){return Er(this.toRawBytes())}}O.BASE=new O(e.Gx,e.Gy,tn,m(e.Gx*e.Gy)),O.ZERO=new O(mn,tn,tn,mn);const{BASE:j,ZERO:V}=O,W=Yc(O,a*8);function H(g){return et(g,r)}function ee(g){return H(Gr(g))}function q(g){const y=a;g=Rt("private key",g,y);const w=Rt("hashed private key",i(g),2*y),B=M(w.slice(0,y)),R=w.slice(y,2*y),_=ee(B),f=j.multiply(_),S=f.toRawBytes();return{head:B,prefix:R,scalar:_,point:f,pointBytes:S}}function Be(g){return q(g).pointBytes}function re(g=new Uint8Array,...y){const w=Sr(...y);return ee(i(T(w,Rt("context",g),!!s)))}function D(g,y,w={}){g=Rt("message",g),s&&(g=s(g));const{prefix:B,scalar:R,pointBytes:_}=q(y),f=re(w.context,B,g),S=j.multiply(f).toRawBytes(),K=re(w.context,S,_,g),Y=H(f+K*R);hn("signature.s",Y,mn,r);const Q=Sr(S,Ci(Y,t.BYTES));return Rt("result",Q,a*2)}const E=ed;function c(g,y,w,B=E){const{context:R,zip215:_}=B,f=t.BYTES;g=Rt("signature",g,2*f),y=Rt("message",y),_!==void 0&&Wn("zip215",_),s&&(y=s(y));const S=Gr(g.slice(f,2*f));let K,Y,Q;try{K=O.fromHex(w,_),Y=O.fromHex(g.slice(0,f),_),Q=j.multiplyUnsafe(S)}catch{return!1}if(!_&&K.isSmallOrder())return!1;const ve=re(R,Y.toRawBytes(),K.toRawBytes(),y);return Y.add(K.multiplyUnsafe(ve)).subtract(Q).clearCofactor().equals(O.ZERO)}return j._setWindowSize(8),{CURVE:e,getPublicKey:Be,sign:D,verify:c,ExtendedPoint:O,utils:{getExtendedPublicKey:q,randomPrivateKey:()=>o(t.BYTES),precompute(g=8,y=O.BASE){return y._setWindowSize(g),y.multiply(BigInt(3)),y}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ma=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Qa=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const rd=BigInt(1),ec=BigInt(2);BigInt(3);const id=BigInt(5),sd=BigInt(8);function od(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=ma,a=n*n%i*n%i,u=ot(a,ec,i)*a%i,p=ot(u,rd,i)*n%i,m=ot(p,id,i)*p%i,b=ot(m,e,i)*m%i,I=ot(b,t,i)*b%i,M=ot(I,r,i)*I%i,T=ot(M,s,i)*M%i,A=ot(T,s,i)*M%i,x=ot(A,e,i)*m%i;return{pow_p_5_8:ot(x,ec,i)*n%i,b2:a}}function ad(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function cd(n,e){const t=ma,r=et(e*e*e,t),s=et(r*r*e,t),i=od(n*s).pow_p_5_8;let o=et(n*r*i,t);const a=et(e*o*o,t),u=o,p=et(o*Qa,t),m=a===n,b=a===et(-n,t),I=a===et(-n*Qa,t);return m&&(o=u),(b||I)&&(o=p),Hf(o,t)&&(o=et(-o,t)),{isValid:m||b,value:o}}const ud=Fs(ma,void 0,!0),ld={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ud,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:sd,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Tf,randomBytes:jc,adjustScalarBytes:ad,uvRatio:cd},ga=nd(ld);var ya={exports:{}};const fd={},dd=Object.freeze(Object.defineProperty({__proto__:null,default:fd},Symbol.toStringTag,{value:"Module"})),hd=ca(dd);ya.exports;(function(n){(function(e,t){function r(E,c){if(!E)throw new Error(c||"Assertion failed")}function s(E,c){E.super_=c;var h=function(){};h.prototype=c.prototype,E.prototype=new h,E.prototype.constructor=E}function i(E,c,h){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((c==="le"||c==="be")&&(h=c,c=10),this._init(E||0,c||10,h||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=hd.Buffer}catch{}i.isBN=function(c){return c instanceof i?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===i.wordSize&&Array.isArray(c.words)},i.max=function(c,h){return c.cmp(h)>0?c:h},i.min=function(c,h){return c.cmp(h)<0?c:h},i.prototype._init=function(c,h,g){if(typeof c=="number")return this._initNumber(c,h,g);if(typeof c=="object")return this._initArray(c,h,g);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),c=c.toString().replace(/\s+/g,"");var y=0;c[0]==="-"&&(y++,this.negative=1),y<c.length&&(h===16?this._parseHex(c,y,g):(this._parseBase(c,h,y),g==="le"&&this._initArray(this.toArray(),h,g)))},i.prototype._initNumber=function(c,h,g){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(r(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),h,g)},i.prototype._initArray=function(c,h,g){if(r(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w,B,R=0;if(g==="be")for(y=c.length-1,w=0;y>=0;y-=3)B=c[y]|c[y-1]<<8|c[y-2]<<16,this.words[w]|=B<<R&67108863,this.words[w+1]=B>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);else if(g==="le")for(y=0,w=0;y<c.length;y+=3)B=c[y]|c[y+1]<<8|c[y+2]<<16,this.words[w]|=B<<R&67108863,this.words[w+1]=B>>>26-R&67108863,R+=24,R>=26&&(R-=26,w++);return this._strip()};function a(E,c){var h=E.charCodeAt(c);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;r(!1,"Invalid character in "+E)}function u(E,c,h){var g=a(E,h);return h-1>=c&&(g|=a(E,h-1)<<4),g}i.prototype._parseHex=function(c,h,g){this.length=Math.ceil((c.length-h)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var w=0,B=0,R;if(g==="be")for(y=c.length-1;y>=h;y-=2)R=u(c,h,y)<<w,this.words[B]|=R&67108863,w>=18?(w-=18,B+=1,this.words[B]|=R>>>26):w+=8;else{var _=c.length-h;for(y=_%2===0?h+1:h;y<c.length;y+=2)R=u(c,h,y)<<w,this.words[B]|=R&67108863,w>=18?(w-=18,B+=1,this.words[B]|=R>>>26):w+=8}this._strip()};function p(E,c,h,g){for(var y=0,w=0,B=Math.min(E.length,h),R=c;R<B;R++){var _=E.charCodeAt(R)-48;y*=g,_>=49?w=_-49+10:_>=17?w=_-17+10:w=_,r(_>=0&&w<g,"Invalid character"),y+=w}return y}i.prototype._parseBase=function(c,h,g){this.words=[0],this.length=1;for(var y=0,w=1;w<=67108863;w*=h)y++;y--,w=w/h|0;for(var B=c.length-g,R=B%y,_=Math.min(B,B-R)+g,f=0,S=g;S<_;S+=y)f=p(c,S,S+y,h),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(R!==0){var K=1;for(f=p(c,S,c.length,h),S=0;S<R;S++)K*=h;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},i.prototype.copy=function(c){c.words=new Array(this.length);for(var h=0;h<this.length;h++)c.words[h]=this.words[h];c.length=this.length,c.negative=this.negative,c.red=this.red};function m(E,c){E.words=c.words,E.length=c.length,E.negative=c.negative,E.red=c.red}if(i.prototype._move=function(c){m(c,this)},i.prototype.clone=function(){var c=new i(null);return this.copy(c),c},i.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{i.prototype.inspect=b}else i.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var I=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(c,h){c=c||10,h=h|0||1;var g;if(c===16||c==="hex"){g="";for(var y=0,w=0,B=0;B<this.length;B++){var R=this.words[B],_=((R<<y|w)&16777215).toString(16);w=R>>>24-y&16777215,y+=2,y>=26&&(y-=26,B--),w!==0||B!==this.length-1?g=I[6-_.length]+_+g:g=_+g}for(w!==0&&(g=w.toString(16)+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(c===(c|0)&&c>=2&&c<=36){var f=M[c],S=T[c];g="";var K=this.clone();for(K.negative=0;!K.isZero();){var Y=K.modrn(S).toString(c);K=K.idivn(S),K.isZero()?g=Y+g:g=I[f-Y.length]+Y+g}for(this.isZero()&&(g="0"+g);g.length%h!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(c,h){return this.toArrayLike(o,c,h)}),i.prototype.toArray=function(c,h){return this.toArrayLike(Array,c,h)};var A=function(c,h){return c.allocUnsafe?c.allocUnsafe(h):new c(h)};i.prototype.toArrayLike=function(c,h,g){this._strip();var y=this.byteLength(),w=g||Math.max(1,y);r(y<=w,"byte array longer than desired length"),r(w>0,"Requested array length <= 0");var B=A(c,w),R=h==="le"?"LE":"BE";return this["_toArrayLike"+R](B,y),B},i.prototype._toArrayLikeLE=function(c,h){for(var g=0,y=0,w=0,B=0;w<this.length;w++){var R=this.words[w]<<B|y;c[g++]=R&255,g<c.length&&(c[g++]=R>>8&255),g<c.length&&(c[g++]=R>>16&255),B===6?(g<c.length&&(c[g++]=R>>24&255),y=0,B=0):(y=R>>>24,B+=2)}if(g<c.length)for(c[g++]=y;g<c.length;)c[g++]=0},i.prototype._toArrayLikeBE=function(c,h){for(var g=c.length-1,y=0,w=0,B=0;w<this.length;w++){var R=this.words[w]<<B|y;c[g--]=R&255,g>=0&&(c[g--]=R>>8&255),g>=0&&(c[g--]=R>>16&255),B===6?(g>=0&&(c[g--]=R>>24&255),y=0,B=0):(y=R>>>24,B+=2)}if(g>=0)for(c[g--]=y;g>=0;)c[g--]=0},Math.clz32?i.prototype._countBits=function(c){return 32-Math.clz32(c)}:i.prototype._countBits=function(c){var h=c,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},i.prototype._zeroBits=function(c){if(c===0)return 26;var h=c,g=0;return h&8191||(g+=13,h>>>=13),h&127||(g+=7,h>>>=7),h&15||(g+=4,h>>>=4),h&3||(g+=2,h>>>=2),h&1||g++,g},i.prototype.bitLength=function(){var c=this.words[this.length-1],h=this._countBits(c);return(this.length-1)*26+h};function x(E){for(var c=new Array(E.bitLength()),h=0;h<c.length;h++){var g=h/26|0,y=h%26;c[h]=E.words[g]>>>y&1}return c}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(c+=g,g!==26)break}return c},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},i.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var h=0;h<c.length;h++)this.words[h]=this.words[h]|c.words[h];return this._strip()},i.prototype.ior=function(c){return r((this.negative|c.negative)===0),this.iuor(c)},i.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},i.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},i.prototype.iuand=function(c){var h;this.length>c.length?h=c:h=this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&c.words[g];return this.length=h.length,this._strip()},i.prototype.iand=function(c){return r((this.negative|c.negative)===0),this.iuand(c)},i.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},i.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},i.prototype.iuxor=function(c){var h,g;this.length>c.length?(h=this,g=c):(h=c,g=this);for(var y=0;y<g.length;y++)this.words[y]=h.words[y]^g.words[y];if(this!==h)for(;y<h.length;y++)this.words[y]=h.words[y];return this.length=h.length,this._strip()},i.prototype.ixor=function(c){return r((this.negative|c.negative)===0),this.iuxor(c)},i.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},i.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},i.prototype.inotn=function(c){r(typeof c=="number"&&c>=0);var h=Math.ceil(c/26)|0,g=c%26;this._expand(h),g>0&&h--;for(var y=0;y<h;y++)this.words[y]=~this.words[y]&67108863;return g>0&&(this.words[y]=~this.words[y]&67108863>>26-g),this._strip()},i.prototype.notn=function(c){return this.clone().inotn(c)},i.prototype.setn=function(c,h){r(typeof c=="number"&&c>=0);var g=c/26|0,y=c%26;return this._expand(g+1),h?this.words[g]=this.words[g]|1<<y:this.words[g]=this.words[g]&~(1<<y),this._strip()},i.prototype.iadd=function(c){var h;if(this.negative!==0&&c.negative===0)return this.negative=0,h=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,h=this.isub(c),c.negative=1,h._normSign();var g,y;this.length>c.length?(g=this,y=c):(g=c,y=this);for(var w=0,B=0;B<y.length;B++)h=(g.words[B]|0)+(y.words[B]|0)+w,this.words[B]=h&67108863,w=h>>>26;for(;w!==0&&B<g.length;B++)h=(g.words[B]|0)+w,this.words[B]=h&67108863,w=h>>>26;if(this.length=g.length,w!==0)this.words[this.length]=w,this.length++;else if(g!==this)for(;B<g.length;B++)this.words[B]=g.words[B];return this},i.prototype.add=function(c){var h;return c.negative!==0&&this.negative===0?(c.negative=0,h=this.sub(c),c.negative^=1,h):c.negative===0&&this.negative!==0?(this.negative=0,h=c.sub(this),this.negative=1,h):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},i.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var h=this.iadd(c);return c.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var g=this.cmp(c);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,w;g>0?(y=this,w=c):(y=c,w=this);for(var B=0,R=0;R<w.length;R++)h=(y.words[R]|0)-(w.words[R]|0)+B,B=h>>26,this.words[R]=h&67108863;for(;B!==0&&R<y.length;R++)h=(y.words[R]|0)+B,B=h>>26,this.words[R]=h&67108863;if(B===0&&R<y.length&&y!==this)for(;R<y.length;R++)this.words[R]=y.words[R];return this.length=Math.max(this.length,R),y!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(c){return this.clone().isub(c)};function L(E,c,h){h.negative=c.negative^E.negative;var g=E.length+c.length|0;h.length=g,g=g-1|0;var y=E.words[0]|0,w=c.words[0]|0,B=y*w,R=B&67108863,_=B/67108864|0;h.words[0]=R;for(var f=1;f<g;f++){for(var S=_>>>26,K=_&67108863,Y=Math.min(f,c.length-1),Q=Math.max(0,f-E.length+1);Q<=Y;Q++){var ve=f-Q|0;y=E.words[ve]|0,w=c.words[Q]|0,B=y*w+K,S+=B/67108864|0,K=B&67108863}h.words[f]=K|0,_=S|0}return _!==0?h.words[f]=_|0:h.length--,h._strip()}var P=function(c,h,g){var y=c.words,w=h.words,B=g.words,R=0,_,f,S,K=y[0]|0,Y=K&8191,Q=K>>>13,ve=y[1]|0,ue=ve&8191,pe=ve>>>13,tt=y[2]|0,Ee=tt&8191,we=tt>>>13,Xe=y[3]|0,G=Xe&8191,de=Xe>>>13,Fn=y[4]|0,je=Fn&8191,Ke=Fn>>>13,Pn=y[5]|0,$e=Pn&8191,Pe=Pn>>>13,ut=y[6]|0,qe=ut&8191,Ve=ut>>>13,Ft=y[7]|0,He=Ft&8191,v=Ft>>>13,l=y[8]|0,d=l&8191,k=l>>>13,C=y[9]|0,N=C&8191,z=C>>>13,Ae=w[0]|0,_e=Ae&8191,be=Ae>>>13,Ye=w[1]|0,me=Ye&8191,lt=Ye>>>13,Fa=w[2]|0,ft=Fa&8191,dt=Fa>>>13,Pa=w[3]|0,ht=Pa&8191,pt=Pa>>>13,za=w[4]|0,mt=za&8191,gt=za>>>13,Da=w[5]|0,yt=Da&8191,wt=Da>>>13,qa=w[6]|0,bt=qa&8191,vt=qa>>>13,ja=w[7]|0,_t=ja&8191,xt=ja>>>13,$a=w[8]|0,kt=$a&8191,Et=$a>>>13,Za=w[9]|0,St=Za&8191,Bt=Za>>>13;g.negative=c.negative^h.negative,g.length=19,_=Math.imul(Y,_e),f=Math.imul(Y,be),f=f+Math.imul(Q,_e)|0,S=Math.imul(Q,be);var Ws=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Ws>>>26)|0,Ws&=67108863,_=Math.imul(ue,_e),f=Math.imul(ue,be),f=f+Math.imul(pe,_e)|0,S=Math.imul(pe,be),_=_+Math.imul(Y,me)|0,f=f+Math.imul(Y,lt)|0,f=f+Math.imul(Q,me)|0,S=S+Math.imul(Q,lt)|0;var Gs=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Gs>>>26)|0,Gs&=67108863,_=Math.imul(Ee,_e),f=Math.imul(Ee,be),f=f+Math.imul(we,_e)|0,S=Math.imul(we,be),_=_+Math.imul(ue,me)|0,f=f+Math.imul(ue,lt)|0,f=f+Math.imul(pe,me)|0,S=S+Math.imul(pe,lt)|0,_=_+Math.imul(Y,ft)|0,f=f+Math.imul(Y,dt)|0,f=f+Math.imul(Q,ft)|0,S=S+Math.imul(Q,dt)|0;var Ys=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Ys>>>26)|0,Ys&=67108863,_=Math.imul(G,_e),f=Math.imul(G,be),f=f+Math.imul(de,_e)|0,S=Math.imul(de,be),_=_+Math.imul(Ee,me)|0,f=f+Math.imul(Ee,lt)|0,f=f+Math.imul(we,me)|0,S=S+Math.imul(we,lt)|0,_=_+Math.imul(ue,ft)|0,f=f+Math.imul(ue,dt)|0,f=f+Math.imul(pe,ft)|0,S=S+Math.imul(pe,dt)|0,_=_+Math.imul(Y,ht)|0,f=f+Math.imul(Y,pt)|0,f=f+Math.imul(Q,ht)|0,S=S+Math.imul(Q,pt)|0;var Js=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Js>>>26)|0,Js&=67108863,_=Math.imul(je,_e),f=Math.imul(je,be),f=f+Math.imul(Ke,_e)|0,S=Math.imul(Ke,be),_=_+Math.imul(G,me)|0,f=f+Math.imul(G,lt)|0,f=f+Math.imul(de,me)|0,S=S+Math.imul(de,lt)|0,_=_+Math.imul(Ee,ft)|0,f=f+Math.imul(Ee,dt)|0,f=f+Math.imul(we,ft)|0,S=S+Math.imul(we,dt)|0,_=_+Math.imul(ue,ht)|0,f=f+Math.imul(ue,pt)|0,f=f+Math.imul(pe,ht)|0,S=S+Math.imul(pe,pt)|0,_=_+Math.imul(Y,mt)|0,f=f+Math.imul(Y,gt)|0,f=f+Math.imul(Q,mt)|0,S=S+Math.imul(Q,gt)|0;var Xs=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Xs>>>26)|0,Xs&=67108863,_=Math.imul($e,_e),f=Math.imul($e,be),f=f+Math.imul(Pe,_e)|0,S=Math.imul(Pe,be),_=_+Math.imul(je,me)|0,f=f+Math.imul(je,lt)|0,f=f+Math.imul(Ke,me)|0,S=S+Math.imul(Ke,lt)|0,_=_+Math.imul(G,ft)|0,f=f+Math.imul(G,dt)|0,f=f+Math.imul(de,ft)|0,S=S+Math.imul(de,dt)|0,_=_+Math.imul(Ee,ht)|0,f=f+Math.imul(Ee,pt)|0,f=f+Math.imul(we,ht)|0,S=S+Math.imul(we,pt)|0,_=_+Math.imul(ue,mt)|0,f=f+Math.imul(ue,gt)|0,f=f+Math.imul(pe,mt)|0,S=S+Math.imul(pe,gt)|0,_=_+Math.imul(Y,yt)|0,f=f+Math.imul(Y,wt)|0,f=f+Math.imul(Q,yt)|0,S=S+Math.imul(Q,wt)|0;var Qs=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,_=Math.imul(qe,_e),f=Math.imul(qe,be),f=f+Math.imul(Ve,_e)|0,S=Math.imul(Ve,be),_=_+Math.imul($e,me)|0,f=f+Math.imul($e,lt)|0,f=f+Math.imul(Pe,me)|0,S=S+Math.imul(Pe,lt)|0,_=_+Math.imul(je,ft)|0,f=f+Math.imul(je,dt)|0,f=f+Math.imul(Ke,ft)|0,S=S+Math.imul(Ke,dt)|0,_=_+Math.imul(G,ht)|0,f=f+Math.imul(G,pt)|0,f=f+Math.imul(de,ht)|0,S=S+Math.imul(de,pt)|0,_=_+Math.imul(Ee,mt)|0,f=f+Math.imul(Ee,gt)|0,f=f+Math.imul(we,mt)|0,S=S+Math.imul(we,gt)|0,_=_+Math.imul(ue,yt)|0,f=f+Math.imul(ue,wt)|0,f=f+Math.imul(pe,yt)|0,S=S+Math.imul(pe,wt)|0,_=_+Math.imul(Y,bt)|0,f=f+Math.imul(Y,vt)|0,f=f+Math.imul(Q,bt)|0,S=S+Math.imul(Q,vt)|0;var eo=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(eo>>>26)|0,eo&=67108863,_=Math.imul(He,_e),f=Math.imul(He,be),f=f+Math.imul(v,_e)|0,S=Math.imul(v,be),_=_+Math.imul(qe,me)|0,f=f+Math.imul(qe,lt)|0,f=f+Math.imul(Ve,me)|0,S=S+Math.imul(Ve,lt)|0,_=_+Math.imul($e,ft)|0,f=f+Math.imul($e,dt)|0,f=f+Math.imul(Pe,ft)|0,S=S+Math.imul(Pe,dt)|0,_=_+Math.imul(je,ht)|0,f=f+Math.imul(je,pt)|0,f=f+Math.imul(Ke,ht)|0,S=S+Math.imul(Ke,pt)|0,_=_+Math.imul(G,mt)|0,f=f+Math.imul(G,gt)|0,f=f+Math.imul(de,mt)|0,S=S+Math.imul(de,gt)|0,_=_+Math.imul(Ee,yt)|0,f=f+Math.imul(Ee,wt)|0,f=f+Math.imul(we,yt)|0,S=S+Math.imul(we,wt)|0,_=_+Math.imul(ue,bt)|0,f=f+Math.imul(ue,vt)|0,f=f+Math.imul(pe,bt)|0,S=S+Math.imul(pe,vt)|0,_=_+Math.imul(Y,_t)|0,f=f+Math.imul(Y,xt)|0,f=f+Math.imul(Q,_t)|0,S=S+Math.imul(Q,xt)|0;var to=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(to>>>26)|0,to&=67108863,_=Math.imul(d,_e),f=Math.imul(d,be),f=f+Math.imul(k,_e)|0,S=Math.imul(k,be),_=_+Math.imul(He,me)|0,f=f+Math.imul(He,lt)|0,f=f+Math.imul(v,me)|0,S=S+Math.imul(v,lt)|0,_=_+Math.imul(qe,ft)|0,f=f+Math.imul(qe,dt)|0,f=f+Math.imul(Ve,ft)|0,S=S+Math.imul(Ve,dt)|0,_=_+Math.imul($e,ht)|0,f=f+Math.imul($e,pt)|0,f=f+Math.imul(Pe,ht)|0,S=S+Math.imul(Pe,pt)|0,_=_+Math.imul(je,mt)|0,f=f+Math.imul(je,gt)|0,f=f+Math.imul(Ke,mt)|0,S=S+Math.imul(Ke,gt)|0,_=_+Math.imul(G,yt)|0,f=f+Math.imul(G,wt)|0,f=f+Math.imul(de,yt)|0,S=S+Math.imul(de,wt)|0,_=_+Math.imul(Ee,bt)|0,f=f+Math.imul(Ee,vt)|0,f=f+Math.imul(we,bt)|0,S=S+Math.imul(we,vt)|0,_=_+Math.imul(ue,_t)|0,f=f+Math.imul(ue,xt)|0,f=f+Math.imul(pe,_t)|0,S=S+Math.imul(pe,xt)|0,_=_+Math.imul(Y,kt)|0,f=f+Math.imul(Y,Et)|0,f=f+Math.imul(Q,kt)|0,S=S+Math.imul(Q,Et)|0;var no=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(no>>>26)|0,no&=67108863,_=Math.imul(N,_e),f=Math.imul(N,be),f=f+Math.imul(z,_e)|0,S=Math.imul(z,be),_=_+Math.imul(d,me)|0,f=f+Math.imul(d,lt)|0,f=f+Math.imul(k,me)|0,S=S+Math.imul(k,lt)|0,_=_+Math.imul(He,ft)|0,f=f+Math.imul(He,dt)|0,f=f+Math.imul(v,ft)|0,S=S+Math.imul(v,dt)|0,_=_+Math.imul(qe,ht)|0,f=f+Math.imul(qe,pt)|0,f=f+Math.imul(Ve,ht)|0,S=S+Math.imul(Ve,pt)|0,_=_+Math.imul($e,mt)|0,f=f+Math.imul($e,gt)|0,f=f+Math.imul(Pe,mt)|0,S=S+Math.imul(Pe,gt)|0,_=_+Math.imul(je,yt)|0,f=f+Math.imul(je,wt)|0,f=f+Math.imul(Ke,yt)|0,S=S+Math.imul(Ke,wt)|0,_=_+Math.imul(G,bt)|0,f=f+Math.imul(G,vt)|0,f=f+Math.imul(de,bt)|0,S=S+Math.imul(de,vt)|0,_=_+Math.imul(Ee,_t)|0,f=f+Math.imul(Ee,xt)|0,f=f+Math.imul(we,_t)|0,S=S+Math.imul(we,xt)|0,_=_+Math.imul(ue,kt)|0,f=f+Math.imul(ue,Et)|0,f=f+Math.imul(pe,kt)|0,S=S+Math.imul(pe,Et)|0,_=_+Math.imul(Y,St)|0,f=f+Math.imul(Y,Bt)|0,f=f+Math.imul(Q,St)|0,S=S+Math.imul(Q,Bt)|0;var ro=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(ro>>>26)|0,ro&=67108863,_=Math.imul(N,me),f=Math.imul(N,lt),f=f+Math.imul(z,me)|0,S=Math.imul(z,lt),_=_+Math.imul(d,ft)|0,f=f+Math.imul(d,dt)|0,f=f+Math.imul(k,ft)|0,S=S+Math.imul(k,dt)|0,_=_+Math.imul(He,ht)|0,f=f+Math.imul(He,pt)|0,f=f+Math.imul(v,ht)|0,S=S+Math.imul(v,pt)|0,_=_+Math.imul(qe,mt)|0,f=f+Math.imul(qe,gt)|0,f=f+Math.imul(Ve,mt)|0,S=S+Math.imul(Ve,gt)|0,_=_+Math.imul($e,yt)|0,f=f+Math.imul($e,wt)|0,f=f+Math.imul(Pe,yt)|0,S=S+Math.imul(Pe,wt)|0,_=_+Math.imul(je,bt)|0,f=f+Math.imul(je,vt)|0,f=f+Math.imul(Ke,bt)|0,S=S+Math.imul(Ke,vt)|0,_=_+Math.imul(G,_t)|0,f=f+Math.imul(G,xt)|0,f=f+Math.imul(de,_t)|0,S=S+Math.imul(de,xt)|0,_=_+Math.imul(Ee,kt)|0,f=f+Math.imul(Ee,Et)|0,f=f+Math.imul(we,kt)|0,S=S+Math.imul(we,Et)|0,_=_+Math.imul(ue,St)|0,f=f+Math.imul(ue,Bt)|0,f=f+Math.imul(pe,St)|0,S=S+Math.imul(pe,Bt)|0;var io=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(io>>>26)|0,io&=67108863,_=Math.imul(N,ft),f=Math.imul(N,dt),f=f+Math.imul(z,ft)|0,S=Math.imul(z,dt),_=_+Math.imul(d,ht)|0,f=f+Math.imul(d,pt)|0,f=f+Math.imul(k,ht)|0,S=S+Math.imul(k,pt)|0,_=_+Math.imul(He,mt)|0,f=f+Math.imul(He,gt)|0,f=f+Math.imul(v,mt)|0,S=S+Math.imul(v,gt)|0,_=_+Math.imul(qe,yt)|0,f=f+Math.imul(qe,wt)|0,f=f+Math.imul(Ve,yt)|0,S=S+Math.imul(Ve,wt)|0,_=_+Math.imul($e,bt)|0,f=f+Math.imul($e,vt)|0,f=f+Math.imul(Pe,bt)|0,S=S+Math.imul(Pe,vt)|0,_=_+Math.imul(je,_t)|0,f=f+Math.imul(je,xt)|0,f=f+Math.imul(Ke,_t)|0,S=S+Math.imul(Ke,xt)|0,_=_+Math.imul(G,kt)|0,f=f+Math.imul(G,Et)|0,f=f+Math.imul(de,kt)|0,S=S+Math.imul(de,Et)|0,_=_+Math.imul(Ee,St)|0,f=f+Math.imul(Ee,Bt)|0,f=f+Math.imul(we,St)|0,S=S+Math.imul(we,Bt)|0;var so=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(so>>>26)|0,so&=67108863,_=Math.imul(N,ht),f=Math.imul(N,pt),f=f+Math.imul(z,ht)|0,S=Math.imul(z,pt),_=_+Math.imul(d,mt)|0,f=f+Math.imul(d,gt)|0,f=f+Math.imul(k,mt)|0,S=S+Math.imul(k,gt)|0,_=_+Math.imul(He,yt)|0,f=f+Math.imul(He,wt)|0,f=f+Math.imul(v,yt)|0,S=S+Math.imul(v,wt)|0,_=_+Math.imul(qe,bt)|0,f=f+Math.imul(qe,vt)|0,f=f+Math.imul(Ve,bt)|0,S=S+Math.imul(Ve,vt)|0,_=_+Math.imul($e,_t)|0,f=f+Math.imul($e,xt)|0,f=f+Math.imul(Pe,_t)|0,S=S+Math.imul(Pe,xt)|0,_=_+Math.imul(je,kt)|0,f=f+Math.imul(je,Et)|0,f=f+Math.imul(Ke,kt)|0,S=S+Math.imul(Ke,Et)|0,_=_+Math.imul(G,St)|0,f=f+Math.imul(G,Bt)|0,f=f+Math.imul(de,St)|0,S=S+Math.imul(de,Bt)|0;var oo=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(oo>>>26)|0,oo&=67108863,_=Math.imul(N,mt),f=Math.imul(N,gt),f=f+Math.imul(z,mt)|0,S=Math.imul(z,gt),_=_+Math.imul(d,yt)|0,f=f+Math.imul(d,wt)|0,f=f+Math.imul(k,yt)|0,S=S+Math.imul(k,wt)|0,_=_+Math.imul(He,bt)|0,f=f+Math.imul(He,vt)|0,f=f+Math.imul(v,bt)|0,S=S+Math.imul(v,vt)|0,_=_+Math.imul(qe,_t)|0,f=f+Math.imul(qe,xt)|0,f=f+Math.imul(Ve,_t)|0,S=S+Math.imul(Ve,xt)|0,_=_+Math.imul($e,kt)|0,f=f+Math.imul($e,Et)|0,f=f+Math.imul(Pe,kt)|0,S=S+Math.imul(Pe,Et)|0,_=_+Math.imul(je,St)|0,f=f+Math.imul(je,Bt)|0,f=f+Math.imul(Ke,St)|0,S=S+Math.imul(Ke,Bt)|0;var ao=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(ao>>>26)|0,ao&=67108863,_=Math.imul(N,yt),f=Math.imul(N,wt),f=f+Math.imul(z,yt)|0,S=Math.imul(z,wt),_=_+Math.imul(d,bt)|0,f=f+Math.imul(d,vt)|0,f=f+Math.imul(k,bt)|0,S=S+Math.imul(k,vt)|0,_=_+Math.imul(He,_t)|0,f=f+Math.imul(He,xt)|0,f=f+Math.imul(v,_t)|0,S=S+Math.imul(v,xt)|0,_=_+Math.imul(qe,kt)|0,f=f+Math.imul(qe,Et)|0,f=f+Math.imul(Ve,kt)|0,S=S+Math.imul(Ve,Et)|0,_=_+Math.imul($e,St)|0,f=f+Math.imul($e,Bt)|0,f=f+Math.imul(Pe,St)|0,S=S+Math.imul(Pe,Bt)|0;var co=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(co>>>26)|0,co&=67108863,_=Math.imul(N,bt),f=Math.imul(N,vt),f=f+Math.imul(z,bt)|0,S=Math.imul(z,vt),_=_+Math.imul(d,_t)|0,f=f+Math.imul(d,xt)|0,f=f+Math.imul(k,_t)|0,S=S+Math.imul(k,xt)|0,_=_+Math.imul(He,kt)|0,f=f+Math.imul(He,Et)|0,f=f+Math.imul(v,kt)|0,S=S+Math.imul(v,Et)|0,_=_+Math.imul(qe,St)|0,f=f+Math.imul(qe,Bt)|0,f=f+Math.imul(Ve,St)|0,S=S+Math.imul(Ve,Bt)|0;var uo=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(uo>>>26)|0,uo&=67108863,_=Math.imul(N,_t),f=Math.imul(N,xt),f=f+Math.imul(z,_t)|0,S=Math.imul(z,xt),_=_+Math.imul(d,kt)|0,f=f+Math.imul(d,Et)|0,f=f+Math.imul(k,kt)|0,S=S+Math.imul(k,Et)|0,_=_+Math.imul(He,St)|0,f=f+Math.imul(He,Bt)|0,f=f+Math.imul(v,St)|0,S=S+Math.imul(v,Bt)|0;var lo=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(lo>>>26)|0,lo&=67108863,_=Math.imul(N,kt),f=Math.imul(N,Et),f=f+Math.imul(z,kt)|0,S=Math.imul(z,Et),_=_+Math.imul(d,St)|0,f=f+Math.imul(d,Bt)|0,f=f+Math.imul(k,St)|0,S=S+Math.imul(k,Bt)|0;var fo=(R+_|0)+((f&8191)<<13)|0;R=(S+(f>>>13)|0)+(fo>>>26)|0,fo&=67108863,_=Math.imul(N,St),f=Math.imul(N,Bt),f=f+Math.imul(z,St)|0,S=Math.imul(z,Bt);var ho=(R+_|0)+((f&8191)<<13)|0;return R=(S+(f>>>13)|0)+(ho>>>26)|0,ho&=67108863,B[0]=Ws,B[1]=Gs,B[2]=Ys,B[3]=Js,B[4]=Xs,B[5]=Qs,B[6]=eo,B[7]=to,B[8]=no,B[9]=ro,B[10]=io,B[11]=so,B[12]=oo,B[13]=ao,B[14]=co,B[15]=uo,B[16]=lo,B[17]=fo,B[18]=ho,R!==0&&(B[19]=R,g.length++),g};Math.imul||(P=L);function O(E,c,h){h.negative=c.negative^E.negative,h.length=E.length+c.length;for(var g=0,y=0,w=0;w<h.length-1;w++){var B=y;y=0;for(var R=g&67108863,_=Math.min(w,c.length-1),f=Math.max(0,w-E.length+1);f<=_;f++){var S=w-f,K=E.words[S]|0,Y=c.words[f]|0,Q=K*Y,ve=Q&67108863;B=B+(Q/67108864|0)|0,ve=ve+R|0,R=ve&67108863,B=B+(ve>>>26)|0,y+=B>>>26,B&=67108863}h.words[w]=R,g=B,B=y}return g!==0?h.words[w]=g:h.length--,h._strip()}function j(E,c,h){return O(E,c,h)}i.prototype.mulTo=function(c,h){var g,y=this.length+c.length;return this.length===10&&c.length===10?g=P(this,c,h):y<63?g=L(this,c,h):y<1024?g=O(this,c,h):g=j(this,c,h),g},i.prototype.mul=function(c){var h=new i(null);return h.words=new Array(this.length+c.length),this.mulTo(c,h)},i.prototype.mulf=function(c){var h=new i(null);return h.words=new Array(this.length+c.length),j(this,c,h)},i.prototype.imul=function(c){return this.clone().mulTo(c,this)},i.prototype.imuln=function(c){var h=c<0;h&&(c=-c),r(typeof c=="number"),r(c<67108864);for(var g=0,y=0;y<this.length;y++){var w=(this.words[y]|0)*c,B=(w&67108863)+(g&67108863);g>>=26,g+=w/67108864|0,g+=B>>>26,this.words[y]=B&67108863}return g!==0&&(this.words[y]=g,this.length++),h?this.ineg():this},i.prototype.muln=function(c){return this.clone().imuln(c)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(c){var h=x(c);if(h.length===0)return new i(1);for(var g=this,y=0;y<h.length&&h[y]===0;y++,g=g.sqr());if(++y<h.length)for(var w=g.sqr();y<h.length;y++,w=w.sqr())h[y]!==0&&(g=g.mul(w));return g},i.prototype.iushln=function(c){r(typeof c=="number"&&c>=0);var h=c%26,g=(c-h)/26,y=67108863>>>26-h<<26-h,w;if(h!==0){var B=0;for(w=0;w<this.length;w++){var R=this.words[w]&y,_=(this.words[w]|0)-R<<h;this.words[w]=_|B,B=R>>>26-h}B&&(this.words[w]=B,this.length++)}if(g!==0){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this._strip()},i.prototype.ishln=function(c){return r(this.negative===0),this.iushln(c)},i.prototype.iushrn=function(c,h,g){r(typeof c=="number"&&c>=0);var y;h?y=(h-h%26)/26:y=0;var w=c%26,B=Math.min((c-w)/26,this.length),R=67108863^67108863>>>w<<w,_=g;if(y-=B,y=Math.max(0,y),_){for(var f=0;f<B;f++)_.words[f]=this.words[f];_.length=B}if(B!==0)if(this.length>B)for(this.length-=B,f=0;f<this.length;f++)this.words[f]=this.words[f+B];else this.words[0]=0,this.length=1;var S=0;for(f=this.length-1;f>=0&&(S!==0||f>=y);f--){var K=this.words[f]|0;this.words[f]=S<<26-w|K>>>w,S=K&R}return _&&S!==0&&(_.words[_.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(c,h,g){return r(this.negative===0),this.iushrn(c,h,g)},i.prototype.shln=function(c){return this.clone().ishln(c)},i.prototype.ushln=function(c){return this.clone().iushln(c)},i.prototype.shrn=function(c){return this.clone().ishrn(c)},i.prototype.ushrn=function(c){return this.clone().iushrn(c)},i.prototype.testn=function(c){r(typeof c=="number"&&c>=0);var h=c%26,g=(c-h)/26,y=1<<h;if(this.length<=g)return!1;var w=this.words[g];return!!(w&y)},i.prototype.imaskn=function(c){r(typeof c=="number"&&c>=0);var h=c%26,g=(c-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(h!==0&&g++,this.length=Math.min(g,this.length),h!==0){var y=67108863^67108863>>>h<<h;this.words[this.length-1]&=y}return this._strip()},i.prototype.maskn=function(c){return this.clone().imaskn(c)},i.prototype.iaddn=function(c){return r(typeof c=="number"),r(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},i.prototype._iaddn=function(c){this.words[0]+=c;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(c){if(r(typeof c=="number"),r(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},i.prototype.addn=function(c){return this.clone().iaddn(c)},i.prototype.subn=function(c){return this.clone().isubn(c)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(c,h,g){var y=c.length+g,w;this._expand(y);var B,R=0;for(w=0;w<c.length;w++){B=(this.words[w+g]|0)+R;var _=(c.words[w]|0)*h;B-=_&67108863,R=(B>>26)-(_/67108864|0),this.words[w+g]=B&67108863}for(;w<this.length-g;w++)B=(this.words[w+g]|0)+R,R=B>>26,this.words[w+g]=B&67108863;if(R===0)return this._strip();for(r(R===-1),R=0,w=0;w<this.length;w++)B=-(this.words[w]|0)+R,R=B>>26,this.words[w]=B&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(c,h){var g=this.length-c.length,y=this.clone(),w=c,B=w.words[w.length-1]|0,R=this._countBits(B);g=26-R,g!==0&&(w=w.ushln(g),y.iushln(g),B=w.words[w.length-1]|0);var _=y.length-w.length,f;if(h!=="mod"){f=new i(null),f.length=_+1,f.words=new Array(f.length);for(var S=0;S<f.length;S++)f.words[S]=0}var K=y.clone()._ishlnsubmul(w,1,_);K.negative===0&&(y=K,f&&(f.words[_]=1));for(var Y=_-1;Y>=0;Y--){var Q=(y.words[w.length+Y]|0)*67108864+(y.words[w.length+Y-1]|0);for(Q=Math.min(Q/B|0,67108863),y._ishlnsubmul(w,Q,Y);y.negative!==0;)Q--,y.negative=0,y._ishlnsubmul(w,1,Y),y.isZero()||(y.negative^=1);f&&(f.words[Y]=Q)}return f&&f._strip(),y._strip(),h!=="div"&&g!==0&&y.iushrn(g),{div:f||null,mod:y}},i.prototype.divmod=function(c,h,g){if(r(!c.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,w,B;return this.negative!==0&&c.negative===0?(B=this.neg().divmod(c,h),h!=="mod"&&(y=B.div.neg()),h!=="div"&&(w=B.mod.neg(),g&&w.negative!==0&&w.iadd(c)),{div:y,mod:w}):this.negative===0&&c.negative!==0?(B=this.divmod(c.neg(),h),h!=="mod"&&(y=B.div.neg()),{div:y,mod:B.mod}):this.negative&c.negative?(B=this.neg().divmod(c.neg(),h),h!=="div"&&(w=B.mod.neg(),g&&w.negative!==0&&w.isub(c)),{div:B.div,mod:w}):c.length>this.length||this.cmp(c)<0?{div:new i(0),mod:this}:c.length===1?h==="div"?{div:this.divn(c.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new i(this.modrn(c.words[0]))}:this._wordDiv(c,h)},i.prototype.div=function(c){return this.divmod(c,"div",!1).div},i.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},i.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},i.prototype.divRound=function(c){var h=this.divmod(c);if(h.mod.isZero())return h.div;var g=h.div.negative!==0?h.mod.isub(c):h.mod,y=c.ushrn(1),w=c.andln(1),B=g.cmp(y);return B<0||w===1&&B===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modrn=function(c){var h=c<0;h&&(c=-c),r(c<=67108863);for(var g=(1<<26)%c,y=0,w=this.length-1;w>=0;w--)y=(g*y+(this.words[w]|0))%c;return h?-y:y},i.prototype.modn=function(c){return this.modrn(c)},i.prototype.idivn=function(c){var h=c<0;h&&(c=-c),r(c<=67108863);for(var g=0,y=this.length-1;y>=0;y--){var w=(this.words[y]|0)+g*67108864;this.words[y]=w/c|0,g=w%c}return this._strip(),h?this.ineg():this},i.prototype.divn=function(c){return this.clone().idivn(c)},i.prototype.egcd=function(c){r(c.negative===0),r(!c.isZero());var h=this,g=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var y=new i(1),w=new i(0),B=new i(0),R=new i(1),_=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++_;for(var f=g.clone(),S=h.clone();!h.isZero();){for(var K=0,Y=1;!(h.words[0]&Y)&&K<26;++K,Y<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(y.isOdd()||w.isOdd())&&(y.iadd(f),w.isub(S)),y.iushrn(1),w.iushrn(1);for(var Q=0,ve=1;!(g.words[0]&ve)&&Q<26;++Q,ve<<=1);if(Q>0)for(g.iushrn(Q);Q-- >0;)(B.isOdd()||R.isOdd())&&(B.iadd(f),R.isub(S)),B.iushrn(1),R.iushrn(1);h.cmp(g)>=0?(h.isub(g),y.isub(B),w.isub(R)):(g.isub(h),B.isub(y),R.isub(w))}return{a:B,b:R,gcd:g.iushln(_)}},i.prototype._invmp=function(c){r(c.negative===0),r(!c.isZero());var h=this,g=c.clone();h.negative!==0?h=h.umod(c):h=h.clone();for(var y=new i(1),w=new i(0),B=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var R=0,_=1;!(h.words[0]&_)&&R<26;++R,_<<=1);if(R>0)for(h.iushrn(R);R-- >0;)y.isOdd()&&y.iadd(B),y.iushrn(1);for(var f=0,S=1;!(g.words[0]&S)&&f<26;++f,S<<=1);if(f>0)for(g.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(B),w.iushrn(1);h.cmp(g)>=0?(h.isub(g),y.isub(w)):(g.isub(h),w.isub(y))}var K;return h.cmpn(1)===0?K=y:K=w,K.cmpn(0)<0&&K.iadd(c),K},i.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var h=this.clone(),g=c.clone();h.negative=0,g.negative=0;for(var y=0;h.isEven()&&g.isEven();y++)h.iushrn(1),g.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=h.cmp(g);if(w<0){var B=h;h=g,g=B}else if(w===0||g.cmpn(1)===0)break;h.isub(g)}while(!0);return g.iushln(y)},i.prototype.invm=function(c){return this.egcd(c).a.umod(c)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(c){return this.words[0]&c},i.prototype.bincn=function(c){r(typeof c=="number");var h=c%26,g=(c-h)/26,y=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=y,this;for(var w=y,B=g;w!==0&&B<this.length;B++){var R=this.words[B]|0;R+=w,w=R>>>26,R&=67108863,this.words[B]=R}return w!==0&&(this.words[B]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(c){var h=c<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var g;if(this.length>1)g=1;else{h&&(c=-c),r(c<=67108863,"Number is too big");var y=this.words[0]|0;g=y===c?0:y<c?-1:1}return this.negative!==0?-g|0:g},i.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var h=this.ucmp(c);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var y=this.words[g]|0,w=c.words[g]|0;if(y!==w){y<w?h=-1:y>w&&(h=1);break}}return h},i.prototype.gtn=function(c){return this.cmpn(c)===1},i.prototype.gt=function(c){return this.cmp(c)===1},i.prototype.gten=function(c){return this.cmpn(c)>=0},i.prototype.gte=function(c){return this.cmp(c)>=0},i.prototype.ltn=function(c){return this.cmpn(c)===-1},i.prototype.lt=function(c){return this.cmp(c)===-1},i.prototype.lten=function(c){return this.cmpn(c)<=0},i.prototype.lte=function(c){return this.cmp(c)<=0},i.prototype.eqn=function(c){return this.cmpn(c)===0},i.prototype.eq=function(c){return this.cmp(c)===0},i.red=function(c){return new re(c)},i.prototype.toRed=function(c){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(c){return this.red=c,this},i.prototype.forceRed=function(c){return r(!this.red,"Already a number in reduction context"),this._forceRed(c)},i.prototype.redAdd=function(c){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},i.prototype.redIAdd=function(c){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},i.prototype.redSub=function(c){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},i.prototype.redISub=function(c){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},i.prototype.redShl=function(c){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},i.prototype.redMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},i.prototype.redIMul=function(c){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(c){return r(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var V={k256:null,p224:null,p192:null,p25519:null};function W(E,c){this.name=E,this.p=new i(c,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var c=new i(null);return c.words=new Array(Math.ceil(this.n/13)),c},W.prototype.ireduce=function(c){var h=c,g;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),g=h.bitLength();while(g>this.n);var y=g<this.n?-1:h.ucmp(this.p);return y===0?(h.words[0]=0,h.length=1):y>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},W.prototype.split=function(c,h){c.iushrn(this.n,0,h)},W.prototype.imulK=function(c){return c.imul(this.k)};function H(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(H,W),H.prototype.split=function(c,h){for(var g=4194303,y=Math.min(c.length,9),w=0;w<y;w++)h.words[w]=c.words[w];if(h.length=y,c.length<=9){c.words[0]=0,c.length=1;return}var B=c.words[9];for(h.words[h.length++]=B&g,w=10;w<c.length;w++){var R=c.words[w]|0;c.words[w-10]=(R&g)<<4|B>>>22,B=R}B>>>=22,c.words[w-10]=B,B===0&&c.length>10?c.length-=10:c.length-=9},H.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var h=0,g=0;g<c.length;g++){var y=c.words[g]|0;h+=y*977,c.words[g]=h&67108863,h=y*64+(h/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function ee(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ee,W);function q(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(q,W);function Be(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Be,W),Be.prototype.imulK=function(c){for(var h=0,g=0;g<c.length;g++){var y=(c.words[g]|0)*19+h,w=y&67108863;y>>>=26,c.words[g]=w,h=y}return h!==0&&(c.words[c.length++]=h),c},i._prime=function(c){if(V[c])return V[c];var h;if(c==="k256")h=new H;else if(c==="p224")h=new ee;else if(c==="p192")h=new q;else if(c==="p25519")h=new Be;else throw new Error("Unknown prime "+c);return V[c]=h,h};function re(E){if(typeof E=="string"){var c=i._prime(E);this.m=c.p,this.prime=c}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}re.prototype._verify1=function(c){r(c.negative===0,"red works only with positives"),r(c.red,"red works only with red numbers")},re.prototype._verify2=function(c,h){r((c.negative|h.negative)===0,"red works only with positives"),r(c.red&&c.red===h.red,"red works only with red numbers")},re.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(m(c,c.umod(this.m)._forceRed(this)),c)},re.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},re.prototype.add=function(c,h){this._verify2(c,h);var g=c.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},re.prototype.iadd=function(c,h){this._verify2(c,h);var g=c.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},re.prototype.sub=function(c,h){this._verify2(c,h);var g=c.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},re.prototype.isub=function(c,h){this._verify2(c,h);var g=c.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},re.prototype.shl=function(c,h){return this._verify1(c),this.imod(c.ushln(h))},re.prototype.imul=function(c,h){return this._verify2(c,h),this.imod(c.imul(h))},re.prototype.mul=function(c,h){return this._verify2(c,h),this.imod(c.mul(h))},re.prototype.isqr=function(c){return this.imul(c,c.clone())},re.prototype.sqr=function(c){return this.mul(c,c)},re.prototype.sqrt=function(c){if(c.isZero())return c.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var g=this.m.add(new i(1)).iushrn(2);return this.pow(c,g)}for(var y=this.m.subn(1),w=0;!y.isZero()&&y.andln(1)===0;)w++,y.iushrn(1);r(!y.isZero());var B=new i(1).toRed(this),R=B.redNeg(),_=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);this.pow(f,_).cmp(R)!==0;)f.redIAdd(R);for(var S=this.pow(f,y),K=this.pow(c,y.addn(1).iushrn(1)),Y=this.pow(c,y),Q=w;Y.cmp(B)!==0;){for(var ve=Y,ue=0;ve.cmp(B)!==0;ue++)ve=ve.redSqr();r(ue<Q);var pe=this.pow(S,new i(1).iushln(Q-ue-1));K=K.redMul(pe),S=pe.redSqr(),Y=Y.redMul(S),Q=ue}return K},re.prototype.invm=function(c){var h=c._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},re.prototype.pow=function(c,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return c.clone();var g=4,y=new Array(1<<g);y[0]=new i(1).toRed(this),y[1]=c;for(var w=2;w<y.length;w++)y[w]=this.mul(y[w-1],c);var B=y[0],R=0,_=0,f=h.bitLength()%26;for(f===0&&(f=26),w=h.length-1;w>=0;w--){for(var S=h.words[w],K=f-1;K>=0;K--){var Y=S>>K&1;if(B!==y[0]&&(B=this.sqr(B)),Y===0&&R===0){_=0;continue}R<<=1,R|=Y,_++,!(_!==g&&(w!==0||K!==0))&&(B=this.mul(B,y[R]),_=0,R=0)}f=26}return B},re.prototype.convertTo=function(c){var h=c.umod(this.m);return h===c?h.clone():h},re.prototype.convertFrom=function(c){var h=c.clone();return h.red=null,h},i.mont=function(c){return new D(c)};function D(E){re.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(D,re),D.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},D.prototype.convertFrom=function(c){var h=this.imod(c.mul(this.rinv));return h.red=null,h},D.prototype.imul=function(c,h){if(c.isZero()||h.isZero())return c.words[0]=0,c.length=1,c;var g=c.imul(h),y=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(y).iushrn(this.shift),B=w;return w.cmp(this.m)>=0?B=w.isub(this.m):w.cmpn(0)<0&&(B=w.iadd(this.m)),B._forceRed(this)},D.prototype.mul=function(c,h){if(c.isZero()||h.isZero())return new i(0)._forceRed(this);var g=c.mul(h),y=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(y).iushrn(this.shift),B=w;return w.cmp(this.m)>=0?B=w.isub(this.m):w.cmpn(0)<0&&(B=w.iadd(this.m)),B._forceRed(this)},D.prototype.invm=function(c){var h=this.imod(c._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(n,vn)})(ya);var Xc=ya.exports;const tc=Cs(Xc);var $o={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,e){var t=xe,r=t.Buffer;function s(o,a){for(var u in o)a[u]=o[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(s(t,e),e.Buffer=i);function i(o,a,u){return r(o,a,u)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,u)},i.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var p=r(o);return a!==void 0?typeof u=="string"?p.fill(a,u):p.fill(a):p.fill(0),p},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}})($o,$o.exports);var pd=$o.exports,as=pd.Buffer;function md(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=n.length,a=n.charAt(0),u=Math.log(o)/Math.log(256),p=Math.log(256)/Math.log(o);function m(M){if((Array.isArray(M)||M instanceof Uint8Array)&&(M=as.from(M)),!as.isBuffer(M))throw new TypeError("Expected Buffer");if(M.length===0)return"";for(var T=0,A=0,x=0,L=M.length;x!==L&&M[x]===0;)x++,T++;for(var P=(L-x)*p+1>>>0,O=new Uint8Array(P);x!==L;){for(var j=M[x],V=0,W=P-1;(j!==0||V<A)&&W!==-1;W--,V++)j+=256*O[W]>>>0,O[W]=j%o>>>0,j=j/o>>>0;if(j!==0)throw new Error("Non-zero carry");A=V,x++}for(var H=P-A;H!==P&&O[H]===0;)H++;for(var ee=a.repeat(T);H<P;++H)ee+=n.charAt(O[H]);return ee}function b(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return as.alloc(0);for(var T=0,A=0,x=0;M[T]===a;)A++,T++;for(var L=(M.length-T)*u+1>>>0,P=new Uint8Array(L);T<M.length;){var O=e[M.charCodeAt(T)];if(O===255)return;for(var j=0,V=L-1;(O!==0||j<x)&&V!==-1;V--,j++)O+=o*P[V]>>>0,P[V]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");x=j,T++}for(var W=L-x;W!==L&&P[W]===0;)W++;var H=as.allocUnsafe(A+(L-W));H.fill(0,0,A);for(var ee=A;W!==L;)H[ee++]=P[W++];return H}function I(M){var T=b(M);if(T)return T;throw new Error("Non-base"+o+" character")}return{encode:m,decodeUnsafe:b,decode:I}}var gd=md,yd=gd,wd="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Qc=yd(wd);const jt=Cs(Qc),bd=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qn=new Uint32Array(64);class vd extends $c{constructor(){super(64,32,8,!1),this.A=Xn[0]|0,this.B=Xn[1]|0,this.C=Xn[2]|0,this.D=Xn[3]|0,this.E=Xn[4]|0,this.F=Xn[5]|0,this.G=Xn[6]|0,this.H=Xn[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:u}=this;return[e,t,r,s,i,o,a,u]}set(e,t,r,s,i,o,a,u){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,t){for(let b=0;b<16;b++,t+=4)Qn[b]=e.getUint32(t,!1);for(let b=16;b<64;b++){const I=Qn[b-15],M=Qn[b-2],T=Sn(I,7)^Sn(I,18)^I>>>3,A=Sn(M,17)^Sn(M,19)^M>>>10;Qn[b]=A+Qn[b-7]+T+Qn[b-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:u,G:p,H:m}=this;for(let b=0;b<64;b++){const I=Sn(a,6)^Sn(a,11)^Sn(a,25),M=m+I+sf(a,u,p)+bd[b]+Qn[b]|0,A=(Sn(r,2)^Sn(r,13)^Sn(r,22))+of(r,s,i)|0;m=p,p=u,u=a,a=o+M|0,o=i,i=s,s=r,r=M+A|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,p=p+this.G|0,m=m+this.H|0,this.set(r,s,i,o,a,u,p,m)}roundClean(){Qn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Zo=qc(()=>new vd);var qt={};function Vn(n,e,t){return e<=n&&n<=t}function Ps(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function _d(n){for(var e=String(n),t=e.length,r=0,s=[];r<t;){var i=e.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===t-1)s.push(65533);else{var o=n.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,u=o&1023;s.push(65536+(a<<10)+u),r+=1}else s.push(65533)}r+=1}return s}function xd(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var ms=-1;function wa(n){this.tokens=[].slice.call(n)}wa.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():ms},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var ni=-1;function _o(n,e){if(n)throw TypeError("Decoder error");return e||65533}var gs="utf-8";function ys(n,e){if(!(this instanceof ys))return new ys(n,e);if(n=n!==void 0?String(n).toLowerCase():gs,n!==gs)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ps(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ys.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=Ps(t),this._streaming||(this._decoder=new kd({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var s=new wa(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==ni);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===ni)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),xd(i)}};function ws(n,e){if(!(this instanceof ws))return new ws(n,e);if(n=n!==void 0?String(n).toLowerCase():gs,n!==gs)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ps(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}ws.prototype={encode:function(e,t){e=e?String(e):"",t=Ps(t),this._streaming||(this._encoder=new Ed(this._options)),this._streaming=!!t.stream;for(var r=[],s=new wa(_d(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==ni);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==ni;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function kd(n){var e=n.fatal,t=0,r=0,s=0,i=128,o=191;this.handler=function(a,u){if(u===ms&&s!==0)return s=0,_o(e);if(u===ms)return ni;if(s===0){if(Vn(u,0,127))return u;if(Vn(u,194,223))s=1,t=u-192;else if(Vn(u,224,239))u===224&&(i=160),u===237&&(o=159),s=2,t=u-224;else if(Vn(u,240,244))u===240&&(i=144),u===244&&(o=143),s=3,t=u-240;else return _o(e);return t=t<<6*s,null}if(!Vn(u,i,o))return t=s=r=0,i=128,o=191,a.prepend(u),_o(e);if(i=128,o=191,r+=1,t+=u-128<<6*(s-r),r!==s)return null;var p=t;return t=s=r=0,p}}function Ed(n){n.fatal,this.handler=function(e,t){if(t===ms)return ni;if(Vn(t,0,127))return t;var r,s;Vn(t,128,2047)?(r=1,s=192):Vn(t,2048,65535)?(r=2,s=224):Vn(t,65536,1114111)&&(r=3,s=240);for(var i=[(t>>6*r)+s];r>0;){var o=t>>6*(r-1);i.push(128|o&63),r-=1}return i}}const Sd=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:ys,TextEncoder:ws},Symbol.toStringTag,{value:"Module"})),Bd=ca(Sd);var Ad=vn&&vn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Id=vn&&vn.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),Nn=vn&&vn.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Md=vn&&vn.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&Ad(e,n,t);return Id(e,n),e},eu=vn&&vn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(qt,"__esModule",{value:!0});var tu=qt.deserializeUnchecked=au=qt.deserialize=ou=qt.serialize=qt.BinaryReader=qt.BinaryWriter=qt.BorshError=qt.baseDecode=qt.baseEncode=void 0;const or=eu(Xc),nu=eu(Qc),Rd=Md(Bd),Td=typeof TextDecoder!="function"?Rd.TextDecoder:TextDecoder,Cd=new Td("utf-8",{fatal:!0});function Ld(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),nu.default.encode(Buffer.from(n))}qt.baseEncode=Ld;function Nd(n){return Buffer.from(nu.default.decode(n))}qt.baseDecode=Nd;const xo=1024;class Yt extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}qt.BorshError=Yt;class ru{constructor(){this.buf=Buffer.alloc(xo),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(xo)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new or.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new or.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new or.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new or.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(xo)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}qt.BinaryWriter=ru;function On(n,e,t){const r=t.value;t.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Yt("Reached the end of buffer when deserializing")}throw i}}}class an{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new or.default(e,"le")}readU128(){const e=this.readBuffer(16);return new or.default(e,"le")}readU256(){const e=this.readBuffer(32);return new or.default(e,"le")}readU512(){const e=this.readBuffer(64);return new or.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Yt(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return Cd.decode(t)}catch(r){throw new Yt(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let s=0;s<t;++s)r.push(e());return r}}Nn([On],an.prototype,"readU8",null);Nn([On],an.prototype,"readU16",null);Nn([On],an.prototype,"readU32",null);Nn([On],an.prototype,"readU64",null);Nn([On],an.prototype,"readU128",null);Nn([On],an.prototype,"readU256",null);Nn([On],an.prototype,"readU512",null);Nn([On],an.prototype,"readString",null);Nn([On],an.prototype,"readFixedArray",null);Nn([On],an.prototype,"readArray",null);qt.BinaryReader=an;function iu(n){return n.charAt(0).toUpperCase()+n.slice(1)}function yr(n,e,t,r,s){try{if(typeof r=="string")s[`write${iu(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new Yt(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);s.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new Yt(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let i=0;i<r[1];i++)yr(n,null,t[i],r[0],s)}else s.writeArray(t,i=>{yr(n,e,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?s.writeU8(0):(s.writeU8(1),yr(n,e,t,r.type,s));break}case"map":{s.writeU32(t.size),t.forEach((i,o)=>{yr(n,e,o,r.key,s),yr(n,e,i,r.value,s)});break}default:throw new Yt(`FieldType ${r} unrecognized`)}else su(n,t,s)}catch(i){throw i instanceof Yt&&i.addToFieldPath(e),i}}function su(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const r=n.get(e.constructor);if(!r)throw new Yt(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{yr(n,s,e[s],i,t)});else if(r.kind==="enum"){const s=e[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){t.writeU8(i),yr(n,o,e[o],a,t);break}}}else throw new Yt(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Od(n,e,t=ru){const r=new t;return su(n,e,r),r.toArray()}var ou=qt.serialize=Od;function wr(n,e,t,r){try{if(typeof t=="string")return r[`read${iu(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){const s=[];for(let i=0;i<t[1];i++)s.push(wr(n,null,t[0],r));return s}else return r.readArray(()=>wr(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?wr(n,e,t.type,r):void 0;if(t.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=wr(n,e,t.key,r),u=wr(n,e,t.value,r);s.set(a,u)}return s}return ba(n,t,r)}catch(s){throw s instanceof Yt&&s.addToFieldPath(e),s}}function ba(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const r=n.get(e);if(!r)throw new Yt(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of n.get(e).fields)s[i]=wr(n,i,o,t);return new e(s)}if(r.kind==="enum"){const s=t.readU8();if(s>=r.values.length)throw new Yt(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=wr(n,i,o,t);return new e({[i]:a})}throw new Yt(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Ud(n,e,t,r=an){const s=new r(t),i=ba(n,e,s);if(s.offset<t.length)throw new Yt(`Unexpected ${t.length-s.offset} bytes after deserialized data`);return i}var au=qt.deserialize=Ud;function Fd(n,e,t,r=an){const s=new r(t);return ba(n,e,s)}tu=qt.deserializeUnchecked=Fd;var F={};Object.defineProperty(F,"__esModule",{value:!0});F.s16=F.s8=F.nu64be=F.u48be=F.u40be=F.u32be=F.u24be=F.u16be=zt=F.nu64=F.u48=F.u40=le=F.u32=F.u24=un=F.u16=De=F.u8=_r=F.offset=F.greedy=F.Constant=F.UTF8=F.CString=F.Blob=F.Boolean=F.BitField=F.BitStructure=F.VariantLayout=F.Union=F.UnionLayoutDiscriminator=F.UnionDiscriminator=F.Structure=F.Sequence=F.DoubleBE=F.Double=F.FloatBE=F.Float=F.NearInt64BE=F.NearInt64=F.NearUInt64BE=F.NearUInt64=F.IntBE=F.Int=F.UIntBE=F.UInt=F.OffsetLayout=F.GreedyCount=F.ExternalLayout=F.bindConstructorLayout=F.nameWithProperty=F.Layout=F.uint8ArrayToBuffer=F.checkUint8Array=void 0;F.constant=F.utf8=F.cstr=at=F.blob=F.unionLayoutDiscriminator=F.union=Jt=F.seq=F.bits=oe=F.struct=F.f64be=F.f64=F.f32be=F.f32=F.ns64be=F.s48be=F.s40be=F.s32be=F.s24be=F.s16be=sn=F.ns64=F.s48=F.s40=F.s32=F.s24=void 0;const va=xe;function mi(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}F.checkUint8Array=mi;function Fe(n){return mi(n),va.Buffer.from(n.buffer,n.byteOffset,n.length)}F.uint8ArrayToBuffer=Fe;class Ze{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}F.Layout=Ze;function _a(n,e){return e.property?n+"["+e.property+"]":n}F.nameWithProperty=_a;function Pd(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ze))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value(t,r){return e.decode(t,r)},writable:!0})}F.bindConstructorLayout=Pd;class rn extends Ze{isCount(){throw new Error("ExternalLayout is abstract")}}F.ExternalLayout=rn;class cu extends rn{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){mi(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}F.GreedyCount=cu;class xa extends rn{constructor(e,t=0,r){if(!(e instanceof Ze))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof pn||this.layout instanceof wn}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}F.OffsetLayout=xa;class pn extends Ze{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Fe(e).readUIntLE(t,this.span)}encode(e,t,r=0){return Fe(t).writeUIntLE(e,r,this.span),this.span}}F.UInt=pn;class wn extends Ze{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Fe(e).readUIntBE(t,this.span)}encode(e,t,r=0){return Fe(t).writeUIntBE(e,r,this.span),this.span}}F.UIntBE=wn;class Ir extends Ze{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Fe(e).readIntLE(t,this.span)}encode(e,t,r=0){return Fe(t).writeIntLE(e,r,this.span),this.span}}F.Int=Ir;class gi extends Ze{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Fe(e).readIntBE(t,this.span)}encode(e,t,r=0){return Fe(t).writeIntBE(e,r,this.span),this.span}}F.IntBE=gi;const Vo=Math.pow(2,32);function zs(n){const e=Math.floor(n/Vo),t=n-e*Vo;return{hi32:e,lo32:t}}function Ds(n,e){return n*Vo+e}class uu extends Ze{constructor(e){super(8,e)}decode(e,t=0){const r=Fe(e),s=r.readUInt32LE(t),i=r.readUInt32LE(t+4);return Ds(i,s)}encode(e,t,r=0){const s=zs(e),i=Fe(t);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}F.NearUInt64=uu;class lu extends Ze{constructor(e){super(8,e)}decode(e,t=0){const r=Fe(e),s=r.readUInt32BE(t),i=r.readUInt32BE(t+4);return Ds(s,i)}encode(e,t,r=0){const s=zs(e),i=Fe(t);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}F.NearUInt64BE=lu;class fu extends Ze{constructor(e){super(8,e)}decode(e,t=0){const r=Fe(e),s=r.readUInt32LE(t),i=r.readInt32LE(t+4);return Ds(i,s)}encode(e,t,r=0){const s=zs(e),i=Fe(t);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}F.NearInt64=fu;class du extends Ze{constructor(e){super(8,e)}decode(e,t=0){const r=Fe(e),s=r.readInt32BE(t),i=r.readUInt32BE(t+4);return Ds(s,i)}encode(e,t,r=0){const s=zs(e),i=Fe(t);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}F.NearInt64BE=du;class hu extends Ze{constructor(e){super(4,e)}decode(e,t=0){return Fe(e).readFloatLE(t)}encode(e,t,r=0){return Fe(t).writeFloatLE(e,r),4}}F.Float=hu;class pu extends Ze{constructor(e){super(4,e)}decode(e,t=0){return Fe(e).readFloatBE(t)}encode(e,t,r=0){return Fe(t).writeFloatBE(e,r),4}}F.FloatBE=pu;class mu extends Ze{constructor(e){super(8,e)}decode(e,t=0){return Fe(e).readDoubleLE(t)}encode(e,t,r=0){return Fe(t).writeDoubleLE(e,r),8}}F.Double=mu;class gu extends Ze{constructor(e){super(8,e)}decode(e,t=0){return Fe(e).readDoubleBE(t)}encode(e,t,r=0){return Fe(t).writeDoubleBE(e,r),8}}F.DoubleBE=gu;class yu extends Ze{constructor(e,t,r){if(!(e instanceof Ze))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof rn&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(t instanceof rn)&&0<e.span&&(s=t*e.span),super(s,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof rn&&(s=s.decode(e,t)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){const r=[];let s=0,i=this.count;for(i instanceof rn&&(i=i.decode(e,t));s<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),s+=1;return r}encode(e,t,r=0){const s=this.elementLayout,i=e.reduce((o,a)=>o+s.encode(a,t,r+o),0);return this.count instanceof rn&&this.count.encode(e.length,t,r),i}}F.Sequence=yu;class wu extends Ze{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof Ze,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,t);return t+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t=0){mi(e);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let u=a.span;if(o=0<u?u:0,a.property!==void 0){const p=e[a.property];p!==void 0&&(o=a.encode(p,t,r),0>u&&(u=a.getSpan(t,r)))}i=r,r+=u}return i+o-s}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}F.Structure=wu;class ka{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}F.UnionDiscriminator=ka;class bs extends ka{constructor(e,t){if(!(e instanceof rn&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}F.UnionLayoutDiscriminator=bs;class Ea extends Ze{constructor(e,t,r){let s;if(e instanceof pn||e instanceof wn)s=new bs(new xa(e));else if(e instanceof rn&&e.isCount())s=new bs(e);else if(e instanceof ka)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ze))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof pn||e instanceof wn)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof pn||e instanceof wn,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const s=this.discriminator,i=s.decode(e,t),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let u=0;this.usesPrefixDiscriminator&&(u=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(e,t+u)}else r=o.decode(e,t);return r}encode(e,t,r=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],t,r),a+o.encode(e[o.property],t,r+a)}return s.encode(e,t,r)}addVariant(e,t,r){const s=new bu(this,e,t,r);return this.registry[e]=s,s}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}}F.Union=Ea;class bu extends Ze{constructor(e,t,r,s){if(!(e instanceof Ea))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof Ze))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,t+r)),r+s}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],t,r+s),i+=this.layout.getSpan(t,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}F.VariantLayout=bu;function jr(n){return 0>n&&(n+=4294967296),n}class Sa extends Ze{constructor(e,t,r){if(!(e instanceof pn||e instanceof wn))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let s=0;this._packedSetValue=function(i){return s=jr(i),this},this._packedGetValue=function(){return s}}decode(e,t=0){const r=this.makeDestinationObject(),s=this.word.decode(e,t);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,t,r=0){const s=this.word.decode(t,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new Ba(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new vu(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}F.BitStructure=Sa;class Ba{constructor(e,t,r){if(!(e instanceof Sa))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,a)=>o+a.bits,0);if(t+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-t),this.wordMask=jr(this.valueMask<<this.start),this.property=r}decode(e,t){const r=this.container._packedGetValue();return jr(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==jr(e&this.valueMask))throw new TypeError(_a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=jr(e<<this.start);this.container._packedSetValue(jr(t&~this.wordMask)|r)}}F.BitField=Ba;let vu=class extends Ba{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};F.Boolean=vu;class _u extends Ze{constructor(e,t){if(!(e instanceof rn&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof rn||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),Fe(e).slice(t,t+r)}encode(e,t,r){let s=this.length;if(this.length instanceof rn&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(_a("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>t.length)throw new RangeError("encoding overruns Uint8Array");const i=Fe(e);return Fe(t).write(i.toString("hex"),r,s,"hex"),this.length instanceof rn&&this.length.encode(s,t,r),s}}F.Blob=_u;class xu extends Ze{constructor(e){super(-1,e)}getSpan(e,t=0){mi(e);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return Fe(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const s=va.Buffer.from(e,"utf8"),i=s.length;if(r+i>t.length)throw new RangeError("encoding overruns Buffer");const o=Fe(t);return s.copy(o,r),o[r+i]=0,i+1}}F.CString=xu;class ku extends Ze{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return mi(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Fe(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const s=va.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return s.copy(Fe(t),r),i}}F.UTF8=ku;class Eu extends Ze{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}F.Constant=Eu;F.greedy=(n,e)=>new cu(n,e);var _r=F.offset=(n,e,t)=>new xa(n,e,t),De=F.u8=n=>new pn(1,n),un=F.u16=n=>new pn(2,n);F.u24=n=>new pn(3,n);var le=F.u32=n=>new pn(4,n);F.u40=n=>new pn(5,n);F.u48=n=>new pn(6,n);var zt=F.nu64=n=>new uu(n);F.u16be=n=>new wn(2,n);F.u24be=n=>new wn(3,n);F.u32be=n=>new wn(4,n);F.u40be=n=>new wn(5,n);F.u48be=n=>new wn(6,n);F.nu64be=n=>new lu(n);F.s8=n=>new Ir(1,n);F.s16=n=>new Ir(2,n);F.s24=n=>new Ir(3,n);F.s32=n=>new Ir(4,n);F.s40=n=>new Ir(5,n);F.s48=n=>new Ir(6,n);var sn=F.ns64=n=>new fu(n);F.s16be=n=>new gi(2,n);F.s24be=n=>new gi(3,n);F.s32be=n=>new gi(4,n);F.s40be=n=>new gi(5,n);F.s48be=n=>new gi(6,n);F.ns64be=n=>new du(n);F.f32=n=>new hu(n);F.f32be=n=>new pu(n);F.f64=n=>new mu(n);F.f64be=n=>new gu(n);var oe=F.struct=(n,e,t)=>new wu(n,e,t);F.bits=(n,e,t)=>new Sa(n,e,t);var Jt=F.seq=(n,e,t)=>new yu(n,e,t);F.union=(n,e,t)=>new Ea(n,e,t);F.unionLayoutDiscriminator=(n,e)=>new bs(n,e);var at=F.blob=(n,e)=>new _u(n,e);F.cstr=n=>new xu(n);F.utf8=(n,e)=>new ku(n,e);F.constant=(n,e)=>new Eu(n,e);var es={};Object.defineProperty(es,"__esModule",{value:!0});function zd(n){{const e=Buffer.from(n);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var Dd=es.toBigIntLE=zd;function qd(n){{const e=n.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}es.toBigIntBE=qd;function jd(n,e){{const t=n.toString(16),r=Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var $d=es.toBufferLE=jd;function Zd(n,e){{const t=n.toString(16);return Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}es.toBufferBE=Zd;class Vd extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,u=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??u),i!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Hd(n){return ts(n)&&typeof n[Symbol.iterator]=="function"}function ts(n){return typeof n=="object"&&n!=null}function vs(n){return ts(n)&&!Array.isArray(n)}function _n(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Kd(n){const{done:e,value:t}=n.next();return e?void 0:t}function Wd(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${_n(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:u}}function*nc(n,e,t,r){Hd(n)||(n=[n]);for(const s of n){const i=Wd(s,e,t,r);i&&(yield i)}}function*Aa(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let u="valid";for(const p of e.validator(n,a))p.explanation=t.message,u="not_valid",yield[p,void 0];for(let[p,m,b]of e.entries(n,a)){const I=Aa(m,b,{path:p===void 0?r:[...r,p],branch:p===void 0?s:[...s,m],coerce:i,mask:o,message:t.message});for(const M of I)M[0]?(u=M[0].refinement!=null?"not_refined":"not_valid",yield[M[0],void 0]):i&&(m=M[1],p===void 0?n=m:n instanceof Map?n.set(p,m):n instanceof Set?n.add(m):ts(n)&&(m!==void 0||p in n)&&(n[p]=m))}if(u!=="not_valid")for(const p of e.refiner(n,a))p.explanation=t.message,u="not_refined",yield[p,void 0];u==="valid"&&(yield[void 0,n])}let Un=class{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=u=>u,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(u,p)=>{const m=s(u,p);return nc(m,p,this,u)}:this.validator=()=>[],i?this.refiner=(u,p)=>{const m=i(u,p);return nc(m,p,this,u)}:this.refiner=()=>[]}assert(e,t){return Gd(e,this,t)}create(e,t){return X(e,this,t)}is(e){return Su(e,this)}mask(e,t){return Yd(e,this,t)}validate(e,t={}){return ns(e,this,t)}};function Gd(n,e,t){const r=ns(n,e,{message:t});if(r[0])throw r[0]}function X(n,e,t){const r=ns(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Yd(n,e,t){const r=ns(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function Su(n,e){return!ns(n,e)[0]}function ns(n,e,t={}){const r=Aa(n,e,t),s=Kd(r);return s[0]?[new Vd(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Mr(n,e){return new Un({type:n,schema:null,validator:e})}function Jd(){return Mr("any",()=>!0)}function te(n){return new Un({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${_n(e)}`}})}function Mn(){return Mr("boolean",n=>typeof n=="boolean")}function Ia(n){return Mr("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${_n(e)}`)}function rt(n){const e=_n(n),t=typeof n;return new Un({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${_n(r)}`}})}function Xd(){return Mr("never",()=>!1)}function ne(n){return new Un({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function U(){return Mr("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${_n(n)}`)}function fe(n){return new Un({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function Bu(n,e){return new Un({type:"record",schema:null,*entries(t){if(ts(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return vs(t)||`Expected an object, but received: ${_n(t)}`},coercer(t){return vs(t)?{...t}:t}})}function J(){return Mr("string",n=>typeof n=="string"||`Expected a string, but received: ${_n(n)}`)}function Ma(n){const e=Xd();return new Un({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${_n(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function $(n){const e=Object.keys(n);return new Un({type:"type",schema:n,*entries(t){if(ts(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return vs(t)||`Expected an object, but received: ${_n(t)}`},coercer(t){return vs(t)?{...t}:t}})}function Xt(n){const e=n.map(t=>t.type).join(" | ");return new Un({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=Aa(t,i,r),[a]=o;if(a[0])for(const[u]of o)u&&s.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${_n(t)}`,...s]}})}function yi(){return Mr("unknown",()=>!0)}function rs(n,e,t){return new Un({...n,coercer:(r,s)=>Su(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}var cs,Qd=new Uint8Array(16);function Au(){if(!cs&&(cs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!cs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cs(Qd)}const eh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qs(n){return typeof n=="string"&&eh.test(n)}var Pt=[];for(var ko=0;ko<256;++ko)Pt.push((ko+256).toString(16).substr(1));function js(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Pt[n[e+0]]+Pt[n[e+1]]+Pt[n[e+2]]+Pt[n[e+3]]+"-"+Pt[n[e+4]]+Pt[n[e+5]]+"-"+Pt[n[e+6]]+Pt[n[e+7]]+"-"+Pt[n[e+8]]+Pt[n[e+9]]+"-"+Pt[n[e+10]]+Pt[n[e+11]]+Pt[n[e+12]]+Pt[n[e+13]]+Pt[n[e+14]]+Pt[n[e+15]]).toLowerCase();if(!qs(t))throw TypeError("Stringified UUID is invalid");return t}var rc,Eo,So=0,Bo=0;function th(n,e,t){var r=e&&t||0,s=e||new Array(16);n=n||{};var i=n.node||rc,o=n.clockseq!==void 0?n.clockseq:Eo;if(i==null||o==null){var a=n.random||(n.rng||Au)();i==null&&(i=rc=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Eo=(a[6]<<8|a[7])&16383)}var u=n.msecs!==void 0?n.msecs:Date.now(),p=n.nsecs!==void 0?n.nsecs:Bo+1,m=u-So+(p-Bo)/1e4;if(m<0&&n.clockseq===void 0&&(o=o+1&16383),(m<0||u>So)&&n.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");So=u,Bo=p,Eo=o,u+=122192928e5;var b=((u&268435455)*1e4+p)%4294967296;s[r++]=b>>>24&255,s[r++]=b>>>16&255,s[r++]=b>>>8&255,s[r++]=b&255;var I=u/4294967296*1e4&268435455;s[r++]=I>>>8&255,s[r++]=I&255,s[r++]=I>>>24&15|16,s[r++]=I>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var M=0;M<6;++M)s[r+M]=i[M];return e||js(s)}function Iu(n){if(!qs(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function nh(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var rh="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ih="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Mu(n,e,t){function r(s,i,o,a){if(typeof s=="string"&&(s=nh(s)),typeof i=="string"&&(i=Iu(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+s.length);if(u.set(i),u.set(s,i.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){a=a||0;for(var p=0;p<16;++p)o[a+p]=u[p];return o}return js(u)}try{r.name=n}catch{}return r.DNS=rh,r.URL=ih,r}function sh(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return oh(ah(ch(n),n.length*8))}function oh(n){for(var e=[],t=n.length*32,r="0123456789abcdef",s=0;s<t;s+=8){var i=n[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(o)}return e}function Ru(n){return(n+64>>>9<<4)+14+1}function ah(n,e){n[e>>5]|=128<<e%32,n[Ru(e)-1]=e;for(var t=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<n.length;o+=16){var a=t,u=r,p=s,m=i;t=Vt(t,r,s,i,n[o],7,-680876936),i=Vt(i,t,r,s,n[o+1],12,-389564586),s=Vt(s,i,t,r,n[o+2],17,606105819),r=Vt(r,s,i,t,n[o+3],22,-1044525330),t=Vt(t,r,s,i,n[o+4],7,-176418897),i=Vt(i,t,r,s,n[o+5],12,1200080426),s=Vt(s,i,t,r,n[o+6],17,-1473231341),r=Vt(r,s,i,t,n[o+7],22,-45705983),t=Vt(t,r,s,i,n[o+8],7,1770035416),i=Vt(i,t,r,s,n[o+9],12,-1958414417),s=Vt(s,i,t,r,n[o+10],17,-42063),r=Vt(r,s,i,t,n[o+11],22,-1990404162),t=Vt(t,r,s,i,n[o+12],7,1804603682),i=Vt(i,t,r,s,n[o+13],12,-40341101),s=Vt(s,i,t,r,n[o+14],17,-1502002290),r=Vt(r,s,i,t,n[o+15],22,1236535329),t=Ht(t,r,s,i,n[o+1],5,-165796510),i=Ht(i,t,r,s,n[o+6],9,-1069501632),s=Ht(s,i,t,r,n[o+11],14,643717713),r=Ht(r,s,i,t,n[o],20,-373897302),t=Ht(t,r,s,i,n[o+5],5,-701558691),i=Ht(i,t,r,s,n[o+10],9,38016083),s=Ht(s,i,t,r,n[o+15],14,-660478335),r=Ht(r,s,i,t,n[o+4],20,-405537848),t=Ht(t,r,s,i,n[o+9],5,568446438),i=Ht(i,t,r,s,n[o+14],9,-1019803690),s=Ht(s,i,t,r,n[o+3],14,-187363961),r=Ht(r,s,i,t,n[o+8],20,1163531501),t=Ht(t,r,s,i,n[o+13],5,-1444681467),i=Ht(i,t,r,s,n[o+2],9,-51403784),s=Ht(s,i,t,r,n[o+7],14,1735328473),r=Ht(r,s,i,t,n[o+12],20,-1926607734),t=Kt(t,r,s,i,n[o+5],4,-378558),i=Kt(i,t,r,s,n[o+8],11,-2022574463),s=Kt(s,i,t,r,n[o+11],16,1839030562),r=Kt(r,s,i,t,n[o+14],23,-35309556),t=Kt(t,r,s,i,n[o+1],4,-1530992060),i=Kt(i,t,r,s,n[o+4],11,1272893353),s=Kt(s,i,t,r,n[o+7],16,-155497632),r=Kt(r,s,i,t,n[o+10],23,-1094730640),t=Kt(t,r,s,i,n[o+13],4,681279174),i=Kt(i,t,r,s,n[o],11,-358537222),s=Kt(s,i,t,r,n[o+3],16,-722521979),r=Kt(r,s,i,t,n[o+6],23,76029189),t=Kt(t,r,s,i,n[o+9],4,-640364487),i=Kt(i,t,r,s,n[o+12],11,-421815835),s=Kt(s,i,t,r,n[o+15],16,530742520),r=Kt(r,s,i,t,n[o+2],23,-995338651),t=Wt(t,r,s,i,n[o],6,-198630844),i=Wt(i,t,r,s,n[o+7],10,1126891415),s=Wt(s,i,t,r,n[o+14],15,-1416354905),r=Wt(r,s,i,t,n[o+5],21,-57434055),t=Wt(t,r,s,i,n[o+12],6,1700485571),i=Wt(i,t,r,s,n[o+3],10,-1894986606),s=Wt(s,i,t,r,n[o+10],15,-1051523),r=Wt(r,s,i,t,n[o+1],21,-2054922799),t=Wt(t,r,s,i,n[o+8],6,1873313359),i=Wt(i,t,r,s,n[o+15],10,-30611744),s=Wt(s,i,t,r,n[o+6],15,-1560198380),r=Wt(r,s,i,t,n[o+13],21,1309151649),t=Wt(t,r,s,i,n[o+4],6,-145523070),i=Wt(i,t,r,s,n[o+11],10,-1120210379),s=Wt(s,i,t,r,n[o+2],15,718787259),r=Wt(r,s,i,t,n[o+9],21,-343485551),t=ar(t,a),r=ar(r,u),s=ar(s,p),i=ar(i,m)}return[t,r,s,i]}function ch(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(Ru(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function ar(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function uh(n,e){return n<<e|n>>>32-e}function $s(n,e,t,r,s,i){return ar(uh(ar(ar(e,n),ar(r,i)),s),t)}function Vt(n,e,t,r,s,i,o){return $s(e&t|~e&r,n,e,s,i,o)}function Ht(n,e,t,r,s,i,o){return $s(e&r|t&~r,n,e,s,i,o)}function Kt(n,e,t,r,s,i,o){return $s(e^t^r,n,e,s,i,o)}function Wt(n,e,t,r,s,i,o){return $s(t^(e|~r),n,e,s,i,o)}var lh=Mu("v3",48,sh);function fh(n,e,t){n=n||{};var r=n.random||(n.rng||Au)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=r[s];return e}return js(r)}function dh(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function Ao(n,e){return n<<e|n>>>32-e}function hh(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var s=0;s<r.length;++s)n.push(r.charCodeAt(s))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var i=n.length/4+2,o=Math.ceil(i/16),a=new Array(o),u=0;u<o;++u){for(var p=new Uint32Array(16),m=0;m<16;++m)p[m]=n[u*64+m*4]<<24|n[u*64+m*4+1]<<16|n[u*64+m*4+2]<<8|n[u*64+m*4+3];a[u]=p}a[o-1][14]=(n.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(n.length-1)*8&4294967295;for(var b=0;b<o;++b){for(var I=new Uint32Array(80),M=0;M<16;++M)I[M]=a[b][M];for(var T=16;T<80;++T)I[T]=Ao(I[T-3]^I[T-8]^I[T-14]^I[T-16],1);for(var A=t[0],x=t[1],L=t[2],P=t[3],O=t[4],j=0;j<80;++j){var V=Math.floor(j/20),W=Ao(A,5)+dh(V,x,L,P)+O+e[V]+I[j]>>>0;O=P,P=L,L=Ao(x,30)>>>0,x=A,A=W}t[0]=t[0]+A>>>0,t[1]=t[1]+x>>>0,t[2]=t[2]+L>>>0,t[3]=t[3]+P>>>0,t[4]=t[4]+O>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var ph=Mu("v5",80,hh);const mh="00000000-0000-0000-0000-000000000000";function gh(n){if(!qs(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const yh=Object.freeze(Object.defineProperty({__proto__:null,NIL:mh,parse:Iu,stringify:js,v1:th,v3:lh,v4:fh,v5:ph,validate:qs,version:gh},Symbol.toStringTag,{value:"Module"})),Tu=ca(yh),wh=Tu.v4,bh=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:n};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){const o=typeof r.generator=="function"?r.generator:function(){return wh()};i.id=o(i,r)}else s===2&&t===null?r.notificationIdNull&&(i.id=null):i.id=t;return i};var vh=bh;const _h=Tu.v4,xh=vh,Ni=function(n,e){if(!(this instanceof Ni))return new Ni(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return _h()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var kh=Ni;Ni.prototype.request=function(n,e,t,r){const s=this;let i=null;const o=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&n&&typeof n=="object"&&typeof e=="function")r=e,i=n;else{typeof t=="function"&&(r=t,t=void 0);const p=typeof r=="function";try{i=xh(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(p)return r(m);throw m}if(!p)return i}let u;try{u=JSON.stringify(i,this.options.replacer)}catch(p){return r(p)}return this.callServer(u,function(p,m){s._parseResponse(p,m,r)}),i};Ni.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return t(s)}if(t.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return t(null,r.filter(s),r.filter(i))}else return t(null,r.error,r.result);t(null,r)};const Eh=Cs(kh);var Cu={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function s(u,p,m){this.fn=u,this.context=p,this.once=m||!1}function i(u,p,m,b,I){if(typeof m!="function")throw new TypeError("The listener must be a function");var M=new s(m,b||u,I),T=t?t+p:p;return u._events[T]?u._events[T].fn?u._events[T]=[u._events[T],M]:u._events[T].push(M):(u._events[T]=M,u._eventsCount++),u}function o(u,p){--u._eventsCount===0?u._events=new r:delete u._events[p]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var p=[],m,b;if(this._eventsCount===0)return p;for(b in m=this._events)e.call(m,b)&&p.push(t?b.slice(1):b);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(m)):p},a.prototype.listeners=function(p){var m=t?t+p:p,b=this._events[m];if(!b)return[];if(b.fn)return[b.fn];for(var I=0,M=b.length,T=new Array(M);I<M;I++)T[I]=b[I].fn;return T},a.prototype.listenerCount=function(p){var m=t?t+p:p,b=this._events[m];return b?b.fn?1:b.length:0},a.prototype.emit=function(p,m,b,I,M,T){var A=t?t+p:p;if(!this._events[A])return!1;var x=this._events[A],L=arguments.length,P,O;if(x.fn){switch(x.once&&this.removeListener(p,x.fn,void 0,!0),L){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,b),!0;case 4:return x.fn.call(x.context,m,b,I),!0;case 5:return x.fn.call(x.context,m,b,I,M),!0;case 6:return x.fn.call(x.context,m,b,I,M,T),!0}for(O=1,P=new Array(L-1);O<L;O++)P[O-1]=arguments[O];x.fn.apply(x.context,P)}else{var j=x.length,V;for(O=0;O<j;O++)switch(x[O].once&&this.removeListener(p,x[O].fn,void 0,!0),L){case 1:x[O].fn.call(x[O].context);break;case 2:x[O].fn.call(x[O].context,m);break;case 3:x[O].fn.call(x[O].context,m,b);break;case 4:x[O].fn.call(x[O].context,m,b,I);break;default:if(!P)for(V=1,P=new Array(L-1);V<L;V++)P[V-1]=arguments[V];x[O].fn.apply(x[O].context,P)}}return!0},a.prototype.on=function(p,m,b){return i(this,p,m,b,!1)},a.prototype.once=function(p,m,b){return i(this,p,m,b,!0)},a.prototype.removeListener=function(p,m,b,I){var M=t?t+p:p;if(!this._events[M])return this;if(!m)return o(this,M),this;var T=this._events[M];if(T.fn)T.fn===m&&(!I||T.once)&&(!b||T.context===b)&&o(this,M);else{for(var A=0,x=[],L=T.length;A<L;A++)(T[A].fn!==m||I&&!T[A].once||b&&T[A].context!==b)&&x.push(T[A]);x.length?this._events[M]=x.length===1?x[0]:x:o(this,M)}return this},a.prototype.removeAllListeners=function(p){var m;return p?(m=t?t+p:p,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(Cu);var Sh=Cu.exports;const Lu=Cs(Sh);var Bh=class extends Lu{constructor(e,t,r){super();At(this,"socket");this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,t,r){const s=r||t;try{this.socket.send(e),s()}catch(i){s(i)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function Ah(n,e){return new Bh(n,e)}var Ih=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},Mh=class extends Lu{constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},u,p){super();At(this,"address");At(this,"rpc_id");At(this,"queue");At(this,"options");At(this,"autoconnect");At(this,"ready");At(this,"reconnect");At(this,"reconnect_timer_id");At(this,"reconnect_interval");At(this,"max_reconnects");At(this,"rest_options");At(this,"current_reconnects");At(this,"generate_request_id");At(this,"socket");At(this,"webSocketFactory");At(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),p?this.dataPack=p:this.dataPack=new Ih,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,t),u={jsonrpc:"2.0",method:e,params:t||void 0,id:a};this.socket.send(this.dataPack.encode(u),s,p=>{if(p)return o(p);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.on",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.off",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=xe.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval)))})}};class Nu extends Dc{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ql(e);const r=la(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return ps(this),this.iHash.update(e),this}digestInto(e){ps(this),Ns(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ou=(n,e,t)=>new Nu(n,e).update(t).digest();Ou.create=(n,e)=>new Nu(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ic(n){n.lowS!==void 0&&Wn("lowS",n.lowS),n.prehash!==void 0&&Wn("prehash",n.prehash)}function Rh(n){const e=pa(n);pi(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Th,hexToBytes:Ch}=qf,Zn={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(n,e)=>{const{Err:t}=Zn;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const r=e.length/2,s=Vr(r);if(s.length/2&128)throw new t("tlv.encode: long form length too big");const i=r>127?Vr(s.length/2|128):"";return`${Vr(n)}${i}${s}${e}`},decode(n,e){const{Err:t}=Zn;let r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const u=s&127;if(!u)throw new t("tlv.decode(long): indefinite length not supported");if(u>4)throw new t("tlv.decode(long): byte length is too big");const p=e.subarray(r,r+u);if(p.length!==u)throw new t("tlv.decode: length bytes not complete");if(p[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const m of p)o=o<<8|m;if(r+=u,o<128)throw new t("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new t("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(n){const{Err:e}=Zn;if(n<Hn)throw new e("integer: negative integers are not allowed");let t=Vr(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected assertion");return t},decode(n){const{Err:e}=Zn;if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return Th(n)}},toSig(n){const{Err:e,_int:t,_tlv:r}=Zn,s=typeof n=="string"?Ch(n):n;Qi(s);const{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("Invalid signature: left bytes after parsing");const{v:a,l:u}=r.decode(2,i),{v:p,l:m}=r.decode(2,u);if(m.length)throw new e("Invalid signature: left bytes after parsing");return{r:t.decode(a),s:t.decode(p)}},hexFromSig(n){const{_tlv:e,_int:t}=Zn,r=`${e.encode(2,t.encode(n.r))}${e.encode(2,t.encode(n.s))}`;return e.encode(48,r)}},Hn=BigInt(0),Ot=BigInt(1);BigInt(2);const sc=BigInt(3);BigInt(4);function Lh(n){const e=Rh(n),{Fp:t}=e,r=Fs(e.n,e.nBitLength),s=e.toBytes||((A,x,L)=>{const P=x.toAffine();return Sr(Uint8Array.from([4]),t.toBytes(P.x),t.toBytes(P.y))}),i=e.fromBytes||(A=>{const x=A.subarray(1),L=t.fromBytes(x.subarray(0,t.BYTES)),P=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:L,y:P}});function o(A){const{a:x,b:L}=e,P=t.sqr(A),O=t.mul(P,A);return t.add(t.add(O,t.mul(A,x)),L)}if(!t.eql(t.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(A){return Us(A,Ot,e.n)}function u(A){const{allowedPrivateKeyLengths:x,nByteLength:L,wrapPrivateKey:P,n:O}=e;if(x&&typeof A!="bigint"){if(kr(A)&&(A=Er(A)),typeof A!="string"||!x.includes(A.length))throw new Error("Invalid key");A=A.padStart(L*2,"0")}let j;try{j=typeof A=="bigint"?A:vr(Rt("private key",A,L))}catch{throw new Error(`private key must be ${L} bytes, hex or bigint, not ${typeof A}`)}return P&&(j=et(j,O)),hn("private key",j,Ot,O),j}function p(A){if(!(A instanceof I))throw new Error("ProjectivePoint expected")}const m=Li((A,x)=>{const{px:L,py:P,pz:O}=A;if(t.eql(O,t.ONE))return{x:L,y:P};const j=A.is0();x==null&&(x=j?t.ONE:t.inv(O));const V=t.mul(L,x),W=t.mul(P,x),H=t.mul(O,x);if(j)return{x:t.ZERO,y:t.ZERO};if(!t.eql(H,t.ONE))throw new Error("invZ was invalid");return{x:V,y:W}}),b=Li(A=>{if(A.is0()){if(e.allowInfinityPoint&&!t.is0(A.py))return;throw new Error("bad point: ZERO")}const{x,y:L}=A.toAffine();if(!t.isValid(x)||!t.isValid(L))throw new Error("bad point: x or y not FE");const P=t.sqr(L),O=o(x);if(!t.eql(P,O))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class I{constructor(x,L,P){if(this.px=x,this.py=L,this.pz=P,x==null||!t.isValid(x))throw new Error("x required");if(L==null||!t.isValid(L))throw new Error("y required");if(P==null||!t.isValid(P))throw new Error("z required");Object.freeze(this)}static fromAffine(x){const{x:L,y:P}=x||{};if(!x||!t.isValid(L)||!t.isValid(P))throw new Error("invalid affine point");if(x instanceof I)throw new Error("projective point not allowed");const O=j=>t.eql(j,t.ZERO);return O(L)&&O(P)?I.ZERO:new I(L,P,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const L=t.invertBatch(x.map(P=>P.pz));return x.map((P,O)=>P.toAffine(L[O])).map(I.fromAffine)}static fromHex(x){const L=I.fromAffine(i(Rt("pointHex",x)));return L.assertValidity(),L}static fromPrivateKey(x){return I.BASE.multiply(u(x))}static msm(x,L){return Jc(I,r,x,L)}_setWindowSize(x){T.setWindowSize(this,x)}assertValidity(){b(this)}hasEvenY(){const{y:x}=this.toAffine();if(t.isOdd)return!t.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){p(x);const{px:L,py:P,pz:O}=this,{px:j,py:V,pz:W}=x,H=t.eql(t.mul(L,W),t.mul(j,O)),ee=t.eql(t.mul(P,W),t.mul(V,O));return H&&ee}negate(){return new I(this.px,t.neg(this.py),this.pz)}double(){const{a:x,b:L}=e,P=t.mul(L,sc),{px:O,py:j,pz:V}=this;let W=t.ZERO,H=t.ZERO,ee=t.ZERO,q=t.mul(O,O),Be=t.mul(j,j),re=t.mul(V,V),D=t.mul(O,j);return D=t.add(D,D),ee=t.mul(O,V),ee=t.add(ee,ee),W=t.mul(x,ee),H=t.mul(P,re),H=t.add(W,H),W=t.sub(Be,H),H=t.add(Be,H),H=t.mul(W,H),W=t.mul(D,W),ee=t.mul(P,ee),re=t.mul(x,re),D=t.sub(q,re),D=t.mul(x,D),D=t.add(D,ee),ee=t.add(q,q),q=t.add(ee,q),q=t.add(q,re),q=t.mul(q,D),H=t.add(H,q),re=t.mul(j,V),re=t.add(re,re),q=t.mul(re,D),W=t.sub(W,q),ee=t.mul(re,Be),ee=t.add(ee,ee),ee=t.add(ee,ee),new I(W,H,ee)}add(x){p(x);const{px:L,py:P,pz:O}=this,{px:j,py:V,pz:W}=x;let H=t.ZERO,ee=t.ZERO,q=t.ZERO;const Be=e.a,re=t.mul(e.b,sc);let D=t.mul(L,j),E=t.mul(P,V),c=t.mul(O,W),h=t.add(L,P),g=t.add(j,V);h=t.mul(h,g),g=t.add(D,E),h=t.sub(h,g),g=t.add(L,O);let y=t.add(j,W);return g=t.mul(g,y),y=t.add(D,c),g=t.sub(g,y),y=t.add(P,O),H=t.add(V,W),y=t.mul(y,H),H=t.add(E,c),y=t.sub(y,H),q=t.mul(Be,g),H=t.mul(re,c),q=t.add(H,q),H=t.sub(E,q),q=t.add(E,q),ee=t.mul(H,q),E=t.add(D,D),E=t.add(E,D),c=t.mul(Be,c),g=t.mul(re,g),E=t.add(E,c),c=t.sub(D,c),c=t.mul(Be,c),g=t.add(g,c),D=t.mul(E,g),ee=t.add(ee,D),D=t.mul(y,g),H=t.mul(h,H),H=t.sub(H,D),D=t.mul(h,E),q=t.mul(y,q),q=t.add(q,D),new I(H,ee,q)}subtract(x){return this.add(x.negate())}is0(){return this.equals(I.ZERO)}wNAF(x){return T.wNAFCached(this,x,I.normalizeZ)}multiplyUnsafe(x){hn("scalar",x,Hn,e.n);const L=I.ZERO;if(x===Hn)return L;if(x===Ot)return this;const{endo:P}=e;if(!P)return T.unsafeLadder(this,x);let{k1neg:O,k1:j,k2neg:V,k2:W}=P.splitScalar(x),H=L,ee=L,q=this;for(;j>Hn||W>Hn;)j&Ot&&(H=H.add(q)),W&Ot&&(ee=ee.add(q)),q=q.double(),j>>=Ot,W>>=Ot;return O&&(H=H.negate()),V&&(ee=ee.negate()),ee=new I(t.mul(ee.px,P.beta),ee.py,ee.pz),H.add(ee)}multiply(x){const{endo:L,n:P}=e;hn("scalar",x,Ot,P);let O,j;if(L){const{k1neg:V,k1:W,k2neg:H,k2:ee}=L.splitScalar(x);let{p:q,f:Be}=this.wNAF(W),{p:re,f:D}=this.wNAF(ee);q=T.constTimeNegate(V,q),re=T.constTimeNegate(H,re),re=new I(t.mul(re.px,L.beta),re.py,re.pz),O=q.add(re),j=Be.add(D)}else{const{p:V,f:W}=this.wNAF(x);O=V,j=W}return I.normalizeZ([O,j])[0]}multiplyAndAddUnsafe(x,L,P){const O=I.BASE,j=(W,H)=>H===Hn||H===Ot||!W.equals(O)?W.multiplyUnsafe(H):W.multiply(H),V=j(this,L).add(j(x,P));return V.is0()?void 0:V}toAffine(x){return m(this,x)}isTorsionFree(){const{h:x,isTorsionFree:L}=e;if(x===Ot)return!0;if(L)return L(I,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:L}=e;return x===Ot?this:L?L(I,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return Wn("isCompressed",x),this.assertValidity(),s(I,this,x)}toHex(x=!0){return Wn("isCompressed",x),Er(this.toRawBytes(x))}}I.BASE=new I(e.Gx,e.Gy,t.ONE),I.ZERO=new I(t.ZERO,t.ONE,t.ZERO);const M=e.nBitLength,T=Yc(I,e.endo?Math.ceil(M/2):M);return{CURVE:e,ProjectivePoint:I,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:a}}function Nh(n){const e=pa(n);return pi(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Oh(n){const e=Nh(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(c){return et(c,r)}function a(c){return jo(c,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:b}=Lh({...e,toBytes(c,h,g){const y=h.toAffine(),w=t.toBytes(y.x),B=Sr;return Wn("isCompressed",g),g?B(Uint8Array.from([h.hasEvenY()?2:3]),w):B(Uint8Array.from([4]),w,t.toBytes(y.y))},fromBytes(c){const h=c.length,g=c[0],y=c.subarray(1);if(h===s&&(g===2||g===3)){const w=vr(y);if(!Us(w,Ot,t.ORDER))throw new Error("Point is not on curve");const B=m(w);let R;try{R=t.sqrt(B)}catch(S){const K=S instanceof Error?": "+S.message:"";throw new Error("Point is not on curve"+K)}const _=(R&Ot)===Ot;return(g&1)===1!==_&&(R=t.neg(R)),{x:w,y:R}}else if(h===i&&g===4){const w=t.fromBytes(y.subarray(0,t.BYTES)),B=t.fromBytes(y.subarray(t.BYTES,2*t.BYTES));return{x:w,y:B}}else throw new Error(`Point of length ${h} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),I=c=>Er(ti(c,e.nByteLength));function M(c){const h=r>>Ot;return c>h}function T(c){return M(c)?o(-c):c}const A=(c,h,g)=>vr(c.slice(h,g));class x{constructor(h,g,y){this.r=h,this.s=g,this.recovery=y,this.assertValidity()}static fromCompact(h){const g=e.nByteLength;return h=Rt("compactSignature",h,g*2),new x(A(h,0,g),A(h,g,2*g))}static fromDER(h){const{r:g,s:y}=Zn.toSig(Rt("DER",h));return new x(g,y)}assertValidity(){hn("r",this.r,Ot,r),hn("s",this.s,Ot,r)}addRecoveryBit(h){return new x(this.r,this.s,h)}recoverPublicKey(h){const{r:g,s:y,recovery:w}=this,B=W(Rt("msgHash",h));if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");const R=w===2||w===3?g+e.n:g;if(R>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const _=w&1?"03":"02",f=u.fromHex(_+I(R)),S=a(R),K=o(-B*S),Y=o(y*S),Q=u.BASE.multiplyAndAddUnsafe(f,K,Y);if(!Q)throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return M(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ei(this.toDERHex())}toDERHex(){return Zn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ei(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}const L={isValidPrivateKey(c){try{return p(c),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const c=Gc(e.n);return Jf(e.randomBytes(c),e.n)},precompute(c=8,h=u.BASE){return h._setWindowSize(c),h.multiply(BigInt(3)),h}};function P(c,h=!0){return u.fromPrivateKey(c).toRawBytes(h)}function O(c){const h=kr(c),g=typeof c=="string",y=(h||g)&&c.length;return h?y===s||y===i:g?y===2*s||y===2*i:c instanceof u}function j(c,h,g=!0){if(O(c))throw new Error("first arg must be private key");if(!O(h))throw new Error("second arg must be public key");return u.fromHex(h).multiply(p(c)).toRawBytes(g)}const V=e.bits2int||function(c){const h=vr(c),g=c.length*8-e.nBitLength;return g>0?h>>BigInt(g):h},W=e.bits2int_modN||function(c){return o(V(c))},H=ha(e.nBitLength);function ee(c){return hn(`num < 2^${e.nBitLength}`,c,Hn,H),ti(c,e.nByteLength)}function q(c,h,g=Be){if(["recovered","canonical"].some(ue=>ue in g))throw new Error("sign() legacy options not supported");const{hash:y,randomBytes:w}=e;let{lowS:B,prehash:R,extraEntropy:_}=g;B==null&&(B=!0),c=Rt("msgHash",c),ic(g),R&&(c=Rt("prehashed msgHash",y(c)));const f=W(c),S=p(h),K=[ee(S),ee(f)];if(_!=null&&_!==!1){const ue=_===!0?w(t.BYTES):_;K.push(Rt("extraEntropy",ue))}const Y=Sr(...K),Q=f;function ve(ue){const pe=V(ue);if(!b(pe))return;const tt=a(pe),Ee=u.BASE.multiply(pe).toAffine(),we=o(Ee.x);if(we===Hn)return;const Xe=o(tt*o(Q+we*S));if(Xe===Hn)return;let G=(Ee.x===we?0:2)|Number(Ee.y&Ot),de=Xe;return B&&M(Xe)&&(de=T(Xe),G^=1),new x(we,de,G)}return{seed:Y,k2sig:ve}}const Be={lowS:e.lowS,prehash:!1},re={lowS:e.lowS,prehash:!1};function D(c,h,g=Be){const{seed:y,k2sig:w}=q(c,h,g),B=e;return Hc(B.hash.outputLen,B.nByteLength,B.hmac)(y,w)}u.BASE._setWindowSize(8);function E(c,h,g,y=re){var Ee;const w=c;if(h=Rt("msgHash",h),g=Rt("publicKey",g),"strict"in y)throw new Error("options.strict was renamed to lowS");ic(y);const{lowS:B,prehash:R}=y;let _,f;try{if(typeof w=="string"||kr(w))try{_=x.fromDER(w)}catch(we){if(!(we instanceof Zn.Err))throw we;_=x.fromCompact(w)}else if(typeof w=="object"&&typeof w.r=="bigint"&&typeof w.s=="bigint"){const{r:we,s:Xe}=w;_=new x(we,Xe)}else throw new Error("PARSE");f=u.fromHex(g)}catch(we){if(we.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&_.hasHighS())return!1;R&&(h=e.hash(h));const{r:S,s:K}=_,Y=W(h),Q=a(K),ve=o(Y*Q),ue=o(S*Q),pe=(Ee=u.BASE.multiplyAndAddUnsafe(f,ve,ue))==null?void 0:Ee.toAffine();return pe?o(pe.x)===S:!1}return{CURVE:e,getPublicKey:P,getSharedSecret:j,sign:D,verify:E,ProjectivePoint:u,Signature:x,utils:L}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Uh(n){return{hash:n,hmac:(e,...t)=>Ou(n,e,nf(...t)),randomBytes:jc}}function Fh(n,e){const t=r=>Oh({...n,...Uh(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),oc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ph=BigInt(1),Ho=BigInt(2),ac=(n,e)=>(n+e/Ho)/e;function zh(n){const e=Uu,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),p=n*n*n%e,m=p*p*n%e,b=ot(m,t,e)*m%e,I=ot(b,t,e)*m%e,M=ot(I,Ho,e)*p%e,T=ot(M,s,e)*M%e,A=ot(T,i,e)*T%e,x=ot(A,a,e)*A%e,L=ot(x,u,e)*x%e,P=ot(L,a,e)*A%e,O=ot(P,t,e)*m%e,j=ot(O,o,e)*T%e,V=ot(j,r,e)*p%e,W=ot(V,Ho,e);if(!Ko.eql(Ko.sqr(W),n))throw new Error("Cannot find square root");return W}const Ko=Fs(Uu,void 0,void 0,{sqrt:zh}),Ra=Fh({a:BigInt(0),b:BigInt(7),Fp:Ko,n:oc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=oc,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ph*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=ac(i*n,e),u=ac(-r*n,e);let p=et(n-a*t-u*s,e),m=et(-a*r-u*i,e);const b=p>o,I=m>o;if(b&&(p=e-p),I&&(m=e-m),p>o||m>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:b,k1:p,k2neg:I,k2:m}}}},Zo);BigInt(0);Ra.ProjectivePoint;function cc(n){try{return ga.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Dh=(n,e)=>ga.sign(n,e.slice(0,32)),qh=ga.verify,ri=n=>xe.Buffer.isBuffer(n)?n:n instanceof Uint8Array?xe.Buffer.from(n.buffer,n.byteOffset,n.byteLength):xe.Buffer.from(n);class jh{constructor(e){Object.assign(this,e)}encode(){return xe.Buffer.from(ou(ds,this))}static decode(e){return au(ds,this,e)}static decodeUnchecked(e){return tu(ds,this,e)}}const ds=new Map;var Fu;const $h=32,cr=32;function Zh(n){return n._bn!==void 0}let uc=1;class ye extends jh{constructor(e){if(super({}),this._bn=void 0,Zh(e))this._bn=e._bn;else{if(typeof e=="string"){const t=jt.decode(e);if(t.length!=cr)throw new Error("Invalid public key input");this._bn=new tc(t)}else this._bn=new tc(e);if(this._bn.byteLength()>cr)throw new Error("Invalid public key input")}}static unique(){const e=new ye(uc);return uc+=1,new ye(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return jt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(xe.Buffer);if(e.length===cr)return e;const t=xe.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=xe.Buffer.concat([e.toBuffer(),xe.Buffer.from(t),r.toBuffer()]),i=Zo(s);return new ye(i)}static createProgramAddressSync(e,t){let r=xe.Buffer.alloc(0);e.forEach(function(i){if(i.length>$h)throw new TypeError("Max seed length exceeded");r=xe.Buffer.concat([r,ri(i)])}),r=xe.Buffer.concat([r,t.toBuffer(),xe.Buffer.from("ProgramDerivedAddress")]);const s=Zo(r);if(cc(s))throw new Error("Invalid seeds, address must fall off the curve");return new ye(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(xe.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ye(e);return cc(t.toBytes())}}Fu=ye;ye.default=new Fu("11111111111111111111111111111111");ds.set(ye,{kind:"struct",fields:[["_bn","u256"]]});new ye("BPFLoader1111111111111111111111111111111111");const Yr=1232,Pu=127,zu=64;class Du extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Du.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class qu extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(qu.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ei extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ei.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class _s{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Ne=(n="publicKey")=>at(32,n),Hr=(n="string")=>{const e=oe([le("length"),le("lengthPadding"),at(_r(le(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const u={chars:xe.Buffer.from(i,"utf8")};return r(u,o,a)},s.alloc=i=>le().span+le().span+xe.Buffer.from(i,"utf8").length,s},Vh=(n="authorized")=>oe([Ne("staker"),Ne("withdrawer")],n),Hh=(n="lockup")=>oe([sn("unixTimestamp"),sn("epoch"),Ne("custodian")],n),Kh=(n="voteInit")=>oe([Ne("nodePubkey"),Ne("authorizedVoter"),Ne("authorizedWithdrawer"),De("commission")],n),Wh=(n="voteAuthorizeWithSeedArgs")=>oe([le("voteAuthorizationType"),Ne("currentAuthorityDerivedKeyOwnerPubkey"),Hr("currentAuthorityDerivedKeySeed"),Ne("newAuthorized")],n);function ln(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function fn(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function It(n,e){if(!n)throw new Error(e||"Assertion failed")}class Zs{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let u=r.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,u)),u},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const u=s(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new Zs(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];It(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,u])=>u.isSigner&&u.isWritable),r=e.filter(([,u])=>u.isSigner&&!u.isWritable),s=e.filter(([,u])=>!u.isSigner&&u.isWritable),i=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{It(t.length>0,"Expected at least one writable signer key");const[u]=t[0];It(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([u])=>new ye(u)),...r.map(([u])=>new ye(u)),...s.map(([u])=>new ye(u)),...i.map(([u])=>new ye(u))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new ye(i),u=e.findIndex(p=>p.equals(a));u>=0&&(It(u<256,"Max lookup table index exceeded"),r.push(u),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const ju="Reached end of buffer unexpectedly";function Kn(n){if(n.length===0)throw new Error(ju);return n.shift()}function dn(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(ju);return n.splice(...e)}class ur{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ye(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:jt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new _s(this.staticAccountKeys)}static compile(e){const t=Zs.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new _s(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:jt.encode(a.data)}));return new ur({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];fn(t,e);const r=this.instructions.map(b=>{const{accounts:I,programIdIndex:M}=b,T=Array.from(jt.decode(b.data));let A=[];fn(A,I.length);let x=[];return fn(x,T.length),{programIdIndex:M,keyIndicesCount:xe.Buffer.from(A),keyIndices:I,dataLength:xe.Buffer.from(x),data:T}});let s=[];fn(s,r.length);let i=xe.Buffer.alloc(Yr);xe.Buffer.from(s).copy(i);let o=s.length;r.forEach(b=>{const M=oe([De("programIdIndex"),at(b.keyIndicesCount.length,"keyIndicesCount"),Jt(De("keyIndex"),b.keyIndices.length,"keyIndices"),at(b.dataLength.length,"dataLength"),Jt(De("userdatum"),b.data.length,"data")]).encode(b,i,o);o+=M}),i=i.slice(0,o);const a=oe([at(1,"numRequiredSignatures"),at(1,"numReadonlySignedAccounts"),at(1,"numReadonlyUnsignedAccounts"),at(t.length,"keyCount"),Jt(Ne("key"),e,"keys"),Ne("recentBlockhash")]),u={numRequiredSignatures:xe.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:xe.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:xe.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:xe.Buffer.from(t),keys:this.accountKeys.map(b=>ri(b.toBytes())),recentBlockhash:jt.decode(this.recentBlockhash)};let p=xe.Buffer.alloc(2048);const m=a.encode(u,p);return i.copy(p,m),p.slice(0,m+i.length)}static from(e){let t=[...e];const r=Kn(t);if(r!==(r&Pu))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Kn(t),i=Kn(t),o=ln(t);let a=[];for(let I=0;I<o;I++){const M=dn(t,0,cr);a.push(new ye(xe.Buffer.from(M)))}const u=dn(t,0,cr),p=ln(t);let m=[];for(let I=0;I<p;I++){const M=Kn(t),T=ln(t),A=dn(t,0,T),x=ln(t),L=dn(t,0,x),P=jt.encode(xe.Buffer.from(L));m.push({programIdIndex:M,accounts:A,data:P})}const b={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:jt.encode(xe.Buffer.from(u)),accountKeys:a,instructions:m};return new ur(b)}}class xs{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new _s(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=Zs.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const m of i){const b=t.extractTableLookup(m);if(b!==void 0){const[I,{writable:M,readonly:T}]=b;r.push(I),s.writable.push(...M),s.readonly.push(...T)}}const[o,a]=t.getMessageComponents(),p=new _s(a,s).compileInstructions(e.instructions);return new xs({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:p,addressTableLookups:r})}serialize(){const e=Array();fn(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();fn(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();fn(i,this.addressTableLookups.length);const o=oe([De("prefix"),oe([De("numRequiredSignatures"),De("numReadonlySignedAccounts"),De("numReadonlyUnsignedAccounts")],"header"),at(e.length,"staticAccountKeysLength"),Jt(Ne(),this.staticAccountKeys.length,"staticAccountKeys"),Ne("recentBlockhash"),at(r.length,"instructionsLength"),at(t.length,"serializedInstructions"),at(i.length,"addressTableLookupsLength"),at(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Yr),p=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:jt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,p)}serializeInstructions(){let e=0;const t=new Uint8Array(Yr);for(const r of this.compiledInstructions){const s=Array();fn(s,r.accountKeyIndexes.length);const i=Array();fn(i,r.data.length);const o=oe([De("programIdIndex"),at(s.length,"encodedAccountKeyIndexesLength"),Jt(De(),r.accountKeyIndexes.length,"accountKeyIndexes"),at(i.length,"encodedDataLength"),at(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Yr);for(const r of this.addressTableLookups){const s=Array();fn(s,r.writableIndexes.length);const i=Array();fn(i,r.readonlyIndexes.length);const o=oe([Ne("accountKey"),at(s.length,"encodedWritableIndexesLength"),Jt(De(),r.writableIndexes.length,"writableIndexes"),at(i.length,"encodedReadonlyIndexesLength"),Jt(De(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Kn(t),s=r&Pu;It(r!==s,"Expected versioned message but received legacy message");const i=s;It(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Kn(t),numReadonlySignedAccounts:Kn(t),numReadonlyUnsignedAccounts:Kn(t)},a=[],u=ln(t);for(let T=0;T<u;T++)a.push(new ye(dn(t,0,cr)));const p=jt.encode(dn(t,0,cr)),m=ln(t),b=[];for(let T=0;T<m;T++){const A=Kn(t),x=ln(t),L=dn(t,0,x),P=ln(t),O=new Uint8Array(dn(t,0,P));b.push({programIdIndex:A,accountKeyIndexes:L,data:O})}const I=ln(t),M=[];for(let T=0;T<I;T++){const A=new ye(dn(t,0,cr)),x=ln(t),L=dn(t,0,x),P=ln(t),O=dn(t,0,P);M.push({accountKey:A,writableIndexes:L,readonlyIndexes:O})}return new xs({header:o,staticAccountKeys:a,recentBlockhash:p,compiledInstructions:b,addressTableLookups:M})}}let er=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Gh=xe.Buffer.alloc(zu).fill(0);class lc{constructor(e){this.keys=void 0,this.programId=void 0,this.data=xe.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ir{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new lc(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let A=0;A<t.length;A++)if(t[A].programId===void 0)throw new Error(`Transaction instruction index ${A} has undefined program id`);const s=[],i=[];t.forEach(A=>{A.keys.forEach(L=>{i.push({...L})});const x=A.programId.toString();s.includes(x)||s.push(x)}),s.forEach(A=>{i.push({pubkey:new ye(A),isSigner:!1,isWritable:!1})});const o=[];i.forEach(A=>{const x=A.pubkey.toString(),L=o.findIndex(P=>P.pubkey.toString()===x);L>-1?(o[L].isWritable=o[L].isWritable||A.isWritable,o[L].isSigner=o[L].isSigner||A.isSigner):o.push(A)}),o.sort(function(A,x){if(A.isSigner!==x.isSigner)return A.isSigner?-1:1;if(A.isWritable!==x.isWritable)return A.isWritable?-1:1;const L={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return A.pubkey.toBase58().localeCompare(x.pubkey.toBase58(),"en",L)});const a=o.findIndex(A=>A.pubkey.equals(r));if(a>-1){const[A]=o.splice(a,1);A.isSigner=!0,A.isWritable=!0,o.unshift(A)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const A of this.signatures){const x=o.findIndex(L=>L.pubkey.equals(A.publicKey));if(x>-1)o[x].isSigner||(o[x].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${A.publicKey.toString()}`)}let u=0,p=0,m=0;const b=[],I=[];o.forEach(({pubkey:A,isSigner:x,isWritable:L})=>{x?(b.push(A.toString()),u+=1,L||(p+=1)):(I.push(A.toString()),L||(m+=1))});const M=b.concat(I),T=t.map(A=>{const{data:x,programId:L}=A;return{programIdIndex:M.indexOf(L.toString()),accounts:A.keys.map(P=>M.indexOf(P.pubkey.toString())),data:jt.encode(x)}});return T.forEach(A=>{It(A.programIdIndex>=0),A.accounts.forEach(x=>It(x>=0))}),new ur({header:{numRequiredSignatures:u,numReadonlySignedAccounts:p,numReadonlyUnsignedAccounts:m},accountKeys:M,recentBlockhash:e,instructions:T})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=Dh(r,s.secretKey);this._addSignature(s.publicKey,ri(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){It(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=xe.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||(r.missing=[])).push(i):qh(s,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];fn(r,t.length);const s=r.length+t.length*64+e.length,i=xe.Buffer.alloc(s);return It(t.length<256),xe.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(It(o.length===64,"signature has invalid length"),xe.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),It(i.length<=Yr,`Transaction too large: ${i.length} > ${Yr}`),i}get keys(){return It(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return It(this.instructions.length===1),this.instructions[0].programId}get data(){return It(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=ln(t);let s=[];for(let i=0;i<r;i++){const o=dn(t,0,zu);s.push(jt.encode(xe.Buffer.from(o)))}return ir.populate(ur.from(t),s)}static populate(e,t=[]){const r=new ir;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==jt.encode(Gh)?null:jt.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(u=>u.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new lc({keys:i,programId:e.accountKeys[s.programIdIndex],data:jt.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}const Yh=160,Jh=64,Xh=Yh/Jh,Qh=1e3/Xh;new ye("SysvarC1ock11111111111111111111111111111111");new ye("SysvarEpochSchedu1e111111111111111111111111");new ye("Sysvar1nstructions1111111111111111111111111");new ye("SysvarRecentB1ockHashes11111111111111111111");new ye("SysvarRent111111111111111111111111111111111");new ye("SysvarRewards111111111111111111111111111111");new ye("SysvarS1otHashes111111111111111111111111111");new ye("SysvarS1otHistory11111111111111111111111111");new ye("SysvarStakeHistory1111111111111111111111111");class fc extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(u=>u)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class ae extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}function $r(n){return new Promise(e=>setTimeout(e,n))}const ep=zt("lamportsPerSignature"),$u=oe([le("version"),le("state"),Ne("authorizedPubkey"),Ne("nonce"),oe([ep],"feeCalculator")]);$u.span;class Ta{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=$u.decode(ri(e),0);return new Ta({authorizedPubkey:new ye(t.authorizedPubkey),nonce:new ye(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const tp=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},np=n=>e=>{const t=at(n,e),{encode:r,decode:s}=tp(t),i=t;return i.decode=(o,a)=>{const u=s(o,a);return Dd(xe.Buffer.from(u))},i.encode=(o,a,u)=>{const p=$d(o,n);return r(p,a,u)},i},ii=np(8);Object.freeze({Create:{index:0,layout:oe([le("instruction"),sn("lamports"),sn("space"),Ne("programId")])},Assign:{index:1,layout:oe([le("instruction"),Ne("programId")])},Transfer:{index:2,layout:oe([le("instruction"),ii("lamports")])},CreateWithSeed:{index:3,layout:oe([le("instruction"),Ne("base"),Hr("seed"),sn("lamports"),sn("space"),Ne("programId")])},AdvanceNonceAccount:{index:4,layout:oe([le("instruction")])},WithdrawNonceAccount:{index:5,layout:oe([le("instruction"),sn("lamports")])},InitializeNonceAccount:{index:6,layout:oe([le("instruction"),Ne("authorized")])},AuthorizeNonceAccount:{index:7,layout:oe([le("instruction"),Ne("authorized")])},Allocate:{index:8,layout:oe([le("instruction"),sn("space")])},AllocateWithSeed:{index:9,layout:oe([le("instruction"),Ne("base"),Hr("seed"),sn("space"),Ne("programId")])},AssignWithSeed:{index:10,layout:oe([le("instruction"),Ne("base"),Hr("seed"),Ne("programId")])},TransferWithSeed:{index:11,layout:oe([le("instruction"),ii("lamports"),Hr("seed"),Ne("programId")])},UpgradeNonceAccount:{index:12,layout:oe([le("instruction")])}});new ye("11111111111111111111111111111111");new ye("BPFLoader2111111111111111111111111111111111");function rp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ip=Object.prototype.toString,sp=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Si(n,e){var t,r,s,i,o,a,u;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Si(n.toJSON(),e);if(u=ip.call(n),u==="[object Array]"){for(s="[",r=n.length-1,t=0;t<r;t++)s+=Si(n[t],!0)+",";return r>-1&&(s+=Si(n[t],!0)),s+"]"}else if(u==="[object Object]"){for(i=sp(n).sort(),r=i.length,s="",t=0;t<r;)o=i[t],a=Si(n[o],!1),a!==void 0&&(s&&(s+=","),s+=JSON.stringify(o)+":"+a),t++;return"{"+s+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var op=function(n){var e=Si(n,!1);if(e!==void 0)return""+e},dc=rp(op);const vi=32;function Io(n){let e=0;for(;n>1;)n/=2,e++;return e}function ap(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class cp{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Io(ap(e+vi+1))-Io(vi)-1,r=this.getSlotsInEpoch(t),s=e-(r-vi);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*vi:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Io(vi)):this.slotsPerEpoch}}var up=globalThis.fetch;class lp extends Mh{constructor(e,t,r){const s=i=>{const o=Ah(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function fp(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const hc=56;class pc{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=fp(dp,e),r=e.length-hc;It(r>=0,"lookup table is invalid"),It(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=oe([Jt(Ne(),s,"addresses")]).decode(e.slice(hc));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ye(t.authority[0]):void 0,addresses:i.map(o=>new ye(o))}}}const dp={index:1,layout:oe([le("typeIndex"),ii("deactivationSlot"),zt("lastExtendedSlot"),De("lastExtendedStartIndex"),De(),Jt(Ne(),_r(De(),-1),"authority")])},hp=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function pp(n){const e=n.match(hp);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),u=a==null?"":`:${a+1}`;return`${o}//${r}${u}${i}`}const st=rs(Ia(ye),J(),n=>new ye(n)),Zu=Ma([J(),rt("base64")]),Ca=rs(Ia(xe.Buffer),Zu,n=>xe.Buffer.from(n[0],"base64")),mp=30*1e3;function gp(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ge(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function mc(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Vu(n){return Xt([$({jsonrpc:rt("2.0"),id:J(),result:n}),$({jsonrpc:rt("2.0"),id:J(),error:$({code:yi(),message:J(),data:fe(Jd())})})])}const yp=Vu(yi());function Me(n){return rs(Vu(n),yp,e=>"error"in e?e:{...e,result:X(e.result,n)})}function ct(n){return Me($({context:$({slot:U()}),value:n}))}function Vs(n){return $({context:$({slot:U()}),value:n})}function Mo(n,e){return n===0?new xs({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ye(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:jt.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new ur(e)}const wp=$({foundation:U(),foundationTerm:U(),initial:U(),taper:U(),terminal:U()}),bp=Me(te(ne($({epoch:U(),effectiveSlot:U(),amount:U(),postBalance:U(),commission:fe(ne(U()))})))),vp=te($({slot:U(),prioritizationFee:U()})),_p=$({total:U(),validator:U(),foundation:U(),epoch:U()}),xp=$({epoch:U(),slotIndex:U(),slotsInEpoch:U(),absoluteSlot:U(),blockHeight:fe(U()),transactionCount:fe(U())}),kp=$({slotsPerEpoch:U(),leaderScheduleSlotOffset:U(),warmup:Mn(),firstNormalEpoch:U(),firstNormalSlot:U()}),Ep=Bu(J(),te(U())),Rr=ne(Xt([$({}),J()])),Sp=$({err:Rr}),Bp=rt("receivedSignature"),Ap=$({"solana-core":J(),"feature-set":fe(U())}),Ip=$({program:J(),programId:st,parsed:yi()}),Mp=$({programId:st,accounts:te(st),data:J()}),gc=ct($({err:ne(Xt([$({}),J()])),logs:ne(te(J())),accounts:fe(ne(te(ne($({executable:Mn(),owner:J(),lamports:U(),data:te(J()),rentEpoch:fe(U())}))))),unitsConsumed:fe(U()),returnData:fe(ne($({programId:J(),data:Ma([J(),rt("base64")])}))),innerInstructions:fe(ne(te($({index:U(),instructions:te(Xt([Ip,Mp]))}))))})),Rp=ct($({byIdentity:Bu(J(),te(U())),range:$({firstSlot:U(),lastSlot:U()})}));function Tp(n,e,t,r,s,i){const o=t||up;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return r&&(u=async(m,b)=>{const I=await new Promise((M,T)=>{try{r(m,b,(A,x)=>M([A,x]))}catch(A){T(A)}});return await o(...I)}),new Eh(async(m,b)=>{const I={method:"POST",body:m,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},C0)};try{let M=5,T,A=500;for(;u?T=await u(n,I):T=await o(n,I),!(T.status!==429||s===!0||(M-=1,M===0));)console.error(`Server responded with ${T.status} ${T.statusText}.  Retrying after ${A}ms delay...`),await $r(A),A*=2;const x=await T.text();T.ok?b(null,x):b(new Error(`${T.status} ${T.statusText}: ${x}`))}catch(M){M instanceof Error&&b(M)}},{})}function Cp(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function Lp(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const Np=Me(wp),Op=Me(_p),Up=Me(vp),Fp=Me(xp),Pp=Me(kp),zp=Me(Ep),Dp=Me(U()),qp=ct($({total:U(),circulating:U(),nonCirculating:U(),nonCirculatingAccounts:te(st)})),Wo=$({amount:J(),uiAmount:ne(U()),decimals:U(),uiAmountString:fe(J())}),jp=ct(te($({address:st,amount:J(),uiAmount:ne(U()),decimals:U(),uiAmountString:fe(J())}))),$p=ct(te($({pubkey:st,account:$({executable:Mn(),owner:st,lamports:U(),data:Ca,rentEpoch:U()})}))),Go=$({program:J(),parsed:yi(),space:U()}),Zp=ct(te($({pubkey:st,account:$({executable:Mn(),owner:st,lamports:U(),data:Go,rentEpoch:U()})}))),Vp=ct(te($({lamports:U(),address:st}))),Oi=$({executable:Mn(),owner:st,lamports:U(),data:Ca,rentEpoch:U()}),Hp=$({pubkey:st,account:Oi}),Kp=rs(Xt([Ia(xe.Buffer),Go]),Xt([Zu,Go]),n=>Array.isArray(n)?X(n,Ca):n),Yo=$({executable:Mn(),owner:st,lamports:U(),data:Kp,rentEpoch:U()}),Wp=$({pubkey:st,account:Yo}),Gp=$({state:Xt([rt("active"),rt("inactive"),rt("activating"),rt("deactivating")]),active:U(),inactive:U()}),Yp=Me(te($({signature:J(),slot:U(),err:Rr,memo:ne(J()),blockTime:fe(ne(U()))}))),Jp=Me(te($({signature:J(),slot:U(),err:Rr,memo:ne(J()),blockTime:fe(ne(U()))}))),Xp=$({subscription:U(),result:Vs(Oi)}),Qp=$({pubkey:st,account:Oi}),e0=$({subscription:U(),result:Vs(Qp)}),t0=$({parent:U(),slot:U(),root:U()}),n0=$({subscription:U(),result:t0}),r0=Xt([$({type:Xt([rt("firstShredReceived"),rt("completed"),rt("optimisticConfirmation"),rt("root")]),slot:U(),timestamp:U()}),$({type:rt("createdBank"),parent:U(),slot:U(),timestamp:U()}),$({type:rt("frozen"),slot:U(),timestamp:U(),stats:$({numTransactionEntries:U(),numSuccessfulTransactions:U(),numFailedTransactions:U(),maxTransactionsPerEntry:U()})}),$({type:rt("dead"),slot:U(),timestamp:U(),err:J()})]),i0=$({subscription:U(),result:r0}),s0=$({subscription:U(),result:Vs(Xt([Sp,Bp]))}),o0=$({subscription:U(),result:U()}),a0=$({pubkey:J(),gossip:ne(J()),tpu:ne(J()),rpc:ne(J()),version:ne(J())}),yc=$({votePubkey:J(),nodePubkey:J(),activatedStake:U(),epochVoteAccount:Mn(),epochCredits:te(Ma([U(),U(),U()])),commission:U(),lastVote:U(),rootSlot:ne(U())}),c0=Me($({current:te(yc),delinquent:te(yc)})),u0=Xt([rt("processed"),rt("confirmed"),rt("finalized")]),l0=$({slot:U(),confirmations:ne(U()),err:Rr,confirmationStatus:fe(u0)}),f0=ct(te(ne(l0))),d0=Me(U()),Hu=$({accountKey:st,writableIndexes:te(U()),readonlyIndexes:te(U())}),La=$({signatures:te(J()),message:$({accountKeys:te(J()),header:$({numRequiredSignatures:U(),numReadonlySignedAccounts:U(),numReadonlyUnsignedAccounts:U()}),instructions:te($({accounts:te(U()),data:J(),programIdIndex:U()})),recentBlockhash:J(),addressTableLookups:fe(te(Hu))})}),Ku=$({pubkey:st,signer:Mn(),writable:Mn(),source:fe(Xt([rt("transaction"),rt("lookupTable")]))}),Wu=$({accountKeys:te(Ku),signatures:te(J())}),Gu=$({parsed:yi(),program:J(),programId:st}),Yu=$({accounts:te(st),data:J(),programId:st}),h0=Xt([Yu,Gu]),p0=Xt([$({parsed:yi(),program:J(),programId:J()}),$({accounts:te(J()),data:J(),programId:J()})]),Ju=rs(h0,p0,n=>"accounts"in n?X(n,Yu):X(n,Gu)),Xu=$({signatures:te(J()),message:$({accountKeys:te(Ku),instructions:te(Ju),recentBlockhash:J(),addressTableLookups:fe(ne(te(Hu)))})}),ks=$({accountIndex:U(),mint:J(),owner:fe(J()),uiTokenAmount:Wo}),Qu=$({writable:te(st),readonly:te(st)}),Hs=$({err:Rr,fee:U(),innerInstructions:fe(ne(te($({index:U(),instructions:te($({accounts:te(U()),data:J(),programIdIndex:U()}))})))),preBalances:te(U()),postBalances:te(U()),logMessages:fe(ne(te(J()))),preTokenBalances:fe(ne(te(ks))),postTokenBalances:fe(ne(te(ks))),loadedAddresses:fe(Qu),computeUnitsConsumed:fe(U())}),Na=$({err:Rr,fee:U(),innerInstructions:fe(ne(te($({index:U(),instructions:te(Ju)})))),preBalances:te(U()),postBalances:te(U()),logMessages:fe(ne(te(J()))),preTokenBalances:fe(ne(te(ks))),postTokenBalances:fe(ne(te(ks))),loadedAddresses:fe(Qu),computeUnitsConsumed:fe(U())}),wi=Xt([rt(0),rt("legacy")]),Tr=$({pubkey:J(),lamports:U(),postBalance:ne(U()),rewardType:ne(J()),commission:fe(ne(U()))}),m0=Me(ne($({blockhash:J(),previousBlockhash:J(),parentSlot:U(),transactions:te($({transaction:La,meta:ne(Hs),version:fe(wi)})),rewards:fe(te(Tr)),blockTime:ne(U()),blockHeight:ne(U())}))),g0=Me(ne($({blockhash:J(),previousBlockhash:J(),parentSlot:U(),rewards:fe(te(Tr)),blockTime:ne(U()),blockHeight:ne(U())}))),y0=Me(ne($({blockhash:J(),previousBlockhash:J(),parentSlot:U(),transactions:te($({transaction:Wu,meta:ne(Hs),version:fe(wi)})),rewards:fe(te(Tr)),blockTime:ne(U()),blockHeight:ne(U())}))),w0=Me(ne($({blockhash:J(),previousBlockhash:J(),parentSlot:U(),transactions:te($({transaction:Xu,meta:ne(Na),version:fe(wi)})),rewards:fe(te(Tr)),blockTime:ne(U()),blockHeight:ne(U())}))),b0=Me(ne($({blockhash:J(),previousBlockhash:J(),parentSlot:U(),transactions:te($({transaction:Wu,meta:ne(Na),version:fe(wi)})),rewards:fe(te(Tr)),blockTime:ne(U()),blockHeight:ne(U())}))),v0=Me(ne($({blockhash:J(),previousBlockhash:J(),parentSlot:U(),rewards:fe(te(Tr)),blockTime:ne(U()),blockHeight:ne(U())}))),_0=Me(ne($({blockhash:J(),previousBlockhash:J(),parentSlot:U(),transactions:te($({transaction:La,meta:ne(Hs)})),rewards:fe(te(Tr)),blockTime:ne(U())}))),wc=Me(ne($({blockhash:J(),previousBlockhash:J(),parentSlot:U(),signatures:te(J()),blockTime:ne(U())}))),Ro=Me(ne($({slot:U(),meta:ne(Hs),blockTime:fe(ne(U())),transaction:La,version:fe(wi)}))),us=Me(ne($({slot:U(),transaction:Xu,meta:ne(Na),blockTime:fe(ne(U())),version:fe(wi)}))),x0=ct($({blockhash:J(),feeCalculator:$({lamportsPerSignature:U()})})),k0=ct($({blockhash:J(),lastValidBlockHeight:U()})),E0=ct(Mn()),S0=$({slot:U(),numTransactions:U(),numSlots:U(),samplePeriodSecs:U()}),B0=Me(te(S0)),A0=ct(ne($({feeCalculator:$({lamportsPerSignature:U()})}))),I0=Me(J()),M0=Me(J()),R0=$({err:Rr,logs:te(J()),signature:J()}),T0=$({result:Vs(R0),subscription:U()}),C0={"solana-client":"js/1.0.0-maintenance"};class L0{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const p={};return async m=>{const{commitment:b,config:I}=Ge(m),M=this._buildArgs([],b,void 0,I),T=dc(M);return p[T]=p[T]??(async()=>{try{const A=await this._rpcRequest("getBlockHeight",M),x=X(A,Me(U()));if("error"in x)throw new ae(x.error,"failed to get block height information");return x.result}finally{delete p[T]}})(),await p[T]}})();let r,s,i,o,a,u;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,u=t.httpAgent),this._rpcEndpoint=gp(e),this._rpcWsEndpoint=r||pp(e),this._rpcClient=Tp(e,s,i,o,a,u),this._rpcRequest=Cp(this._rpcClient),this._rpcBatchRequest=Lp(this._rpcClient),this._rpcWebSocket=new lp(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ge(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=X(o,ct(U()));if("error"in a)throw new ae(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=X(t,Me(ne(U())));if("error"in r)throw new ae(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=X(e,Me(U()));if("error"in t)throw new ae(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=X(e,Dp);if("error"in t)throw new ae(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=X(r,qp);if("error"in s)throw new ae(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=X(s,ct(Wo));if("error"in i)throw new ae(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=X(s,ct(Wo));if("error"in i)throw new ae(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ge(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),u=await this._rpcRequest("getTokenAccountsByOwner",a),p=X(u,$p);if("error"in p)throw new ae(p.error,`failed to get token accounts owned by account ${e.toBase58()}`);return p.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=X(o,Zp);if("error"in a)throw new ae(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=X(s,Vp);if("error"in i)throw new ae(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=X(s,jp);if("error"in i)throw new ae(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ge(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=X(o,ct(ne(Oi)));if("error"in a)throw new ae(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ge(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=X(o,ct(ne(Yo)));if("error"in a)throw new ae(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ge(t),i=e.map(p=>p.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),u=X(a,ct(te(ne(Yo))));if("error"in u)throw new ae(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ge(t),i=e.map(p=>p.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),u=X(a,ct(te(ne(Oi))));if("error"in u)throw new ae(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ge(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),u=X(a,Me(Gp));if("error"in u)throw new ae(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ge(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:mc(o.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",a),p=te(Hp),m=o.withContext===!0?X(u,ct(p)):X(u,Me(p));if("error"in m)throw new ae(m.error,`failed to get accounts owned by program ${e.toBase58()}`);return m.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ge(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=X(o,Me(te(Wp)));if("error"in a)throw new ae(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=jt.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return It(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((u,p)=>{try{r=this.onSignature(t,(b,I)=>{r=void 0;const M={context:I,value:b};u({__type:er.PROCESSED,response:M})},e);const m=new Promise(b=>{r==null?b():s=this._onSubscriptionStateChange(r,I=>{I==="subscribed"&&b()})});(async()=>{if(await m,i)return;const b=await this.getSignatureStatus(t);if(i||b==null)return;const{context:I,value:M}=b;if(M!=null)if(M!=null&&M.err)p(M.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(M.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(M.confirmationStatus==="processed"||M.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,u({__type:er.PROCESSED,response:{context:I,value:M}})}})()}catch(m){p(m)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(b=>{const I=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let M=await I();if(!i){for(;M<=r;)if(await $r(1e3),i||(M=await I(),i))return;b({__type:er.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),p=this.getCancellationPromise(t);let m;try{const b=await Promise.race([p,u,o]);if(b.__type===er.PROCESSED)m=b.response;else throw new Du(s)}finally{i=!0,a()}return m}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const u=new Promise(M=>{let T=i,A=null;const x=async()=>{try{const{context:L,value:P}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return A=L.slot,P==null?void 0:P.nonce}catch{return T}};(async()=>{if(T=await x(),!a)for(;;){if(i!==T){M({__type:er.NONCE_INVALID,slotInWhichNonceDidAdvance:A});return}if(await $r(2e3),a||(T=await x(),a))return}})()}),{abortConfirmation:p,confirmationPromise:m}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),b=this.getCancellationPromise(t);let I;try{const M=await Promise.race([b,m,u]);if(M.__type===er.PROCESSED)I=M.response;else{let T;for(;;){const A=await this.getSignatureStatus(o);if(A==null)break;if(A.context.slot<(M.slotInWhichNonceDidAdvance??r)){await $r(400);continue}T=A;break}if(T!=null&&T.value){const A=e||"finalized",{confirmationStatus:x}=T.value;switch(A){case"processed":case"recent":if(x!=="processed"&&x!=="confirmed"&&x!=="finalized")throw new Ei(o);break;case"confirmed":case"single":case"singleGossip":if(x!=="confirmed"&&x!=="finalized")throw new Ei(o);break;case"finalized":case"max":case"root":if(x!=="finalized")throw new Ei(o);break;default:}I={context:T.context,value:{err:T.value.err}}}else throw new Ei(o)}}finally{a=!0,p()}return I}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(u=>{let p=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{p=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>u({__type:er.TIMED_OUT,timeoutMs:p}),p)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const u=await Promise.race([o,s]);if(u.__type===er.PROCESSED)a=u.response;else throw new qu(t,u.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=X(e,Me(te(a0)));if("error"in t)throw new ae(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=X(r,c0);if("error"in s)throw new ae(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ge(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=X(i,Me(U()));if("error"in o)throw new ae(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ge(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=X(i,Me(J()));if("error"in o)throw new ae(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=X(s,Me(te(st)));if("error"in i)throw new ae(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);It(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=X(s,f0);if("error"in i)throw new ae(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ge(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=X(i,Me(U()));if("error"in o)throw new ae(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=X(r,Np);if("error"in s)throw new ae(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ge(r),o=this._buildArgs([e.map(p=>p.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),u=X(a,bp);if("error"in u)throw new ae(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=X(e,Op);if("error"in t)throw new ae(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ge(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=X(i,Fp);if("error"in o)throw new ae(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=X(e,Pp);if("error"in t)throw new ae(t.error,"failed to get epoch schedule");const r=t.result;return new cp(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=X(e,zp);if("error"in t)throw new ae(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=X(s,d0);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=X(r,x0);if("error"in s)throw new ae(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=X(t,B0);if("error"in r)throw new ae(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=X(s,A0);if("error"in i)throw new ae(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=ri(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=X(i,ct(ne(U())));if("error"in o)throw new ae(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=X(s,Up);if("error"in i)throw new ae(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ge(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=X(i,k0);if("error"in o)throw new ae(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ge(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=X(o,E0);if("error"in a)throw new ae(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=X(e,Me(Ap));if("error"in t)throw new ae(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=X(e,Me(J()));if("error"in t)throw new ae(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ge(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=X(o,y0);if("error"in a)throw a.error;return a.result}case"none":{const a=X(o,g0);if("error"in a)throw a.error;return a.result}default:{const a=X(o,m0);if("error"in a)throw a.error;const{result:u}=a;return u?{...u,transactions:u.transactions.map(({transaction:p,meta:m,version:b})=>({meta:m,transaction:{...p,message:Mo(b,p.message)},version:b}))}:null}}}catch(a){throw new ae(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ge(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=X(o,b0);if("error"in a)throw a.error;return a.result}case"none":{const a=X(o,v0);if("error"in a)throw a.error;return a.result}default:{const a=X(o,w0);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ae(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...u}=e;r=a,t=u}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=X(i,Rp);if("error"in o)throw new ae(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ge(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=X(o,Ro);if("error"in a)throw new ae(a.error,"failed to get transaction");const u=a.result;return u&&{...u,transaction:{...u.transaction,message:Mo(u.version,u.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ge(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=X(o,us);if("error"in a)throw new ae(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ge(t),i=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(u=>{const p=X(u,us);if("error"in p)throw new ae(p.error,"failed to get transactions");return p.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ge(t),i=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(u=>{const p=X(u,Ro);if("error"in p)throw new ae(p.error,"failed to get transactions");const m=p.result;return m&&{...m,transaction:{...m.transaction,message:Mo(m.version,m.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=X(s,_0);if("error"in i)throw new ae(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:u,meta:p})=>{const m=new ur(u.message);return{meta:p,transaction:{...u,message:m}}})};return{...a,transactions:a.transactions.map(({transaction:u,meta:p})=>({meta:p,transaction:ir.populate(u.message,u.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=X(i,Me(te(U())));if("error"in o)throw new ae(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=X(s,wc);if("error"in i)throw new ae(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=X(s,wc);if("error"in i)throw new ae(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=X(s,Ro);if("error"in i)throw new ae(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new ur(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:ir.populate(a,u)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=X(s,us);if("error"in i)throw new ae(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=X(o,us);if("error"in a)throw new ae(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const u=await this.getConfirmedBlockSignatures(t,"finalized");u.signatures.length>0&&(s.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const u=await this.getConfirmedBlockSignatures(r);u.signatures.length>0&&(s.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=X(i,Yp);if("error"in o)throw new ae(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=X(i,Jp);if("error"in o)throw new ae(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new pc({key:e,state:pc.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=Ta.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=X(r,I0);if("error"in s)throw new ae(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await $r(100);const r=Date.now()-this._blockhashInfo.lastFetch>=mp;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await $r(Qh/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ge(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=X(i,ct(U()));if("error"in o)throw new ae(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const A=e.serialize(),x=xe.Buffer.from(A).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const L=t||{};L.encoding="base64","commitment"in L||(L.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(L.innerInstructions=t.innerInstructions);const P=[x,L],O=await this._rpcRequest("simulateTransaction",P),j=X(O,gc);if("error"in j)throw new Error("failed to simulate transaction: "+j.error.message);return j.result}let s;if(e instanceof ir){let T=e;s=new ir,s.feePayer=T.feePayer,s.instructions=e.instructions,s.nonceInfo=T.nonceInfo,s.signatures=T.signatures}else s=ir.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let T=this._disableBlockhashCaching;for(;;){const A=await this._blockhashWithExpiryBlockHeight(T);if(s.lastValidBlockHeight=A.lastValidBlockHeight,s.recentBlockhash=A.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const x=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(x)&&!this._blockhashInfo.transactionSignatures.includes(x)){this._blockhashInfo.simulatedSignatures.push(x);break}else T=!0}}const o=s._compile(),a=o.serialize(),p=s._serialize(a).toString("base64"),m={encoding:"base64",commitment:this.commitment};if(r){const T=(Array.isArray(r)?r:o.nonProgramIds()).map(A=>A.toBase58());m.accounts={encoding:"base64",addresses:T}}i&&(m.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(m.innerInstructions=t.innerInstructions);const b=[p,m],I=await this._rpcRequest("simulateTransaction",b),M=X(I,gc);if("error"in M){let T;if("data"in M.error&&(T=M.error.data.logs,T&&Array.isArray(T))){const A=`
    `,x=A+T.join(A);console.error(M.error.message,x)}throw new fc({action:"simulate",signature:"",transactionMessage:M.error.message,logs:T})}return M.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=ri(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),u=X(a,M0);if("error"in u){let p;throw"data"in u.error&&(p=u.error.data.logs),new fc({action:s?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:p})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var i;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,i,a.message),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=X(e,Xp);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=dc([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];It(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Ge(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=X(e,e0);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Ge(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:mc(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=X(e,T0);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=X(e,n0);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=X(e,i0);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=X(e,s0);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(u,p)=>{t(u,p);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=X(e,o0);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:oe([le("instruction"),ii("recentSlot"),De("bumpSeed")])},FreezeLookupTable:{index:1,layout:oe([le("instruction")])},ExtendLookupTable:{index:2,layout:oe([le("instruction"),ii(),Jt(Ne(),_r(le(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:oe([le("instruction")])},CloseLookupTable:{index:4,layout:oe([le("instruction")])}});new ye("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:oe([De("instruction"),le("units"),le("additionalFee")])},RequestHeapFrame:{index:1,layout:oe([De("instruction"),le("bytes")])},SetComputeUnitLimit:{index:2,layout:oe([De("instruction"),le("units")])},SetComputeUnitPrice:{index:3,layout:oe([De("instruction"),ii("microLamports")])}});new ye("ComputeBudget111111111111111111111111111111");oe([De("numSignatures"),De("padding"),un("signatureOffset"),un("signatureInstructionIndex"),un("publicKeyOffset"),un("publicKeyInstructionIndex"),un("messageDataOffset"),un("messageDataSize"),un("messageInstructionIndex")]);new ye("Ed25519SigVerify111111111111111111111111111");Ra.utils.isValidPrivateKey;Ra.getPublicKey;oe([De("numSignatures"),un("signatureOffset"),De("signatureInstructionIndex"),un("ethAddressOffset"),De("ethAddressInstructionIndex"),un("messageDataOffset"),un("messageDataSize"),De("messageInstructionIndex"),at(20,"ethAddress"),at(64,"signature"),De("recoveryId")]);new ye("KeccakSecp256k11111111111111111111111111111");var el;new ye("StakeConfig11111111111111111111111111111111");class tl{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}el=tl;tl.default=new el(0,0,ye.default);Object.freeze({Initialize:{index:0,layout:oe([le("instruction"),Vh(),Hh()])},Authorize:{index:1,layout:oe([le("instruction"),Ne("newAuthorized"),le("stakeAuthorizationType")])},Delegate:{index:2,layout:oe([le("instruction")])},Split:{index:3,layout:oe([le("instruction"),sn("lamports")])},Withdraw:{index:4,layout:oe([le("instruction"),sn("lamports")])},Deactivate:{index:5,layout:oe([le("instruction")])},Merge:{index:7,layout:oe([le("instruction")])},AuthorizeWithSeed:{index:8,layout:oe([le("instruction"),Ne("newAuthorized"),le("stakeAuthorizationType"),Hr("authoritySeed"),Ne("authorityOwner")])}});new ye("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:oe([le("instruction"),Kh()])},Authorize:{index:1,layout:oe([le("instruction"),Ne("newAuthorized"),le("voteAuthorizationType")])},Withdraw:{index:3,layout:oe([le("instruction"),sn("lamports")])},UpdateValidatorIdentity:{index:4,layout:oe([le("instruction")])},AuthorizeWithSeed:{index:10,layout:oe([le("instruction"),Wh()])}});new ye("Vote111111111111111111111111111111111111111");new ye("Va1idator1nfo111111111111111111111111111111");$({name:J(),website:fe(J()),details:fe(J()),iconUrl:fe(J()),keybaseUsername:fe(J())});new ye("Vote111111111111111111111111111111111111111");oe([Ne("nodePubkey"),Ne("authorizedWithdrawer"),De("commission"),zt(),Jt(oe([zt("slot"),le("confirmationCount")]),_r(le(),-8),"votes"),De("rootSlotValid"),zt("rootSlot"),zt(),Jt(oe([zt("epoch"),Ne("authorizedVoter")]),_r(le(),-8),"authorizedVoters"),oe([Jt(oe([Ne("authorizedPubkey"),zt("epochOfLastAuthorizedSwitch"),zt("targetEpoch")]),32,"buf"),zt("idx"),De("isEmpty")],"priorVoters"),zt(),Jt(oe([zt("epoch"),zt("credits"),zt("prevCredits")]),_r(le(),-8),"epochCredits"),oe([zt("slot"),zt("timestamp")],"lastTimestamp")]);const bc=new L0("https://solana-mainnet.gateway.tatum.io",{commitment:"confirmed",httpHeaders:{"x-api-key":"t-670fb1ff9b6c1e2be72debc4-cd6cd5e026734787ba8c6074"}});async function N0(n){try{return await bc.getBlockTime(n)}catch(e){return e.message===`Slot ${n} was skipped, or missing in long-term storage`?(console.log(`Slot ${n} was skipped, or missing in long-term storage. Trying to get block time for slot ${n-5}`),await bc.getBlockTime(n-5)):(console.error(`Failed to retrieve block time for slot ${n}`,e),null)}}var vc=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,nn=n=>!n||typeof n!="object"||Object.keys(n).length===0,O0=(n,e)=>JSON.stringify(n)===JSON.stringify(e);function nl(n,e){n.forEach(function(t){Array.isArray(t)?nl(t,e):e.push(t)})}function rl(n){let e=[];return nl(n,e),e}var il=(...n)=>rl(n).filter(Boolean),sl=(n,e)=>{let t={},r=Object.keys(n),s=Object.keys(e);for(let i of r)if(s.includes(i)){let o=n[i],a=e[i];typeof o=="object"&&typeof a=="object"?t[i]=sl(o,a):Array.isArray(o)||Array.isArray(a)?t[i]=il(a,o):t[i]=a+" "+o}else t[i]=n[i];for(let i of s)r.includes(i)||(t[i]=e[i]);return t},_c=n=>!n||typeof n!="string"?n:n.replace(/\s+/g," ").trim();const Oa="-",U0=n=>{const e=P0(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(Oa);return a[0]===""&&a.length!==1&&a.shift(),ol(a,e)||F0(o)},getConflictingClassGroupIds:(o,a)=>{const u=t[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},ol=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?ol(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(Oa);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},xc=/^\[(.+)\]$/,F0=n=>{if(xc.test(n)){const e=xc.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},P0=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return D0(Object.entries(n.classGroups),t).forEach(([i,o])=>{Jo(o,r,i,e)}),r},Jo=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:kc(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(z0(s)){Jo(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,o])=>{Jo(o,kc(e,i),t,r)})})},kc=(n,e)=>{let t=n;return e.split(Oa).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},z0=n=>n.isThemeGetter,D0=(n,e)=>e?n.map(([t,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,s]}):n,q0=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,o)=>{t.set(i,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){t.has(i)?t.set(i,o):s(i,o)}}},al="!",j0=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let p=0,m=0,b;for(let x=0;x<a.length;x++){let L=a[x];if(p===0){if(L===s&&(r||a.slice(x,x+i)===e)){u.push(a.slice(m,x)),m=x+i;continue}if(L==="/"){b=x;continue}}L==="["?p++:L==="]"&&p--}const I=u.length===0?a:a.substring(m),M=I.startsWith(al),T=M?I.substring(1):I,A=b&&b>m?b-m:void 0;return{modifiers:u,hasImportantModifier:M,baseClassName:T,maybePostfixModifierPosition:A}};return t?a=>t({className:a,parseClassName:o}):o},$0=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},Z0=n=>({cache:q0(n.cacheSize),parseClassName:j0(n),...U0(n)}),V0=/\s+/,H0=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=n.trim().split(V0);let a="";for(let u=o.length-1;u>=0;u-=1){const p=o[u],{modifiers:m,hasImportantModifier:b,baseClassName:I,maybePostfixModifierPosition:M}=t(p);let T=!!M,A=r(T?I.substring(0,M):I);if(!A){if(!T){a=p+(a.length>0?" "+a:a);continue}if(A=r(I),!A){a=p+(a.length>0?" "+a:a);continue}T=!1}const x=$0(m).join(":"),L=b?x+al:x,P=L+A;if(i.includes(P))continue;i.push(P);const O=s(A,T);for(let j=0;j<O.length;++j){const V=O[j];i.push(L+V)}a=p+(a.length>0?" "+a:a)}return a};function K0(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=cl(e))&&(r&&(r+=" "),r+=t);return r}const cl=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=cl(n[r]))&&(t&&(t+=" "),t+=e);return t};function Xo(n,...e){let t,r,s,i=o;function o(u){const p=e.reduce((m,b)=>b(m),n());return t=Z0(p),r=t.cache.get,s=t.cache.set,i=a,a(u)}function a(u){const p=r(u);if(p)return p;const m=H0(u,t);return s(u,m),m}return function(){return i(K0.apply(null,arguments))}}const Je=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},ul=/^\[(?:([a-z-]+):)?(.+)\]$/i,W0=/^\d+\/\d+$/,G0=new Set(["px","full","screen"]),Y0=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,J0=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,X0=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Q0=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,em=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dn=n=>Jr(n)||G0.has(n)||W0.test(n),tr=n=>bi(n,"length",cm),Jr=n=>!!n&&!Number.isNaN(Number(n)),To=n=>bi(n,"number",Jr),_i=n=>!!n&&Number.isInteger(Number(n)),tm=n=>n.endsWith("%")&&Jr(n.slice(0,-1)),Se=n=>ul.test(n),nr=n=>Y0.test(n),nm=new Set(["length","size","percentage"]),rm=n=>bi(n,nm,ll),im=n=>bi(n,"position",ll),sm=new Set(["image","url"]),om=n=>bi(n,sm,lm),am=n=>bi(n,"",um),xi=()=>!0,bi=(n,e,t)=>{const r=ul.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},cm=n=>J0.test(n)&&!X0.test(n),ll=()=>!1,um=n=>Q0.test(n),lm=n=>em.test(n),Qo=()=>{const n=Je("colors"),e=Je("spacing"),t=Je("blur"),r=Je("brightness"),s=Je("borderColor"),i=Je("borderRadius"),o=Je("borderSpacing"),a=Je("borderWidth"),u=Je("contrast"),p=Je("grayscale"),m=Je("hueRotate"),b=Je("invert"),I=Je("gap"),M=Je("gradientColorStops"),T=Je("gradientColorStopPositions"),A=Je("inset"),x=Je("margin"),L=Je("opacity"),P=Je("padding"),O=Je("saturate"),j=Je("scale"),V=Je("sepia"),W=Je("skew"),H=Je("space"),ee=Je("translate"),q=()=>["auto","contain","none"],Be=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",Se,e],D=()=>[Se,e],E=()=>["",Dn,tr],c=()=>["auto",Jr,Se],h=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],g=()=>["solid","dashed","dotted","double","none"],y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],w=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Se],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>[Jr,Se];return{cacheSize:500,separator:":",theme:{colors:[xi],spacing:[Dn,tr],blur:["none","",nr,Se],brightness:_(),borderColor:[n],borderRadius:["none","","full",nr,Se],borderSpacing:D(),borderWidth:E(),contrast:_(),grayscale:B(),hueRotate:_(),invert:B(),gap:D(),gradientColorStops:[n],gradientColorStopPositions:[tm,tr],inset:re(),margin:re(),opacity:_(),padding:D(),saturate:_(),scale:_(),sepia:B(),skew:_(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[nr]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...h(),Se]}],overflow:[{overflow:Be()}],"overflow-x":[{"overflow-x":Be()}],"overflow-y":[{"overflow-y":Be()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[A]}],"inset-x":[{"inset-x":[A]}],"inset-y":[{"inset-y":[A]}],start:[{start:[A]}],end:[{end:[A]}],top:[{top:[A]}],right:[{right:[A]}],bottom:[{bottom:[A]}],left:[{left:[A]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_i,Se]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",_i,Se]}],"grid-cols":[{"grid-cols":[xi]}],"col-start-end":[{col:["auto",{span:["full",_i,Se]},Se]}],"col-start":[{"col-start":c()}],"col-end":[{"col-end":c()}],"grid-rows":[{"grid-rows":[xi]}],"row-start-end":[{row:["auto",{span:[_i,Se]},Se]}],"row-start":[{"row-start":c()}],"row-end":[{"row-end":c()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[I]}],"gap-x":[{"gap-x":[I]}],"gap-y":[{"gap-y":[I]}],"justify-content":[{justify:["normal",...w()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...w(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...w(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Se,e]}],"min-w":[{"min-w":[Se,e,"min","max","fit"]}],"max-w":[{"max-w":[Se,e,"none","full","min","max","fit","prose",{screen:[nr]},nr]}],h:[{h:[Se,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Se,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Se,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Se,e,"auto","min","max","fit"]}],"font-size":[{text:["base",nr,tr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",To]}],"font-family":[{font:[xi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",Jr,To]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dn,Se]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[L]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[L]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...g(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dn,tr]}],"underline-offset":[{"underline-offset":["auto",Dn,Se]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[L]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...h(),im]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rm]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},om]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[M]}],"gradient-via":[{via:[M]}],"gradient-to":[{to:[M]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[L]}],"border-style":[{border:[...g(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[L]}],"divide-style":[{divide:g()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...g()]}],"outline-offset":[{"outline-offset":[Dn,Se]}],"outline-w":[{outline:[Dn,tr]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[L]}],"ring-offset-w":[{"ring-offset":[Dn,tr]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",nr,am]}],"shadow-color":[{shadow:[xi]}],opacity:[{opacity:[L]}],"mix-blend":[{"mix-blend":[...y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":y()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",nr,Se]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[b]}],saturate:[{saturate:[O]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[L]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[_i,Se]}],"translate-x":[{"translate-x":[ee]}],"translate-y":[{"translate-y":[ee]}],"skew-x":[{"skew-x":[W]}],"skew-y":[{"skew-y":[W]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Dn,tr,To]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fm=(n,{cacheSize:e,prefix:t,separator:r,experimentalParseClassName:s,extend:i={},override:o={}})=>{Bi(n,"cacheSize",e),Bi(n,"prefix",t),Bi(n,"separator",r),Bi(n,"experimentalParseClassName",s);for(const a in o)dm(n[a],o[a]);for(const a in i)hm(n[a],i[a]);return n},Bi=(n,e,t)=>{t!==void 0&&(n[e]=t)},dm=(n,e)=>{if(e)for(const t in e)Bi(n,t,e[t])},hm=(n,e)=>{if(e)for(const t in e){const r=e[t];r!==void 0&&(n[t]=(n[t]||[]).concat(r))}},pm=(n,...e)=>typeof n=="function"?Xo(Qo,n,...e):Xo(()=>fm(Qo(),n),...e),fl=Xo(Qo);var mm={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},dl=n=>n||void 0,Ui=(...n)=>dl(rl(n).filter(Boolean).join(" ")),Co=null,jn={},ea=!1,ki=(...n)=>e=>e.twMerge?((!Co||ea)&&(ea=!1,Co=nn(jn)?fl:pm({...jn,extend:{theme:jn.theme,classGroups:jn.classGroups,conflictingClassGroupModifiers:jn.conflictingClassGroupModifiers,conflictingClassGroups:jn.conflictingClassGroups,...jn.extend}})),dl(Co(Ui(n)))):Ui(n),Ec=(n,e)=>{for(let t in e)n.hasOwnProperty(t)?n[t]=Ui(n[t],e[t]):n[t]=e[t];return n},gm=(n,e)=>{let{extend:t=null,slots:r={},variants:s={},compoundVariants:i=[],compoundSlots:o=[],defaultVariants:a={}}=n,u={...mm,...e},p=t!=null&&t.base?Ui(t.base,n==null?void 0:n.base):n==null?void 0:n.base,m=t!=null&&t.variants&&!nn(t.variants)?sl(s,t.variants):s,b=t!=null&&t.defaultVariants&&!nn(t.defaultVariants)?{...t.defaultVariants,...a}:a;!nn(u.twMergeConfig)&&!O0(u.twMergeConfig,jn)&&(ea=!0,jn=u.twMergeConfig);let I=nn(t==null?void 0:t.slots),M=nn(r)?{}:{base:Ui(n==null?void 0:n.base,I&&(t==null?void 0:t.base)),...r},T=I?M:Ec({...t==null?void 0:t.slots},nn(M)?{base:n==null?void 0:n.base}:M),A=nn(t==null?void 0:t.compoundVariants)?i:il(t==null?void 0:t.compoundVariants,i),x=P=>{if(nn(m)&&nn(r)&&I)return ki(p,P==null?void 0:P.class,P==null?void 0:P.className)(u);if(A&&!Array.isArray(A))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof A}`);if(o&&!Array.isArray(o))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof o}`);let O=(D,E,c=[],h)=>{let g=c;if(typeof E=="string")g=g.concat(_c(E).split(" ").map(y=>`${D}:${y}`));else if(Array.isArray(E))g=g.concat(E.reduce((y,w)=>y.concat(`${D}:${w}`),[]));else if(typeof E=="object"&&typeof h=="string"){for(let y in E)if(E.hasOwnProperty(y)&&y===h){let w=E[y];if(w&&typeof w=="string"){let B=_c(w);g[h]?g[h]=g[h].concat(B.split(" ").map(R=>`${D}:${R}`)):g[h]=B.split(" ").map(R=>`${D}:${R}`)}else Array.isArray(w)&&w.length>0&&(g[h]=w.reduce((B,R)=>B.concat(`${D}:${R}`),[]))}}return g},j=(D,E=m,c=null,h=null)=>{var g;let y=E[D];if(!y||nn(y))return null;let w=(g=h==null?void 0:h[D])!=null?g:P==null?void 0:P[D];if(w===null)return null;let B=vc(w),R=Array.isArray(u.responsiveVariants)&&u.responsiveVariants.length>0||u.responsiveVariants===!0,_=b==null?void 0:b[D],f=[];if(typeof B=="object"&&R)for(let[Y,Q]of Object.entries(B)){let ve=y[Q];if(Y==="initial"){_=Q;continue}Array.isArray(u.responsiveVariants)&&!u.responsiveVariants.includes(Y)||(f=O(Y,ve,f,c))}let S=B!=null&&typeof B!="object"?B:vc(_),K=y[S||"false"];return typeof f=="object"&&typeof c=="string"&&f[c]?Ec(f,K):f.length>0?(f.push(K),f):K},V=()=>m?Object.keys(m).map(D=>j(D,m)):null,W=(D,E)=>{if(!m||typeof m!="object")return null;let c=new Array;for(let h in m){let g=j(h,m,D,E),y=D==="base"&&typeof g=="string"?g:g&&g[D];y&&(c[c.length]=y)}return c},H={};for(let D in P)P[D]!==void 0&&(H[D]=P[D]);let ee=(D,E)=>{var c;let h=typeof(P==null?void 0:P[D])=="object"?{[D]:(c=P[D])==null?void 0:c.initial}:{};return{...b,...H,...h,...E}},q=(D=[],E)=>{let c=[];for(let{class:h,className:g,...y}of D){let w=!0;for(let[B,R]of Object.entries(y)){let _=ee(B,E);if(Array.isArray(R)){if(!R.includes(_[B])){w=!1;break}}else if(_[B]!==R){w=!1;break}}w&&(h&&c.push(h),g&&c.push(g))}return c},Be=D=>{let E=q(A,D);if(!Array.isArray(E))return E;let c={};for(let h of E)if(typeof h=="string"&&(c.base=ki(c.base,h)(u)),typeof h=="object")for(let[g,y]of Object.entries(h))c[g]=ki(c[g],y)(u);return c},re=D=>{if(o.length<1)return null;let E={};for(let{slots:c=[],class:h,className:g,...y}of o){if(!nn(y)){let w=!0;for(let B of Object.keys(y)){let R=ee(B,D)[B];if(R===void 0||(Array.isArray(y[B])?!y[B].includes(R):y[B]!==R)){w=!1;break}}if(!w)continue}for(let w of c)E[w]=E[w]||[],E[w].push([h,g])}return E};if(!nn(r)||!I){let D={};if(typeof T=="object"&&!nn(T))for(let E of Object.keys(T))D[E]=c=>{var h,g;return ki(T[E],W(E,c),((h=Be(c))!=null?h:[])[E],((g=re(c))!=null?g:[])[E],c==null?void 0:c.class,c==null?void 0:c.className)(u)};return D}return ki(p,V(),q(A),P==null?void 0:P.class,P==null?void 0:P.className)(u)},L=()=>{if(!(!m||typeof m!="object"))return Object.keys(m)};return x.variantKeys=L(),x.extend=t,x.base=p,x.slots=T,x.variants=m,x.defaultVariants=b,x.compoundSlots=o,x.compoundVariants=A,x};function ym(n){return Object.keys(n).reduce((e,t)=>n[t]===void 0?e:e+`${t}:${n[t]};`,"")}ym({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});const Fr=[];function Xr(n,e){return{subscribe:hl(n,e).subscribe}}function hl(n,e=$t){let t;const r=new Set;function s(a){if(kn(n,a)&&(n=a,t)){const u=!Fr.length;for(const p of r)p[1](),Fr.push(p,n);if(u){for(let p=0;p<Fr.length;p+=2)Fr[p][0](Fr[p+1]);Fr.length=0}}}function i(a){s(a(n))}function o(a,u=$t){const p=[a,u];return r.add(p),r.size===1&&(t=e(s,i)||$t),a(n),()=>{r.delete(p),r.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function wm(n,e,t){const r=!Array.isArray(n),s=r?[n]:n;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return Xr(t,(o,a)=>{let u=!1;const p=[];let m=0,b=$t;const I=()=>{if(m)return;b();const T=e(r?p[0]:p,o,a);i?o(T):b=Ji(T)?T:$t},M=s.map((T,A)=>Nc(T,x=>{p[A]=x,m&=~(1<<A),u&&I()},()=>{m|=1<<A}));return u=!0,I(),function(){Cn(M),b(),u=!1}})}function Sc(n){function e(t){return t(n),()=>{}}return{subscribe:e}}const ls=n=>new Proxy(n,{get(e,t,r){return Reflect.get(e,t,r)},ownKeys(e){return Reflect.ownKeys(e).filter(t=>t!=="action")}}),Bc=n=>typeof n=="function";pl("empty");function pl(n,e){const{stores:t,action:r,returned:s}=e??{},i=(()=>{if(t&&s)return wm(t,a=>{const u=s(a);if(Bc(u)){const p=(...m)=>ls({...u(...m),[`data-melt-${n}`]:"",action:r??Pr});return p.action=r??Pr,p}return ls({...u,[`data-melt-${n}`]:"",action:r??Pr})});{const a=s,u=a==null?void 0:a();if(Bc(u)){const p=(...m)=>ls({...u(...m),[`data-melt-${n}`]:"",action:r??Pr});return p.action=r??Pr,Sc(p)}return Sc(ls({...u,[`data-melt-${n}`]:"",action:r??Pr}))}})(),o=r??(()=>{});return o.subscribe=i.subscribe,o}function bm(n){return n instanceof HTMLElement}function Pr(){}function ml(n,e,t,r){const s=Array.isArray(e)?e:[e];return s.forEach(i=>n.addEventListener(i,t,r)),()=>{s.forEach(i=>n.removeEventListener(i,t,r))}}function vm(n,e,t,r){const s=Array.isArray(e)?e:[e];if(typeof t=="function"){const i=xm(o=>t(o));return s.forEach(o=>n.addEventListener(o,i,r)),()=>{s.forEach(o=>n.removeEventListener(o,i,r))}}return()=>void 0}function _m(n){const e=n.currentTarget;if(!bm(e))return null;const t=new CustomEvent(`m-${n.type}`,{detail:{originalEvent:n},cancelable:!0});return e.dispatchEvent(t),t}function xm(n){return e=>{const t=_m(e);if(!(t!=null&&t.defaultPrevented))return n(e)}}function km(n,...e){const t={};for(const r of Object.keys(n))e.includes(r)||(t[r]=n[r]);return t}const Em={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"};Xr(void 0,n=>{function e(r){n(r),n(void 0)}return ml(document,"pointerup",e,{passive:!1,capture:!0})});Xr(void 0,n=>{function e(r){r&&r.key===Em.ESCAPE&&n(r),n(void 0)}return ml(document,"keydown",e,{passive:!1})});Xr(!1),Xr(!1),Xr(void 0);function Sm(){return{elements:{root:pl("label",{action:e=>({destroy:vm(e,"mousedown",r=>{!r.defaultPrevented&&r.detail>1&&r.preventDefault()})})})}}}const Bm={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({...km(Bm,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});function Am(n,e){const t={};return e.forEach(r=>{t[r]={[`data-${n}-${r}`]:""}}),r=>t[r]}function Im(){const n=Fl();return e=>{const{originalEvent:t}=e.detail,{cancelable:r}=e,s=t.type;n(s,{originalEvent:t,currentTarget:t.currentTarget},{cancelable:r})||e.preventDefault()}}function Mm(n,e){const t=[];return e.builders.forEach(r=>{const s=r.action(n);s&&t.push(s)}),{destroy:()=>{t.forEach(r=>{r.destroy&&r.destroy()})}}}function Ac(n){const e={};return n.forEach(t=>{Object.keys(t).forEach(r=>{r!=="action"&&(e[r]=t[r])})}),e}function Rm(n){let e=n[1]?"a":"button",t,r,s=(n[1]?"a":"button")&&Lo(n);return{c(){s&&s.c(),t=Ts()},m(i,o){s&&s.m(i,o),Tt(i,t,o),r=!0},p(i,o){i[1],e?kn(e,i[1]?"a":"button")?(s.d(1),s=Lo(i),e=i[1]?"a":"button",s.c(),s.m(t.parentNode,t)):s.p(i,o):(s=Lo(i),e=i[1]?"a":"button",s.c(),s.m(t.parentNode,t))},i(i){r||(Ue(s,i),r=!0)},o(i){ze(s,i),r=!1},d(i){i&&Mt(t),s&&s.d(i)}}}function Tm(n){let e=n[1]?"a":"button",t,r,s=(n[1]?"a":"button")&&No(n);return{c(){s&&s.c(),t=Ts()},m(i,o){s&&s.m(i,o),Tt(i,t,o),r=!0},p(i,o){i[1],e?kn(e,i[1]?"a":"button")?(s.d(1),s=No(i),e=i[1]?"a":"button",s.c(),s.m(t.parentNode,t)):s.p(i,o):(s=No(i),e=i[1]?"a":"button",s.c(),s.m(t.parentNode,t))},i(i){r||(Ue(s,i),r=!0)},o(i){ze(s,i),r=!1},d(i){i&&Mt(t),s&&s.d(i)}}}function Lo(n){let e,t,r,s,i;const o=n[7].default,a=ui(o,n,n[6],null);let u=[{type:t=n[1]?void 0:n[2]},{href:n[1]},{tabindex:"0"},n[5],n[4]],p={};for(let m=0;m<u.length;m+=1)p=Zt(p,u[m]);return{c(){e=We(n[1]?"a":"button"),a&&a.c(),hs(n[1]?"a":"button")(e,p)},m(m,b){Tt(m,e,b),a&&a.m(e,null),n[29](e),r=!0,s||(i=[Le(e,"click",n[18]),Le(e,"change",n[19]),Le(e,"keydown",n[20]),Le(e,"keyup",n[21]),Le(e,"mouseenter",n[22]),Le(e,"mouseleave",n[23]),Le(e,"mousedown",n[24]),Le(e,"pointerdown",n[25]),Le(e,"mouseup",n[26]),Le(e,"pointerup",n[27])],s=!0)},p(m,b){a&&a.p&&(!r||b&64)&&fi(a,o,m,m[6],r?li(o,m[6],b,null):di(m[6]),null),hs(m[1]?"a":"button")(e,p=hi(u,[(!r||b&6&&t!==(t=m[1]?void 0:m[2]))&&{type:t},(!r||b&2)&&{href:m[1]},{tabindex:"0"},b&32&&m[5],m[4]]))},i(m){r||(Ue(a,m),r=!0)},o(m){ze(a,m),r=!1},d(m){m&&Mt(e),a&&a.d(m),n[29](null),s=!1,Cn(i)}}}function No(n){let e,t,r,s,i,o;const a=n[7].default,u=ui(a,n,n[6],null);let p=[{type:t=n[1]?void 0:n[2]},{href:n[1]},{tabindex:"0"},Ac(n[3]),n[5],n[4]],m={};for(let b=0;b<p.length;b+=1)m=Zt(m,p[b]);return{c(){e=We(n[1]?"a":"button"),u&&u.c(),hs(n[1]?"a":"button")(e,m)},m(b,I){Tt(b,e,I),u&&u.m(e,null),n[28](e),s=!0,i||(o=[Le(e,"click",n[8]),Le(e,"change",n[9]),Le(e,"keydown",n[10]),Le(e,"keyup",n[11]),Le(e,"mouseenter",n[12]),Le(e,"mouseleave",n[13]),Le(e,"mousedown",n[14]),Le(e,"pointerdown",n[15]),Le(e,"mouseup",n[16]),Le(e,"pointerup",n[17]),Uc(r=Mm.call(null,e,{builders:n[3]}))],i=!0)},p(b,I){u&&u.p&&(!s||I&64)&&fi(u,a,b,b[6],s?li(a,b[6],I,null):di(b[6]),null),hs(b[1]?"a":"button")(e,m=hi(p,[(!s||I&6&&t!==(t=b[1]?void 0:b[2]))&&{type:t},(!s||I&2)&&{href:b[1]},{tabindex:"0"},I&8&&Ac(b[3]),I&32&&b[5],b[4]])),r&&Ji(r.update)&&I&8&&r.update.call(null,{builders:b[3]})},i(b){s||(Ue(u,b),s=!0)},o(b){ze(u,b),s=!1},d(b){b&&Mt(e),u&&u.d(b),n[28](null),i=!1,Cn(o)}}}function Cm(n){let e,t,r,s;const i=[Tm,Rm],o=[];function a(u,p){return u[3]&&u[3].length?0:1}return e=a(n),t=o[e]=i[e](n),{c(){t.c(),r=Ts()},m(u,p){o[e].m(u,p),Tt(u,r,p),s=!0},p(u,[p]){let m=e;e=a(u),e===m?o[e].p(u,p):(oa(),ze(o[m],1,1,()=>{o[m]=null}),aa(),t=o[e],t?t.p(u,p):(t=o[e]=i[e](u),t.c()),Ue(t,1),t.m(r.parentNode,r))},i(u){s||(Ue(t),s=!0)},o(u){ze(t),s=!1},d(u){u&&Mt(r),o[e].d(u)}}}function Lm(n,e,t){const r=["href","type","builders","el"];let s=In(e,r),{$$slots:i={},$$scope:o}=e,{href:a=void 0}=e,{type:u=void 0}=e,{builders:p=[]}=e,{el:m=void 0}=e;const b={"data-button-root":""};function I(w){Te.call(this,n,w)}function M(w){Te.call(this,n,w)}function T(w){Te.call(this,n,w)}function A(w){Te.call(this,n,w)}function x(w){Te.call(this,n,w)}function L(w){Te.call(this,n,w)}function P(w){Te.call(this,n,w)}function O(w){Te.call(this,n,w)}function j(w){Te.call(this,n,w)}function V(w){Te.call(this,n,w)}function W(w){Te.call(this,n,w)}function H(w){Te.call(this,n,w)}function ee(w){Te.call(this,n,w)}function q(w){Te.call(this,n,w)}function Be(w){Te.call(this,n,w)}function re(w){Te.call(this,n,w)}function D(w){Te.call(this,n,w)}function E(w){Te.call(this,n,w)}function c(w){Te.call(this,n,w)}function h(w){Te.call(this,n,w)}function g(w){gn[w?"unshift":"push"](()=>{m=w,t(0,m)})}function y(w){gn[w?"unshift":"push"](()=>{m=w,t(0,m)})}return n.$$set=w=>{e=Zt(Zt({},e),Xi(w)),t(5,s=In(e,r)),"href"in w&&t(1,a=w.href),"type"in w&&t(2,u=w.type),"builders"in w&&t(3,p=w.builders),"el"in w&&t(0,m=w.el),"$$scope"in w&&t(6,o=w.$$scope)},[m,a,u,p,b,s,o,i,I,M,T,A,x,L,P,O,j,V,W,H,ee,q,Be,re,D,E,c,h,g,y]}let Nm=class extends mr{constructor(e){super(),pr(this,e,Lm,Cm,kn,{href:1,type:2,builders:3,el:0})}};function Om(){const n="label",t=Am(n,["root"]);return{NAME:n,getAttrs:t}}const Um=n=>({builder:n&4}),Ic=n=>({builder:n[2]}),Fm=n=>({builder:n&4}),Mc=n=>({builder:n[2]});function Pm(n){let e,t,r,s;const i=n[8].default,o=ui(i,n,n[7],Ic);let a=[n[2],n[5]],u={};for(let p=0;p<a.length;p+=1)u=Zt(u,a[p]);return{c(){e=We("label"),o&&o.c(),Ri(e,u)},m(p,m){Tt(p,e,m),o&&o.m(e,null),n[9](e),t=!0,r||(s=[Uc(n[2].action(e)),Le(e,"m-mousedown",n[4])],r=!0)},p(p,m){o&&o.p&&(!t||m&132)&&fi(o,i,p,p[7],t?li(i,p[7],m,Um):di(p[7]),Ic),Ri(e,u=hi(a,[m&4&&p[2],m&32&&p[5]]))},i(p){t||(Ue(o,p),t=!0)},o(p){ze(o,p),t=!1},d(p){p&&Mt(e),o&&o.d(p),n[9](null),r=!1,Cn(s)}}}function zm(n){let e;const t=n[8].default,r=ui(t,n,n[7],Mc);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&132)&&fi(r,t,s,s[7],e?li(t,s[7],i,Fm):di(s[7]),Mc)},i(s){e||(Ue(r,s),e=!0)},o(s){ze(r,s),e=!1},d(s){r&&r.d(s)}}}function Dm(n){let e,t,r,s;const i=[zm,Pm],o=[];function a(u,p){return u[1]?0:1}return e=a(n),t=o[e]=i[e](n),{c(){t.c(),r=Ts()},m(u,p){o[e].m(u,p),Tt(u,r,p),s=!0},p(u,[p]){let m=e;e=a(u),e===m?o[e].p(u,p):(oa(),ze(o[m],1,1,()=>{o[m]=null}),aa(),t=o[e],t?t.p(u,p):(t=o[e]=i[e](u),t.c()),Ue(t,1),t.m(r.parentNode,r))},i(u){s||(Ue(t),s=!0)},o(u){ze(t),s=!1},d(u){u&&Mt(r),o[e].d(u)}}}function qm(n,e,t){let r;const s=["asChild","el"];let i=In(e,s),o,{$$slots:a={},$$scope:u}=e,{asChild:p=!1}=e,{el:m=void 0}=e;const{elements:{root:b}}=Sm();sa(n,b,x=>t(6,o=x));const I=Im(),{getAttrs:M}=Om(),T=M("root");function A(x){gn[x?"unshift":"push"](()=>{m=x,t(0,m)})}return n.$$set=x=>{e=Zt(Zt({},e),Xi(x)),t(5,i=In(e,s)),"asChild"in x&&t(1,p=x.asChild),"el"in x&&t(0,m=x.el),"$$scope"in x&&t(7,u=x.$$scope)},n.$$.update=()=>{n.$$.dirty&64&&t(2,r=o),n.$$.dirty&4&&Object.assign(r,T)},[m,p,r,b,I,i,o,u,a,A]}let jm=class extends mr{constructor(e){super(),pr(this,e,qm,Dm,kn,{asChild:1,el:0})}};function gl(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=gl(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function $m(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=gl(n))&&(r&&(r+=" "),r+=e);return r}function si(...n){return fl($m(n))}function Zm(n){let e;const t=n[5].default,r=ui(t,n,n[8],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&256)&&fi(r,t,s,s[8],e?li(t,s[8],i,null):di(s[8]),null)},i(s){e||(Ue(r,s),e=!0)},o(s){ze(r,s),e=!1},d(s){r&&r.d(s)}}}function Vm(n){let e,t;const r=[{builders:n[3]},{class:si(Rc({variant:n[1],size:n[2],className:n[0]}))},{type:"button"},n[4]];let s={$$slots:{default:[Zm]},$$scope:{ctx:n}};for(let i=0;i<r.length;i+=1)s=Zt(s,r[i]);return e=new Nm({props:s}),e.$on("click",n[6]),e.$on("keydown",n[7]),{c(){Dt(e.$$.fragment)},m(i,o){Ct(e,i,o),t=!0},p(i,[o]){const a=o&31?hi(r,[o&8&&{builders:i[3]},o&7&&{class:si(Rc({variant:i[1],size:i[2],className:i[0]}))},r[2],o&16&&Pc(i[4])]):{};o&256&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){t||(Ue(e.$$.fragment,i),t=!0)},o(i){ze(e.$$.fragment,i),t=!1},d(i){Lt(e,i)}}}function Hm(n,e,t){const r=["class","variant","size","builders"];let s=In(e,r),{$$slots:i={},$$scope:o}=e,{class:a=void 0}=e,{variant:u="default"}=e,{size:p="default"}=e,{builders:m=[]}=e;function b(M){Te.call(this,n,M)}function I(M){Te.call(this,n,M)}return n.$$set=M=>{e=Zt(Zt({},e),Xi(M)),t(4,s=In(e,r)),"class"in M&&t(0,a=M.class),"variant"in M&&t(1,u=M.variant),"size"in M&&t(2,p=M.size),"builders"in M&&t(3,m=M.builders),"$$scope"in M&&t(8,o=M.$$scope)},[a,u,p,m,s,i,b,I,o]}class Km extends mr{constructor(e){super(),pr(this,e,Hm,Vm,kn,{class:0,variant:1,size:2,builders:3})}}const Rc=gm({base:"focus-visible:ring-ring inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50",variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border-input bg-background hover:bg-accent hover:text-accent-foreground border shadow-sm",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}});function Wm(n){let e,t,r,s,i,o,a,u,p,m,b,I,M,T;return{c(){e=We("div"),t=We("div"),r=We("div"),s=We("div"),i=We("div"),i.textContent=" ",o=Nt(),a=We("div"),u=We("div"),u.textContent=" ",p=Nt(),m=We("div"),b=We("div"),b.textContent=" ",I=Nt(),M=We("div"),T=We("div"),T.textContent=" ",Qe(i,"class","ball ball-top-left svelte-7wj78d"),En(i,"pause-animation",n[2]),Qe(s,"class","single-ball svelte-7wj78d"),Qe(u,"class","ball ball-top-right svelte-7wj78d"),En(u,"pause-animation",n[2]),Qe(a,"class","contener_mixte"),Qe(b,"class","ball ball-bottom-left svelte-7wj78d"),En(b,"pause-animation",n[2]),Qe(m,"class","contener_mixte"),Qe(T,"class","ball ball-bottom-right svelte-7wj78d"),En(T,"pause-animation",n[2]),Qe(M,"class","contener_mixte"),Qe(r,"class","ball-container svelte-7wj78d"),En(r,"pause-animation",n[2]),Qe(t,"class","inner svelte-7wj78d"),Qe(e,"class","wrapper svelte-7wj78d"),en(e,"--size",n[0]+n[1]),en(e,"--floatSize",n[0]),en(e,"--ballTopLeftColor",n[3]),en(e,"--ballTopRightColor",n[4]),en(e,"--ballBottomLeftColor",n[5]),en(e,"--ballBottomRightColor",n[6]),en(e,"--duration",n[7])},m(A,x){Tt(A,e,x),Ce(e,t),Ce(t,r),Ce(r,s),Ce(s,i),Ce(r,o),Ce(r,a),Ce(a,u),Ce(r,p),Ce(r,m),Ce(m,b),Ce(r,I),Ce(r,M),Ce(M,T)},p(A,[x]){x&4&&En(i,"pause-animation",A[2]),x&4&&En(u,"pause-animation",A[2]),x&4&&En(b,"pause-animation",A[2]),x&4&&En(T,"pause-animation",A[2]),x&4&&En(r,"pause-animation",A[2]),x&3&&en(e,"--size",A[0]+A[1]),x&1&&en(e,"--floatSize",A[0]),x&8&&en(e,"--ballTopLeftColor",A[3]),x&16&&en(e,"--ballTopRightColor",A[4]),x&32&&en(e,"--ballBottomLeftColor",A[5]),x&64&&en(e,"--ballBottomRightColor",A[6]),x&128&&en(e,"--duration",A[7])},i:$t,o:$t,d(A){A&&Mt(e)}}}function Gm(n,e,t){let{size:r="60"}=e,{unit:s="px"}=e,{pause:i=!1}=e,{ballTopLeft:o="#FF3E00"}=e,{ballTopRight:a="#F8B334"}=e,{ballBottomLeft:u="#40B3FF"}=e,{ballBottomRight:p="#676778"}=e,{duration:m="1.5s"}=e;return n.$$set=b=>{"size"in b&&t(0,r=b.size),"unit"in b&&t(1,s=b.unit),"pause"in b&&t(2,i=b.pause),"ballTopLeft"in b&&t(3,o=b.ballTopLeft),"ballTopRight"in b&&t(4,a=b.ballTopRight),"ballBottomLeft"in b&&t(5,u=b.ballBottomLeft),"ballBottomRight"in b&&t(6,p=b.ballBottomRight),"duration"in b&&t(7,m=b.duration)},[r,s,i,o,a,u,p,m]}class Ym extends mr{constructor(e){super(),pr(this,e,Gm,Wm,kn,{size:0,unit:1,pause:2,ballTopLeft:3,ballTopRight:4,ballBottomLeft:5,ballBottomRight:6,duration:7})}}function Jm(n){let e,t,r,s,i=[{class:t=si("border-input placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50",n[1])},{readOnly:n[2]},n[3]],o={};for(let a=0;a<i.length;a+=1)o=Zt(o,i[a]);return{c(){e=We("input"),Ri(e,o)},m(a,u){Tt(a,e,u),e.autofocus&&e.focus(),Ha(e,n[0]),r||(s=[Le(e,"input",n[20]),Le(e,"blur",n[4]),Le(e,"change",n[5]),Le(e,"click",n[6]),Le(e,"focus",n[7]),Le(e,"focusin",n[8]),Le(e,"focusout",n[9]),Le(e,"keydown",n[10]),Le(e,"keypress",n[11]),Le(e,"keyup",n[12]),Le(e,"mouseover",n[13]),Le(e,"mouseenter",n[14]),Le(e,"mouseleave",n[15]),Le(e,"mousemove",n[16]),Le(e,"paste",n[17]),Le(e,"input",n[18]),Le(e,"wheel",n[19],{passive:!0})],r=!0)},p(a,[u]){Ri(e,o=hi(i,[u&2&&t!==(t=si("border-input placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50",a[1]))&&{class:t},u&4&&{readOnly:a[2]},u&8&&a[3]])),u&1&&e.value!==a[0]&&Ha(e,a[0])},i:$t,o:$t,d(a){a&&Mt(e),r=!1,Cn(s)}}}function Xm(n,e,t){const r=["class","value","readonly"];let s=In(e,r),{class:i=void 0}=e,{value:o=void 0}=e,{readonly:a=void 0}=e;function u(q){Te.call(this,n,q)}function p(q){Te.call(this,n,q)}function m(q){Te.call(this,n,q)}function b(q){Te.call(this,n,q)}function I(q){Te.call(this,n,q)}function M(q){Te.call(this,n,q)}function T(q){Te.call(this,n,q)}function A(q){Te.call(this,n,q)}function x(q){Te.call(this,n,q)}function L(q){Te.call(this,n,q)}function P(q){Te.call(this,n,q)}function O(q){Te.call(this,n,q)}function j(q){Te.call(this,n,q)}function V(q){Te.call(this,n,q)}function W(q){Te.call(this,n,q)}function H(q){Te.call(this,n,q)}function ee(){o=this.value,t(0,o)}return n.$$set=q=>{e=Zt(Zt({},e),Xi(q)),t(3,s=In(e,r)),"class"in q&&t(1,i=q.class),"value"in q&&t(0,o=q.value),"readonly"in q&&t(2,a=q.readonly)},[o,i,a,s,u,p,m,b,I,M,T,A,x,L,P,O,j,V,W,H,ee]}class zr extends mr{constructor(e){super(),pr(this,e,Xm,Jm,kn,{class:1,value:0,readonly:2})}}const $n=hl({year:new Date().getFullYear(),month:new Date().getMonth()+1,day:new Date().getDate(),hour:new Date().getHours(),minute:new Date().getMinutes(),second:new Date().getSeconds()}),Qm=(n,e)=>{$n.update(t=>(t[n]=e,t))};var Oe;(function(n){n.assertEqual=s=>s;function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},n.getValidEnumValues=s=>{const i=n.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return n.objectValues(o)},n.objectValues=s=>n.objectKeys(s).map(function(i){return s[i]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},n.find=(s,i)=>{for(const o of s)if(i(o))return o},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}n.joinValues=r,n.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Oe||(Oe={}));var ta;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(ta||(ta={}));const se=Oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sr=n=>{switch(typeof n){case"undefined":return se.undefined;case"string":return se.string;case"number":return isNaN(n)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(n)?se.array:n===null?se.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?se.promise:typeof Map<"u"&&n instanceof Map?se.map:typeof Set<"u"&&n instanceof Set?se.set:typeof Date<"u"&&n instanceof Date?se.date:se.object;default:return se.unknown}},Z=Oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),eg=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class on extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let a=r,u=0;for(;u<o.path.length;){const p=o.path[u];u===o.path.length-1?(a[p]=a[p]||{_errors:[]},a[p]._errors.push(t(o))):a[p]=a[p]||{_errors:[]},a=a[p],u++}}};return s(this),r}static assert(e){if(!(e instanceof on))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}on.create=n=>new on(n);const oi=(n,e)=>{let t;switch(n.code){case Z.invalid_type:n.received===se.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Z.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,Oe.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:t=`Unrecognized key(s) in object: ${Oe.joinValues(n.keys,", ")}`;break;case Z.invalid_union:t="Invalid input";break;case Z.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Oe.joinValues(n.options)}`;break;case Z.invalid_enum_value:t=`Invalid enum value. Expected ${Oe.joinValues(n.options)}, received '${n.received}'`;break;case Z.invalid_arguments:t="Invalid function arguments";break;case Z.invalid_return_type:t="Invalid function return type";break;case Z.invalid_date:t="Invalid date";break;case Z.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:Oe.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Z.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Z.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Z.custom:t="Invalid input";break;case Z.invalid_intersection_types:t="Intersection results could not be merged";break;case Z.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Z.not_finite:t="Number must be finite";break;default:t=e.defaultError,Oe.assertNever(n)}return{message:t}};let yl=oi;function tg(n){yl=n}function Es(){return yl}const Ss=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,i=[...t,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const u=r.filter(p=>!!p).slice().reverse();for(const p of u)a=p(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}},ng=[];function ie(n,e){const t=Es(),r=Ss({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===oi?void 0:oi].filter(s=>!!s)});n.common.issues.push(r)}class Gt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return ge;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Gt.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return ge;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const ge=Object.freeze({status:"aborted"}),Kr=n=>({status:"dirty",value:n}),Qt=n=>({status:"valid",value:n}),na=n=>n.status==="aborted",ra=n=>n.status==="dirty",Fi=n=>n.status==="valid",Pi=n=>typeof Promise<"u"&&n instanceof Promise;function Bs(n,e,t,r){if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function wl(n,e,t,r,s){if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var ce;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ce||(ce={}));var Ai,Ii;class Rn{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Tc=(n,e)=>{if(Fi(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new on(n.common.issues);return this._error=t,this._error}}};function ke(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var u,p;const{message:m}=n;return o.code==="invalid_enum_value"?{message:m??a.defaultError}:typeof a.data>"u"?{message:(u=m??r)!==null&&u!==void 0?u:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(p=m??t)!==null&&p!==void 0?p:a.defaultError}},description:s}}class Re{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return sr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:sr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Gt,ctx:{common:e.parent.common,data:e.data,parsedType:sr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Pi(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const s={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sr(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Tc(s,i)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sr(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Pi(s)?s:Promise.resolve(s));return Tc(r,i)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:Z.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new xn({schema:this,typeName:he.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return An.create(this,this._def)}nullable(){return hr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bn.create(this,this._def)}promise(){return ci.create(this,this._def)}or(e){return ji.create([this,e],this._def)}and(e){return $i.create(this,e,this._def)}transform(e){return new xn({...ke(this._def),schema:this,typeName:he.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Wi({...ke(this._def),innerType:this,defaultValue:t,typeName:he.ZodDefault})}brand(){return new Ua({typeName:he.ZodBranded,type:this,...ke(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Gi({...ke(this._def),innerType:this,catchValue:t,typeName:he.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return is.create(this,e)}readonly(){return Yi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rg=/^c[^\s-]{8,}$/i,ig=/^[0-9a-z]+$/,sg=/^[0-9A-HJKMNP-TV-Z]{26}$/,og=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ag=/^[a-z0-9_-]{21}$/i,cg=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ug=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lg="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Oo;const fg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dg=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,hg=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bl="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pg=new RegExp(`^${bl}$`);function vl(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function mg(n){return new RegExp(`^${vl(n)}$`)}function _l(n){let e=`${bl}T${vl(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function gg(n,e){return!!((e==="v4"||!e)&&fg.test(n)||(e==="v6"||!e)&&dg.test(n))}class yn extends Re{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==se.string){const i=this._getOrReturnCtx(e);return ie(i,{code:Z.invalid_type,expected:se.string,received:i.parsedType}),ge}const r=new Gt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ie(s,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ie(s,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?ie(s,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&ie(s,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")ug.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"email",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Oo||(Oo=new RegExp(lg,"u")),Oo.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"emoji",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")og.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"uuid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")ag.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"nanoid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")rg.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"cuid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")ig.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"cuid2",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")sg.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"ulid",code:Z.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ie(s,{validation:"url",code:Z.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"regex",code:Z.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ie(s,{code:Z.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ie(s,{code:Z.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ie(s,{code:Z.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?_l(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{code:Z.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?pg.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{code:Z.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?mg(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{code:Z.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?cg.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"duration",code:Z.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?gg(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"ip",code:Z.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?hg.test(e.data)||(s=this._getOrReturnCtx(e,s),ie(s,{validation:"base64",code:Z.invalid_string,message:i.message}),r.dirty()):Oe.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:Z.invalid_string,...ce.errToObj(r)})}_addCheck(e){return new yn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ce.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ce.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ce.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ce.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ce.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ce.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ce.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ce.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ce.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ce.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ce.errToObj(t)})}nonempty(e){return this.min(1,ce.errToObj(e))}trim(){return new yn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}yn.create=n=>{var e;return new yn({checks:[],typeName:he.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ke(n)})};function yg(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,i=parseInt(n.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class lr extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==se.number){const i=this._getOrReturnCtx(e);return ie(i,{code:Z.invalid_type,expected:se.number,received:i.parsedType}),ge}let r;const s=new Gt;for(const i of this._def.checks)i.kind==="int"?Oe.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:Z.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:Z.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:Z.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?yg(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ie(r,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:Z.not_finite,message:i.message}),s.dirty()):Oe.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ce.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ce.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ce.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ce.toString(t))}setLimit(e,t,r,s){return new lr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ce.toString(s)}]})}_addCheck(e){return new lr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Oe.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}lr.create=n=>new lr({checks:[],typeName:he.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ke(n)});class fr extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==se.bigint){const i=this._getOrReturnCtx(e);return ie(i,{code:Z.invalid_type,expected:se.bigint,received:i.parsedType}),ge}let r;const s=new Gt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:Z.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:Z.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Oe.assertNever(i);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ce.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ce.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ce.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ce.toString(t))}setLimit(e,t,r,s){return new fr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ce.toString(s)}]})}_addCheck(e){return new fr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}fr.create=n=>{var e;return new fr({checks:[],typeName:he.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...ke(n)})};class zi extends Re{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==se.boolean){const r=this._getOrReturnCtx(e);return ie(r,{code:Z.invalid_type,expected:se.boolean,received:r.parsedType}),ge}return Qt(e.data)}}zi.create=n=>new zi({typeName:he.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ke(n)});class Br extends Re{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==se.date){const i=this._getOrReturnCtx(e);return ie(i,{code:Z.invalid_type,expected:se.date,received:i.parsedType}),ge}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ie(i,{code:Z.invalid_date}),ge}const r=new Gt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ie(s,{code:Z.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ie(s,{code:Z.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Oe.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Br({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ce.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ce.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Br.create=n=>new Br({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:he.ZodDate,...ke(n)});class As extends Re{_parse(e){if(this._getType(e)!==se.symbol){const r=this._getOrReturnCtx(e);return ie(r,{code:Z.invalid_type,expected:se.symbol,received:r.parsedType}),ge}return Qt(e.data)}}As.create=n=>new As({typeName:he.ZodSymbol,...ke(n)});class Di extends Re{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return ie(r,{code:Z.invalid_type,expected:se.undefined,received:r.parsedType}),ge}return Qt(e.data)}}Di.create=n=>new Di({typeName:he.ZodUndefined,...ke(n)});class qi extends Re{_parse(e){if(this._getType(e)!==se.null){const r=this._getOrReturnCtx(e);return ie(r,{code:Z.invalid_type,expected:se.null,received:r.parsedType}),ge}return Qt(e.data)}}qi.create=n=>new qi({typeName:he.ZodNull,...ke(n)});class ai extends Re{constructor(){super(...arguments),this._any=!0}_parse(e){return Qt(e.data)}}ai.create=n=>new ai({typeName:he.ZodAny,...ke(n)});class xr extends Re{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Qt(e.data)}}xr.create=n=>new xr({typeName:he.ZodUnknown,...ke(n)});class Gn extends Re{_parse(e){const t=this._getOrReturnCtx(e);return ie(t,{code:Z.invalid_type,expected:se.never,received:t.parsedType}),ge}}Gn.create=n=>new Gn({typeName:he.ZodNever,...ke(n)});class Is extends Re{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return ie(r,{code:Z.invalid_type,expected:se.void,received:r.parsedType}),ge}return Qt(e.data)}}Is.create=n=>new Is({typeName:he.ZodVoid,...ke(n)});class bn extends Re{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==se.array)return ie(t,{code:Z.invalid_type,expected:se.array,received:t.parsedType}),ge;if(s.exactLength!==null){const o=t.data.length>s.exactLength.value,a=t.data.length<s.exactLength.value;(o||a)&&(ie(t,{code:o?Z.too_big:Z.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(ie(t,{code:Z.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(ie(t,{code:Z.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>s.type._parseAsync(new Rn(t,o,t.path,a)))).then(o=>Gt.mergeArray(r,o));const i=[...t.data].map((o,a)=>s.type._parseSync(new Rn(t,o,t.path,a)));return Gt.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new bn({...this._def,minLength:{value:e,message:ce.toString(t)}})}max(e,t){return new bn({...this._def,maxLength:{value:e,message:ce.toString(t)}})}length(e,t){return new bn({...this._def,exactLength:{value:e,message:ce.toString(t)}})}nonempty(e){return this.min(1,e)}}bn.create=(n,e)=>new bn({type:n,minLength:null,maxLength:null,exactLength:null,typeName:he.ZodArray,...ke(e)});function Zr(n){if(n instanceof nt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=An.create(Zr(r))}return new nt({...n._def,shape:()=>e})}else return n instanceof bn?new bn({...n._def,type:Zr(n.element)}):n instanceof An?An.create(Zr(n.unwrap())):n instanceof hr?hr.create(Zr(n.unwrap())):n instanceof Tn?Tn.create(n.items.map(e=>Zr(e))):n}class nt extends Re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=Oe.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==se.object){const p=this._getOrReturnCtx(e);return ie(p,{code:Z.invalid_type,expected:se.object,received:p.parsedType}),ge}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Gn&&this._def.unknownKeys==="strip"))for(const p in s.data)o.includes(p)||a.push(p);const u=[];for(const p of o){const m=i[p],b=s.data[p];u.push({key:{status:"valid",value:p},value:m._parse(new Rn(s,b,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof Gn){const p=this._def.unknownKeys;if(p==="passthrough")for(const m of a)u.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(p==="strict")a.length>0&&(ie(s,{code:Z.unrecognized_keys,keys:a}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const m of a){const b=s.data[m];u.push({key:{status:"valid",value:m},value:p._parse(new Rn(s,b,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const p=[];for(const m of u){const b=await m.key,I=await m.value;p.push({key:b,value:I,alwaysSet:m.alwaysSet})}return p}).then(p=>Gt.mergeObjectSync(r,p)):Gt.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return ce.errToObj,new nt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,i,o,a;const u=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,t,r).message)!==null&&o!==void 0?o:r.defaultError;return t.code==="unrecognized_keys"?{message:(a=ce.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new nt({...this._def,unknownKeys:"strip"})}passthrough(){return new nt({...this._def,unknownKeys:"passthrough"})}extend(e){return new nt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:he.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new nt({...this._def,catchall:e})}pick(e){const t={};return Oe.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new nt({...this._def,shape:()=>t})}omit(e){const t={};return Oe.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new nt({...this._def,shape:()=>t})}deepPartial(){return Zr(this)}partial(e){const t={};return Oe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}),new nt({...this._def,shape:()=>t})}required(e){const t={};return Oe.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof An;)i=i._def.innerType;t[r]=i}}),new nt({...this._def,shape:()=>t})}keyof(){return xl(Oe.objectKeys(this.shape))}}nt.create=(n,e)=>new nt({shape:()=>n,unknownKeys:"strip",catchall:Gn.create(),typeName:he.ZodObject,...ke(e)});nt.strictCreate=(n,e)=>new nt({shape:()=>n,unknownKeys:"strict",catchall:Gn.create(),typeName:he.ZodObject,...ke(e)});nt.lazycreate=(n,e)=>new nt({shape:n,unknownKeys:"strip",catchall:Gn.create(),typeName:he.ZodObject,...ke(e)});class ji extends Re{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new on(a.ctx.common.issues));return ie(t,{code:Z.invalid_union,unionErrors:o}),ge}if(t.common.async)return Promise.all(r.map(async i=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of r){const p={...t,common:{...t.common,issues:[]},parent:null},m=u._parseSync({data:t.data,path:t.path,parent:p});if(m.status==="valid")return m;m.status==="dirty"&&!i&&(i={result:m,ctx:p}),p.common.issues.length&&o.push(p.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(u=>new on(u));return ie(t,{code:Z.invalid_union,unionErrors:a}),ge}}get options(){return this._def.options}}ji.create=(n,e)=>new ji({options:n,typeName:he.ZodUnion,...ke(e)});const qn=n=>n instanceof Vi?qn(n.schema):n instanceof xn?qn(n.innerType()):n instanceof Hi?[n.value]:n instanceof dr?n.options:n instanceof Ki?Oe.objectValues(n.enum):n instanceof Wi?qn(n._def.innerType):n instanceof Di?[void 0]:n instanceof qi?[null]:n instanceof An?[void 0,...qn(n.unwrap())]:n instanceof hr?[null,...qn(n.unwrap())]:n instanceof Ua||n instanceof Yi?qn(n.unwrap()):n instanceof Gi?qn(n._def.innerType):[];class Ks extends Re{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==se.object)return ie(t,{code:Z.invalid_type,expected:se.object,received:t.parsedType}),ge;const r=this.discriminator,s=t.data[r],i=this.optionsMap.get(s);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(ie(t,{code:Z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const s=new Map;for(const i of t){const o=qn(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Ks({typeName:he.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...ke(r)})}}function ia(n,e){const t=sr(n),r=sr(e);if(n===e)return{valid:!0,data:n};if(t===se.object&&r===se.object){const s=Oe.objectKeys(e),i=Oe.objectKeys(n).filter(a=>s.indexOf(a)!==-1),o={...n,...e};for(const a of i){const u=ia(n[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(t===se.array&&r===se.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<n.length;i++){const o=n[i],a=e[i],u=ia(o,a);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return t===se.date&&r===se.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class $i extends Re{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(na(i)||na(o))return ge;const a=ia(i.value,o.value);return a.valid?((ra(i)||ra(o))&&t.dirty(),{status:t.value,value:a.data}):(ie(r,{code:Z.invalid_intersection_types}),ge)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}$i.create=(n,e,t)=>new $i({left:n,right:e,typeName:he.ZodIntersection,...ke(t)});class Tn extends Re{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.array)return ie(r,{code:Z.invalid_type,expected:se.array,received:r.parsedType}),ge;if(r.data.length<this._def.items.length)return ie(r,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ge;!this._def.rest&&r.data.length>this._def.items.length&&(ie(r,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const i=[...r.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new Rn(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Gt.mergeArray(t,o)):Gt.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new Tn({...this._def,rest:e})}}Tn.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Tn({items:n,typeName:he.ZodTuple,rest:null,...ke(e)})};class Zi extends Re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.object)return ie(r,{code:Z.invalid_type,expected:se.object,received:r.parsedType}),ge;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Rn(r,a,r.path,a)),value:o._parse(new Rn(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Gt.mergeObjectAsync(t,s):Gt.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof Re?new Zi({keyType:e,valueType:t,typeName:he.ZodRecord,...ke(r)}):new Zi({keyType:yn.create(),valueType:e,typeName:he.ZodRecord,...ke(t)})}}class Ms extends Re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.map)return ie(r,{code:Z.invalid_type,expected:se.map,received:r.parsedType}),ge;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,u],p)=>({key:s._parse(new Rn(r,a,r.path,[p,"key"])),value:i._parse(new Rn(r,u,r.path,[p,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const p=await u.key,m=await u.value;if(p.status==="aborted"||m.status==="aborted")return ge;(p.status==="dirty"||m.status==="dirty")&&t.dirty(),a.set(p.value,m.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const u of o){const p=u.key,m=u.value;if(p.status==="aborted"||m.status==="aborted")return ge;(p.status==="dirty"||m.status==="dirty")&&t.dirty(),a.set(p.value,m.value)}return{status:t.value,value:a}}}}Ms.create=(n,e,t)=>new Ms({valueType:e,keyType:n,typeName:he.ZodMap,...ke(t)});class Ar extends Re{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.set)return ie(r,{code:Z.invalid_type,expected:se.set,received:r.parsedType}),ge;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ie(r,{code:Z.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ie(r,{code:Z.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const i=this._def.valueType;function o(u){const p=new Set;for(const m of u){if(m.status==="aborted")return ge;m.status==="dirty"&&t.dirty(),p.add(m.value)}return{status:t.value,value:p}}const a=[...r.data.values()].map((u,p)=>i._parse(new Rn(r,u,r.path,p)));return r.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,t){return new Ar({...this._def,minSize:{value:e,message:ce.toString(t)}})}max(e,t){return new Ar({...this._def,maxSize:{value:e,message:ce.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ar.create=(n,e)=>new Ar({valueType:n,minSize:null,maxSize:null,typeName:he.ZodSet,...ke(e)});class Qr extends Re{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==se.function)return ie(t,{code:Z.invalid_type,expected:se.function,received:t.parsedType}),ge;function r(a,u){return Ss({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Es(),oi].filter(p=>!!p),issueData:{code:Z.invalid_arguments,argumentsError:u}})}function s(a,u){return Ss({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Es(),oi].filter(p=>!!p),issueData:{code:Z.invalid_return_type,returnTypeError:u}})}const i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof ci){const a=this;return Qt(async function(...u){const p=new on([]),m=await a._def.args.parseAsync(u,i).catch(M=>{throw p.addIssue(r(u,M)),p}),b=await Reflect.apply(o,this,m);return await a._def.returns._def.type.parseAsync(b,i).catch(M=>{throw p.addIssue(s(b,M)),p})})}else{const a=this;return Qt(function(...u){const p=a._def.args.safeParse(u,i);if(!p.success)throw new on([r(u,p.error)]);const m=Reflect.apply(o,this,p.data),b=a._def.returns.safeParse(m,i);if(!b.success)throw new on([s(m,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qr({...this._def,args:Tn.create(e).rest(xr.create())})}returns(e){return new Qr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new Qr({args:e||Tn.create([]).rest(xr.create()),returns:t||xr.create(),typeName:he.ZodFunction,...ke(r)})}}class Vi extends Re{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Vi.create=(n,e)=>new Vi({getter:n,typeName:he.ZodLazy,...ke(e)});class Hi extends Re{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ie(t,{received:t.data,code:Z.invalid_literal,expected:this._def.value}),ge}return{status:"valid",value:e.data}}get value(){return this._def.value}}Hi.create=(n,e)=>new Hi({value:n,typeName:he.ZodLiteral,...ke(e)});function xl(n,e){return new dr({values:n,typeName:he.ZodEnum,...ke(e)})}class dr extends Re{constructor(){super(...arguments),Ai.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return ie(t,{expected:Oe.joinValues(r),received:t.parsedType,code:Z.invalid_type}),ge}if(Bs(this,Ai)||wl(this,Ai,new Set(this._def.values)),!Bs(this,Ai).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return ie(t,{received:t.data,code:Z.invalid_enum_value,options:r}),ge}return Qt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return dr.create(e,{...this._def,...t})}exclude(e,t=this._def){return dr.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Ai=new WeakMap;dr.create=xl;class Ki extends Re{constructor(){super(...arguments),Ii.set(this,void 0)}_parse(e){const t=Oe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==se.string&&r.parsedType!==se.number){const s=Oe.objectValues(t);return ie(r,{expected:Oe.joinValues(s),received:r.parsedType,code:Z.invalid_type}),ge}if(Bs(this,Ii)||wl(this,Ii,new Set(Oe.getValidEnumValues(this._def.values))),!Bs(this,Ii).has(e.data)){const s=Oe.objectValues(t);return ie(r,{received:r.data,code:Z.invalid_enum_value,options:s}),ge}return Qt(e.data)}get enum(){return this._def.values}}Ii=new WeakMap;Ki.create=(n,e)=>new Ki({values:n,typeName:he.ZodNativeEnum,...ke(e)});class ci extends Re{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==se.promise&&t.common.async===!1)return ie(t,{code:Z.invalid_type,expected:se.promise,received:t.parsedType}),ge;const r=t.parsedType===se.promise?t.data:Promise.resolve(t.data);return Qt(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ci.create=(n,e)=>new ci({type:n,typeName:he.ZodPromise,...ke(e)});class xn extends Re{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===he.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ie(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(t.value==="aborted")return ge;const u=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return u.status==="aborted"?ge:u.status==="dirty"||t.value==="dirty"?Kr(u.value):u});{if(t.value==="aborted")return ge;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?ge:a.status==="dirty"||t.value==="dirty"?Kr(a.value):a}}if(s.type==="refinement"){const o=a=>{const u=s.refinement(a,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ge:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ge:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Fi(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Fi(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:t.value,value:a})):o);Oe.assertNever(s)}}xn.create=(n,e,t)=>new xn({schema:n,typeName:he.ZodEffects,effect:e,...ke(t)});xn.createWithPreprocess=(n,e,t)=>new xn({schema:e,effect:{type:"preprocess",transform:n},typeName:he.ZodEffects,...ke(t)});class An extends Re{_parse(e){return this._getType(e)===se.undefined?Qt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}An.create=(n,e)=>new An({innerType:n,typeName:he.ZodOptional,...ke(e)});class hr extends Re{_parse(e){return this._getType(e)===se.null?Qt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hr.create=(n,e)=>new hr({innerType:n,typeName:he.ZodNullable,...ke(e)});class Wi extends Re{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Wi.create=(n,e)=>new Wi({innerType:n,typeName:he.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ke(e)});class Gi extends Re{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Pi(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new on(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new on(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Gi.create=(n,e)=>new Gi({innerType:n,typeName:he.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ke(e)});class Rs extends Re{_parse(e){if(this._getType(e)!==se.nan){const r=this._getOrReturnCtx(e);return ie(r,{code:Z.invalid_type,expected:se.nan,received:r.parsedType}),ge}return{status:"valid",value:e.data}}}Rs.create=n=>new Rs({typeName:he.ZodNaN,...ke(n)});const wg=Symbol("zod_brand");class Ua extends Re{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class is extends Re{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ge:i.status==="dirty"?(t.dirty(),Kr(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ge:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new is({in:e,out:t,typeName:he.ZodPipeline})}}class Yi extends Re{_parse(e){const t=this._def.innerType._parse(e),r=s=>(Fi(s)&&(s.value=Object.freeze(s.value)),s);return Pi(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}Yi.create=(n,e)=>new Yi({innerType:n,typeName:he.ZodReadonly,...ke(e)});function kl(n,e={},t){return n?ai.create().superRefine((r,s)=>{var i,o;if(!n(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(i=a.fatal)!==null&&i!==void 0?i:t)!==null&&o!==void 0?o:!0,p=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...p,fatal:u})}}):ai.create()}const bg={object:nt.lazycreate};var he;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(he||(he={}));const vg=(n,e={message:`Input not instance of ${n.name}`})=>kl(t=>t instanceof n,e),El=yn.create,Sl=lr.create,_g=Rs.create,xg=fr.create,Bl=zi.create,kg=Br.create,Eg=As.create,Sg=Di.create,Bg=qi.create,Ag=ai.create,Ig=xr.create,Mg=Gn.create,Rg=Is.create,Tg=bn.create,Cg=nt.create,Lg=nt.strictCreate,Ng=ji.create,Og=Ks.create,Ug=$i.create,Fg=Tn.create,Pg=Zi.create,zg=Ms.create,Dg=Ar.create,qg=Qr.create,jg=Vi.create,$g=Hi.create,Zg=dr.create,Vg=Ki.create,Hg=ci.create,Cc=xn.create,Kg=An.create,Wg=hr.create,Gg=xn.createWithPreprocess,Yg=is.create,Jg=()=>El().optional(),Xg=()=>Sl().optional(),Qg=()=>Bl().optional(),ey={string:n=>yn.create({...n,coerce:!0}),number:n=>lr.create({...n,coerce:!0}),boolean:n=>zi.create({...n,coerce:!0}),bigint:n=>fr.create({...n,coerce:!0}),date:n=>Br.create({...n,coerce:!0})},ty=ge;var rr=Object.freeze({__proto__:null,defaultErrorMap:oi,setErrorMap:tg,getErrorMap:Es,makeIssue:Ss,EMPTY_PATH:ng,addIssueToContext:ie,ParseStatus:Gt,INVALID:ge,DIRTY:Kr,OK:Qt,isAborted:na,isDirty:ra,isValid:Fi,isAsync:Pi,get util(){return Oe},get objectUtil(){return ta},ZodParsedType:se,getParsedType:sr,ZodType:Re,datetimeRegex:_l,ZodString:yn,ZodNumber:lr,ZodBigInt:fr,ZodBoolean:zi,ZodDate:Br,ZodSymbol:As,ZodUndefined:Di,ZodNull:qi,ZodAny:ai,ZodUnknown:xr,ZodNever:Gn,ZodVoid:Is,ZodArray:bn,ZodObject:nt,ZodUnion:ji,ZodDiscriminatedUnion:Ks,ZodIntersection:$i,ZodTuple:Tn,ZodRecord:Zi,ZodMap:Ms,ZodSet:Ar,ZodFunction:Qr,ZodLazy:Vi,ZodLiteral:Hi,ZodEnum:dr,ZodNativeEnum:Ki,ZodPromise:ci,ZodEffects:xn,ZodTransformer:xn,ZodOptional:An,ZodNullable:hr,ZodDefault:Wi,ZodCatch:Gi,ZodNaN:Rs,BRAND:wg,ZodBranded:Ua,ZodPipeline:is,ZodReadonly:Yi,custom:kl,Schema:Re,ZodSchema:Re,late:bg,get ZodFirstPartyTypeKind(){return he},coerce:ey,any:Ag,array:Tg,bigint:xg,boolean:Bl,date:kg,discriminatedUnion:Og,effect:Cc,enum:Zg,function:qg,instanceof:vg,intersection:Ug,lazy:jg,literal:$g,map:zg,nan:_g,nativeEnum:Vg,never:Mg,null:Bg,nullable:Wg,number:Sl,object:Cg,oboolean:Qg,onumber:Xg,optional:Kg,ostring:Jg,pipeline:Yg,preprocess:Gg,promise:Hg,record:Pg,set:Dg,strictObject:Lg,string:El,symbol:Eg,transformer:Cc,tuple:Fg,undefined:Sg,union:Ng,unknown:Ig,void:Rg,NEVER:ty,ZodIssueCode:Z,quotelessJson:eg,ZodError:on});const ny=rr.object({year:rr.number().int().min(2020),month:rr.number().int().min(1).max(12),day:rr.number().int().min(1).max(31),hour:rr.number().int().min(0).max(23),minute:rr.number().int().min(0).max(59),second:rr.number().int().min(0).max(59)});function ry(n){let e;const t=n[2].default,r=ui(t,n,n[3],null);return{c(){r&&r.c()},m(s,i){r&&r.m(s,i),e=!0},p(s,i){r&&r.p&&(!e||i&8)&&fi(r,t,s,s[3],e?li(t,s[3],i,null):di(s[3]),null)},i(s){e||(Ue(r,s),e=!0)},o(s){ze(r,s),e=!1},d(s){r&&r.d(s)}}}function iy(n){let e,t;const r=[{class:si("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n[0])},n[1]];let s={$$slots:{default:[ry]},$$scope:{ctx:n}};for(let i=0;i<r.length;i+=1)s=Zt(s,r[i]);return e=new jm({props:s}),{c(){Dt(e.$$.fragment)},m(i,o){Ct(e,i,o),t=!0},p(i,[o]){const a=o&3?hi(r,[o&1&&{class:si("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",i[0])},o&2&&Pc(i[1])]):{};o&8&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){t||(Ue(e.$$.fragment,i),t=!0)},o(i){ze(e.$$.fragment,i),t=!1},d(i){Lt(e,i)}}}function sy(n,e,t){const r=["class"];let s=In(e,r),{$$slots:i={},$$scope:o}=e,{class:a=void 0}=e;return n.$$set=u=>{e=Zt(Zt({},e),Xi(u)),t(1,s=In(e,r)),"class"in u&&t(0,a=u.class),"$$scope"in u&&t(3,o=u.$$scope)},[a,s,i,o]}class Dr extends mr{constructor(e){super(),pr(this,e,sy,iy,kn,{class:0})}}function oy(n){let e;return{c(){e=Ln("Year")},m(t,r){Tt(t,e,r)},d(t){t&&Mt(e)}}}function ay(n){let e;return{c(){e=Ln("Month")},m(t,r){Tt(t,e,r)},d(t){t&&Mt(e)}}}function cy(n){let e;return{c(){e=Ln("Day")},m(t,r){Tt(t,e,r)},d(t){t&&Mt(e)}}}function uy(n){let e;return{c(){e=Ln("Hour")},m(t,r){Tt(t,e,r)},d(t){t&&Mt(e)}}}function ly(n){let e;return{c(){e=Ln("Minute")},m(t,r){Tt(t,e,r)},d(t){t&&Mt(e)}}}function fy(n){let e;return{c(){e=Ln("Second")},m(t,r){Tt(t,e,r)},d(t){t&&Mt(e)}}}function dy(n){let e,t,r,s,i,o,a,u,p,m,b,I,M,T,A,x,L,P,O,j,V,W,H,ee,q,Be,re,D,E,c,h,g,y,w,B,R,_;r=new Dr({props:{for:"year",$$slots:{default:[oy]},$$scope:{ctx:n}}});function f(G){n[2](G)}let S={type:"number",min:"2020",max:new Date().getFullYear(),name:"year"};n[0].year!==void 0&&(S.value=n[0].year),i=new zr({props:S}),gn.push(()=>Nr(i,"value",f)),i.$on("change",n[1]),p=new Dr({props:{for:"month",$$slots:{default:[ay]},$$scope:{ctx:n}}});function K(G){n[3](G)}let Y={type:"number",max:"12",min:"1",name:"month"};n[0].month!==void 0&&(Y.value=n[0].month),b=new zr({props:Y}),gn.push(()=>Nr(b,"value",K)),b.$on("change",n[1]),A=new Dr({props:{for:"day",$$slots:{default:[cy]},$$scope:{ctx:n}}});function Q(G){n[4](G)}let ve={type:"number",max:"31",min:"1",name:"day"};n[0].day!==void 0&&(ve.value=n[0].day),L=new zr({props:ve}),gn.push(()=>Nr(L,"value",Q)),L.$on("change",n[1]),V=new Dr({props:{for:"hour",$$slots:{default:[uy]},$$scope:{ctx:n}}});function ue(G){n[5](G)}let pe={type:"number",max:"23",min:"0",name:"hour"};n[0].hour!==void 0&&(pe.value=n[0].hour),H=new zr({props:pe}),gn.push(()=>Nr(H,"value",ue)),H.$on("change",n[1]),re=new Dr({props:{for:"minute",$$slots:{default:[ly]},$$scope:{ctx:n}}});function tt(G){n[6](G)}let Ee={type:"number",max:"59",min:"0",name:"minute"};n[0].minute!==void 0&&(Ee.value=n[0].minute),E=new zr({props:Ee}),gn.push(()=>Nr(E,"value",tt)),E.$on("change",n[1]),y=new Dr({props:{for:"second",$$slots:{default:[fy]},$$scope:{ctx:n}}});function we(G){n[7](G)}let Xe={type:"number",max:"59",min:"0",name:"second"};return n[0].second!==void 0&&(Xe.value=n[0].second),B=new zr({props:Xe}),gn.push(()=>Nr(B,"value",we)),B.$on("change",n[1]),{c(){e=We("form"),t=We("div"),Dt(r.$$.fragment),s=Nt(),Dt(i.$$.fragment),a=Nt(),u=We("div"),Dt(p.$$.fragment),m=Nt(),Dt(b.$$.fragment),M=Nt(),T=We("div"),Dt(A.$$.fragment),x=Nt(),Dt(L.$$.fragment),O=Nt(),j=We("div"),Dt(V.$$.fragment),W=Nt(),Dt(H.$$.fragment),q=Nt(),Be=We("div"),Dt(re.$$.fragment),D=Nt(),Dt(E.$$.fragment),h=Nt(),g=We("div"),Dt(y.$$.fragment),w=Nt(),Dt(B.$$.fragment),Qe(u,"class","flex-1"),Qe(T,"class","flex-1"),Qe(j,"class","flex-1"),Qe(Be,"class","flex-1"),Qe(g,"class","flex-1"),Qe(e,"class","flex gap-3 my-10")},m(G,de){Tt(G,e,de),Ce(e,t),Ct(r,t,null),Ce(t,s),Ct(i,t,null),Ce(e,a),Ce(e,u),Ct(p,u,null),Ce(u,m),Ct(b,u,null),Ce(e,M),Ce(e,T),Ct(A,T,null),Ce(T,x),Ct(L,T,null),Ce(e,O),Ce(e,j),Ct(V,j,null),Ce(j,W),Ct(H,j,null),Ce(e,q),Ce(e,Be),Ct(re,Be,null),Ce(Be,D),Ct(E,Be,null),Ce(e,h),Ce(e,g),Ct(y,g,null),Ce(g,w),Ct(B,g,null),_=!0},p(G,[de]){const Fn={};de&256&&(Fn.$$scope={dirty:de,ctx:G}),r.$set(Fn);const je={};!o&&de&1&&(o=!0,je.value=G[0].year,Cr(()=>o=!1)),i.$set(je);const Ke={};de&256&&(Ke.$$scope={dirty:de,ctx:G}),p.$set(Ke);const Pn={};!I&&de&1&&(I=!0,Pn.value=G[0].month,Cr(()=>I=!1)),b.$set(Pn);const $e={};de&256&&($e.$$scope={dirty:de,ctx:G}),A.$set($e);const Pe={};!P&&de&1&&(P=!0,Pe.value=G[0].day,Cr(()=>P=!1)),L.$set(Pe);const ut={};de&256&&(ut.$$scope={dirty:de,ctx:G}),V.$set(ut);const qe={};!ee&&de&1&&(ee=!0,qe.value=G[0].hour,Cr(()=>ee=!1)),H.$set(qe);const Ve={};de&256&&(Ve.$$scope={dirty:de,ctx:G}),re.$set(Ve);const Ft={};!c&&de&1&&(c=!0,Ft.value=G[0].minute,Cr(()=>c=!1)),E.$set(Ft);const He={};de&256&&(He.$$scope={dirty:de,ctx:G}),y.$set(He);const v={};!R&&de&1&&(R=!0,v.value=G[0].second,Cr(()=>R=!1)),B.$set(v)},i(G){_||(Ue(r.$$.fragment,G),Ue(i.$$.fragment,G),Ue(p.$$.fragment,G),Ue(b.$$.fragment,G),Ue(A.$$.fragment,G),Ue(L.$$.fragment,G),Ue(V.$$.fragment,G),Ue(H.$$.fragment,G),Ue(re.$$.fragment,G),Ue(E.$$.fragment,G),Ue(y.$$.fragment,G),Ue(B.$$.fragment,G),_=!0)},o(G){ze(r.$$.fragment,G),ze(i.$$.fragment,G),ze(p.$$.fragment,G),ze(b.$$.fragment,G),ze(A.$$.fragment,G),ze(L.$$.fragment,G),ze(V.$$.fragment,G),ze(H.$$.fragment,G),ze(re.$$.fragment,G),ze(E.$$.fragment,G),ze(y.$$.fragment,G),ze(B.$$.fragment,G),_=!1},d(G){G&&Mt(e),Lt(r),Lt(i),Lt(p),Lt(b),Lt(A),Lt(L),Lt(V),Lt(H),Lt(re),Lt(E),Lt(y),Lt(B)}}}function hy(n,e,t){let r;sa(n,$n,b=>t(0,r=b));const s=b=>{try{ny.parse({year:Number(r.year),month:Number(r.month),day:Number(r.day),hour:Number(r.hour),minute:Number(r.minute),second:Number(r.second),[b.target.name]:Number(b.target.value)}),Qm(b.target.name,b.target.value)}catch(I){I instanceof rr.ZodError?console.error("Validation failed: ",I.issues[0]):console.error("Unexpected error: ",I)}};function i(b){n.$$.not_equal(r.year,b)&&(r.year=b,$n.set(r))}function o(b){n.$$.not_equal(r.month,b)&&(r.month=b,$n.set(r))}function a(b){n.$$.not_equal(r.day,b)&&(r.day=b,$n.set(r))}function u(b){n.$$.not_equal(r.hour,b)&&(r.hour=b,$n.set(r))}function p(b){n.$$.not_equal(r.minute,b)&&(r.minute=b,$n.set(r))}function m(b){n.$$.not_equal(r.second,b)&&(r.second=b,$n.set(r))}return[r,s,i,o,a,u,p,m]}class py extends mr{constructor(e){super(),pr(this,e,hy,dy,kn,{})}}function my(n){let e,t=(n[2]??n[0])+"",r;return{c(){e=We("h1"),r=Ln(t),Qe(e,"class","text-6xl font-bold accent-white")},m(s,i){Tt(s,e,i),Ce(e,r)},p(s,i){i&5&&t!==(t=(s[2]??s[0])+"")&&Nl(r,t)},i:$t,o:$t,d(s){s&&Mt(e)}}}function gy(n){let e,t;return e=new Ym({}),{c(){Dt(e.$$.fragment)},m(r,s){Ct(e,r,s),t=!0},p:$t,i(r){t||(Ue(e.$$.fragment,r),t=!0)},o(r){ze(e.$$.fragment,r),t=!1},d(r){Lt(e,r)}}}function yy(n){let e;return{c(){e=Ln("Get Closest Block")},m(t,r){Tt(t,e,r)},d(t){t&&Mt(e)}}}function wy(n){let e,t,r,s,i,o,a,u,p,m,b,I,M;const T=[gy,my],A=[];function x(L,P){return L[1]?0:1}return r=x(n),s=A[r]=T[r](n),m=new py({}),I=new Km({props:{class:"w-full max-w-60",$$slots:{default:[yy]},$$scope:{ctx:n}}}),I.$on("click",n[3]),{c(){e=We("main"),t=We("div"),s.c(),i=Nt(),o=We("p"),o.innerHTML=`I have limitations on how many requests I can make to the blockchain. For now i have 40k requests per day.
            Support me by donating to my address:
            <span class="text-lg">EuHCvFCAc1zwUVU2mpdmMyLX1f2bDMQJs64f1xH2BT51</span>`,a=Nt(),u=We("p"),u.textContent="Select date to get close slot for current date.",p=Nt(),Dt(m.$$.fragment),b=Nt(),Dt(I.$$.fragment),Qe(o,"class","my-5 text-center"),Qe(u,"class","my-2"),Qe(t,"class","container flex items-center column flex-col justify-center max-w-xl"),Qe(e,"class","flex align-middle column flex-col justify-center h-lvh bg-destructive-foreground w-full")},m(L,P){Tt(L,e,P),Ce(e,t),A[r].m(t,null),Ce(t,i),Ce(t,o),Ce(t,a),Ce(t,u),Ce(t,p),Ct(m,t,null),Ce(t,b),Ct(I,t,null),M=!0},p(L,[P]){let O=r;r=x(L),r===O?A[r].p(L,P):(oa(),ze(A[O],1,1,()=>{A[O]=null}),aa(),s=A[r],s?s.p(L,P):(s=A[r]=T[r](L),s.c()),Ue(s,1),s.m(t,i));const j={};P&256&&(j.$$scope={dirty:P,ctx:L}),I.$set(j)},i(L){M||(Ue(s),Ue(m.$$.fragment,L),Ue(I.$$.fragment,L),M=!0)},o(L){ze(s),ze(m.$$.fragment,L),ze(I.$$.fragment,L),M=!1},d(L){L&&Mt(e),A[r].d(),Lt(m),Lt(I)}}}const Uo=287043818;function by(n,e,t){let r;sa(n,$n,b=>t(5,r=b));const s=new Date("2024-09-01T00:00:00.000Z").getTime()/1e3;let i=new Date().getTime()/1e3,o=Uo,a=!1,u=null;const p=async()=>{t(0,o=await m())};async function m(){t(1,a=!0),t(2,u=null);const b=new Date;if(b.setUTCFullYear(r.year),b.setUTCMonth(r.month-1),b.setUTCDate(r.day),b.setUTCHours(r.hour),b.setUTCMinutes(r.minute),b.setUTCSeconds(r.second),i=parseInt(`${b.getTime()/1e3}`,10),console.log(i),console.log(b),isNaN(i))throw t(1,a=!1),t(2,u="Invalid date"),new Error("Invalid date");if(i>new Date().getTime()/1e3)throw t(1,a=!1),t(2,u="Target time is in the future"),new Error("Target time is in the future");if(Math.abs(s-i)<=10)return t(1,a=!1),t(2,u=null),Uo;let I=Uo,M=s;do{i<M?I=I-Math.floor((M-i)*2.3):I=Math.floor((i-M)*2.3)+I;let T=await N0(I);if(T)M=T;else throw t(1,a=!1),t(2,u="Error fetching block time"),new Error("Error fetching block time")}while(M!==i);return t(1,a=!1),I}return[o,a,u,p]}class vy extends mr{constructor(e){super(),pr(this,e,by,wy,kn,{})}}new vy({target:document.getElementById("app")});
